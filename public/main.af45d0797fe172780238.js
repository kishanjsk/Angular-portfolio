(self.webpackChunkportfolio_template=self.webpackChunkportfolio_template||[]).push([[179],{8255:dt=>{function Me($){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+$+"'");throw _.code="MODULE_NOT_FOUND",_})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,dt.exports=Me},7716:(dt,Me,$)=>{"use strict";$.d(Me,{deG:()=>bg,tb:()=>DD,AFp:()=>qy,ip1:()=>Gy,CZH:()=>ic,hGG:()=>KD,z2F:()=>xd,sBO:()=>kn,Sil:()=>ps,_Vd:()=>ll,EJc:()=>Id,SBq:()=>qs,qLn:()=>po,vpe:()=>ds,gxx:()=>Uh,tBr:()=>Li,XFs:()=>mt,OlP:()=>Cn,zs3:()=>pn,ZZ4:()=>cy,aQg:()=>Qi,soG:()=>Ho,YKP:()=>qr,v3s:()=>jD,h0i:()=>zu,PXZ:()=>FD,R0b:()=>Ji,FiY:()=>wi,Lbi:()=>Dd,g9A:()=>T0,Qsj:()=>Ep,FYo:()=>wp,JOm:()=>xo,Tiy:()=>uy,q3G:()=>sn,tp0:()=>To,EAV:()=>oA,Rgc:()=>vo,dDg:()=>$p,DyG:()=>Kl,q4F:()=>Xf,GfV:()=>jb,s_b:()=>fy,ifc:()=>ne,eFA:()=>Jy,G48:()=>WS,X6Q:()=>bl,_c5:()=>U1,VLi:()=>ND,c2e:()=>oc,zSh:()=>cm,wAp:()=>vt,vHH:()=>Ee,EiD:()=>hh,mCW:()=>ei,qzn:()=>At,JVY:()=>_u,pB0:()=>jv,eBb:()=>uf,L6k:()=>Ei,LAX:()=>Uv,cg1:()=>Qm,Tjo:()=>k1,kL8:()=>Bu,yhl:()=>vu,dqk:()=>rt,sIi:()=>zc,CqO:()=>nb,QGY:()=>eb,F4k:()=>tb,RDi:()=>Yt,AaK:()=>ee,z3N:()=>So,TTD:()=>kd,xp6:()=>Xv,uIk:()=>qh,Tol:()=>db,Suo:()=>tD,Xpm:()=>$n,lG2:()=>za,Yz7:()=>Ut,cJS:()=>Rt,oAB:()=>$a,Yjl:()=>Cl,Y36:()=>Ma,_UZ:()=>Lf,qZA:()=>Y_,TgZ:()=>Z_,Ikx:()=>Jn,LFG:()=>Sn,$8M:()=>Fi,NdJ:()=>Lm,CRH:()=>d0,oxw:()=>Vm,Q6J:()=>Fm,s9C:()=>jf,iGM:()=>eD,LSH:()=>_a,kYT:()=>Wa,YNc:()=>Kw,_uU:()=>gb,Oqu:()=>zm,hij:()=>Gf,AsE:()=>Km});var _=$(9765),me=$(5319),M=$(7574),Ce=$(6682),ye=$(8819);function oe(o){for(let s in o)if(o[s]===oe)return s;throw Error("Could not find renamed property on target object.")}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function J(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const z=oe({__forward_ref__:oe});function X(o){return o.__forward_ref__=X,o.toString=function(){return ee(this())},o}function V(o){return function(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===X}(o)?o():o}class Ee extends Error{constructor(s,u){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,u)),this.code=s}}function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function Ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}function Gn(o,s){const u=s?` in ${s}`:"";throw new Ee("201",`No provider for ${Ve(o)} found${u}`)}function _e(o,s){null==o&&function(o,s,u,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${u} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function Ut(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Rt(o){return{providers:o.providers||[],imports:o.imports||[]}}function ln(o){return wn(o,Un)||wn(o,Ga)}function wn(o,s){return o.hasOwnProperty(s)?o[s]:null}function Eo(o){return o&&(o.hasOwnProperty(gn)||o.hasOwnProperty(ys))?o[gn]:null}const Un=oe({\u0275prov:oe}),gn=oe({\u0275inj:oe}),Ga=oe({ngInjectableDef:oe}),ys=oe({ngInjectorDef:oe});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let mn;function er(o){const s=mn;return mn=o,s}function Js(o,s,u){const l=ln(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&mt.Optional?null:void 0!==s?s:void Gn(ee(o),"Injector")}function Zr(o){return{toString:o}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),ne=(()=>((ne=ne||{})[ne.Emulated=0]="Emulated",ne[ne.None=2]="None",ne[ne.ShadowDom=3]="ShadowDom",ne))();const de="undefined"!=typeof globalThis&&globalThis,Ne="undefined"!=typeof window&&window,Ze="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ue="undefined"!=typeof global&&global,rt=de||Ue||Ne||Ze,ot={},wt=[],Gt=oe({\u0275cmp:oe}),Et=oe({\u0275dir:oe}),Tt=oe({\u0275pipe:oe}),qn=oe({\u0275mod:oe}),Vn=oe({\u0275loc:oe}),fn=oe({\u0275fac:oe}),vr=oe({__NG_ELEMENT_ID__:oe});let lr=0;function $n(o){return Zr(()=>{const u={},l={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||wt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ne.Emulated,id:"c",styles:o.styles||wt,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,w=o.pipes;return l.id+=lr++,l.inputs=El(o.inputs,u),l.outputs=El(o.outputs),m&&m.forEach(E=>E(l)),l.directiveDefs=p?()=>("function"==typeof p?p():p).map(Xs):null,l.pipeDefs=w?()=>("function"==typeof w?w():w).map(qa):null,l})}function Xs(o){return Yn(o)||function(o){return o[Et]||null}(o)}function qa(o){return function(o){return o[Tt]||null}(o)}const cc={};function $a(o){return Zr(()=>{const s={type:o.type,bootstrap:o.bootstrap||wt,declarations:o.declarations||wt,imports:o.imports||wt,exports:o.exports||wt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(cc[o.id]=o.type),s})}function Wa(o,s){return Zr(()=>{const u=di(o,!0);u.declarations=s.declarations||wt,u.imports=s.imports||wt,u.exports=s.exports||wt})}function El(o,s){if(null==o)return ot;const u={};for(const l in o)if(o.hasOwnProperty(l)){let p=o[l],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=l,s&&(s[p]=m)}return u}const za=$n;function Cl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Yn(o){return o[Gt]||null}function di(o,s){const u=o[qn]||null;if(!u&&!0===s)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return u}function $o(o){return Array.isArray(o)&&"object"==typeof o[1]}function hi(o){return Array.isArray(o)&&!0===o[1]}function Nd(o){return 0!=(8&o.flags)}function lc(o){return 2==(2&o.flags)}function fc(o){return 1==(1&o.flags)}function to(o){return null!==o.template}function xi(o){return 0!=(512&o[2])}function ra(o,s){return o.hasOwnProperty(fn)?o[fn]:null}class pv{constructor(s,u,l){this.previousValue=s,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function kd(){return Tl}function Tl(o){return o.type.prototype.ngOnChanges&&(o.setInput=gv),ia}function ia(){const o=Sl(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===ot)o.previous=s;else for(let l in s)u[l]=s[l];o.current=null,this.ngOnChanges(s)}}function gv(o,s,u,l){const p=Sl(o)||function(o,s){return o[Xa]=s}(o,{previous:ot,current:null}),m=p.current||(p.current={}),w=p.previous,E=this.declaredInputs[u],I=w[E];m[E]=new pv(I&&I.currentValue,s,w===ot),o[l]=s}kd.ngInherit=!0;const Xa="__ngSimpleChanges__";function Sl(o){return o[Xa]||null}let Co;function Yt(o){Co=o}function xn(o){return!!o.listen}const Wo={createRenderer:(o,s)=>void 0!==Co?Co:"undefined"!=typeof document?document:void 0};function Pn(o){for(;Array.isArray(o);)o=o[0];return o}function eu(o,s){return Pn(s[o])}function Yr(o,s){return Pn(s[o.index])}function Ol(o,s){return o.data[s]}function Jr(o,s){const u=s[o];return $o(u)?u:u[0]}function tu(o){return 4==(4&o[2])}function Bd(o){return 128==(128&o[2])}function sa(o,s){return null==s?null:o[s]}function rg(o){o[18]=0}function Hd(o,s){o[5]+=s;let u=o,l=o[3];for(;null!==l&&(1===s&&1===u[5]||-1===s&&0===u[5]);)l[5]+=s,u=l,l=l[3]}const Xe={lFrame:_v(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nu(){return Xe.bindingsEnabled}function ve(){return Xe.lFrame.lView}function Jt(){return Xe.lFrame.tView}function Rn(){let o=En();for(;null!==o&&64===o.type;)o=o.parent;return o}function En(){return Xe.lFrame.currentTNode}function Pi(o,s){const u=Xe.lFrame;u.currentTNode=o,u.isParent=s}function iu(){return Xe.lFrame.isParent}function pc(){return Xe.isInCheckNoChangesMode}function Rl(o){Xe.isInCheckNoChangesMode=o}function gi(){return Xe.lFrame.bindingIndex++}function Ur(o){const s=Xe.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function Nl(o,s){const u=Xe.lFrame;u.bindingIndex=u.bindingRootIndex=o,qd(s)}function qd(o){Xe.lFrame.currentDirectiveIndex=o}function cg(){return Xe.lFrame.currentQueryIndex}function gc(o){Xe.lFrame.currentQueryIndex=o}function lg(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Fl(o,s,u){if(u&mt.SkipSelf){let p=s,m=o;for(;!(p=p.parent,null!==p||u&mt.Host||(p=lg(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;s=p,o=m}const l=Xe.lFrame=Ul();return l.currentTNode=s,l.lView=o,!0}function Ll(o){const s=Ul(),u=o[1];Xe.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Ul(){const o=Xe.lFrame,s=null===o?null:o.child;return null===s?_v(o):s}function _v(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function mc(){const o=Xe.lFrame;return Xe.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fg=mc;function ou(){const o=mc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function nr(){return Xe.lFrame.selectedIndex}function Mi(o){Xe.lFrame.selectedIndex=o}function Mn(){const o=Xe.lFrame;return Ol(o.tView,o.selectedIndex)}function jl(o,s){for(let u=s.directiveStart,l=s.directiveEnd;u<l;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:P}=m;w&&(o.contentHooks||(o.contentHooks=[])).push(-u,w),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),A&&((o.viewHooks||(o.viewHooks=[])).push(u,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,A)),null!=P&&(o.destroyHooks||(o.destroyHooks=[])).push(u,P)}}function su(o,s,u){Vl(o,s,3,u)}function jr(o,s,u,l){(3&o[2])===u&&Vl(o,s,u,l)}function yc(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function Vl(o,s,u,l){const m=null!=l?l:-1,w=s.length-1;let E=0;for(let I=void 0!==l?65535&o[18]:0;I<w;I++)if("number"==typeof s[I+1]){if(E=s[I],null!=l&&E>=l)break}else s[I]<0&&(o[18]+=65536),(E<m||-1==m)&&(Wd(o,u,s,I),o[18]=(4294901760&o[18])+I+2),I++}function Wd(o,s,u,l){const p=u[l]<0,m=u[l+1],E=o[p?-u[l]:u[l]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class vc{constructor(s,u,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function aa(o,s,u){const l=xn(o);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const w=u[p++],E=u[p++],I=u[p++];l?o.setAttribute(s,E,I,w):s.setAttributeNS(w,E,I)}else{const w=m,E=u[++p];oo(w)?l&&o.setProperty(s,w,E):l?o.setAttribute(s,w,E):s.setAttribute(w,E),p++}}return p}function ua(o){return 3===o||4===o||6===o}function oo(o){return 64===o.charCodeAt(0)}function ca(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let l=0;l<s.length;l++){const p=s[l];"number"==typeof p?u=p:0===u||bs(o,u,p,null,-1===u||2===u?s[++l]:null)}}return o}function bs(o,s,u,l,p){let m=0,w=o.length;if(-1===s)w=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){w=-1;break}if(E>s){w=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===u){if(null===l)return void(null!==p&&(o[m+1]=p));if(l===o[m+1])return void(o[m+2]=p)}m++,null!==l&&m++,null!==p&&m++}-1!==w&&(o.splice(w,0,s),m=w+1),o.splice(m++,0,u),null!==l&&o.splice(m++,0,l),null!==p&&o.splice(m++,0,p)}function au(o){return-1!==o}function la(o){return 32767&o}function mi(o,s){let u=function(o){return o>>16}(o),l=s;for(;u>0;)l=l[15],u--;return l}let uu=!0;function cu(o){const s=uu;return uu=o,s}let Dv=0;function ha(o,s){const u=ht(o,s);if(-1!==u)return u;const l=s[1];l.firstCreatePass&&(o.injectorIndex=s.length,pa(l.data,o),pa(s,null),pa(l.blueprint,null));const p=dr(o,s),m=o.injectorIndex;if(au(p)){const w=la(p),E=mi(p,s),I=E[1].data;for(let A=0;A<8;A++)s[m+A]=E[w+A]|I[w+A]}return s[m+8]=p,m}function pa(o,s){o.push(0,0,0,0,0,0,0,0,s)}function ht(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function dr(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,l=null,p=s;for(;null!==p;){const m=p[1],w=m.type;if(l=2===w?m.declTNode:1===w?p[6]:null,null===l)return-1;if(u++,p=p[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function rr(o,s,u){!function(o,s,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(vr)&&(l=u[vr]),null==l&&(l=u[vr]=Dv++);const p=255&l;s.data[o+(p>>5)]|=1<<p}(o,s,u)}function Vr(o,s,u){if(u&mt.Optional)return o;Gn(s,"NodeInjector")}function yi(o,s,u,l){if(u&mt.Optional&&void 0===l&&(l=null),0==(u&(mt.Self|mt.Host))){const p=o[9],m=er(void 0);try{return p?p.get(s,l,u&mt.Optional):Js(s,l,u&mt.Optional)}finally{er(m)}}return Vr(l,s,u)}function gg(o,s,u,l=mt.Default,p){if(null!==o){const m=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(vr)?o[vr]:void 0;return"number"==typeof s?s>=0?255&s:Ct:s}(u);if("function"==typeof m){if(!Fl(s,o,l))return l&mt.Host?Vr(p,u,l):yi(s,u,l,p);try{const w=m(l);if(null!=w||l&mt.Optional)return w;Gn(u)}finally{fg()}}else if("number"==typeof m){let w=null,E=ht(o,s),I=-1,A=l&mt.Host?s[16][6]:null;for((-1===E||l&mt.SkipSelf)&&(I=-1===E?dr(o,s):s[E+8],-1!==I&&vg(l,!1)?(w=s[1],E=la(I),s=mi(I,s)):E=-1);-1!==E;){const P=s[1];if(yg(m,E,P.data)){const F=Zd(E,s,u,w,l,A);if(F!==mg)return F}I=s[E+8],-1!==I&&vg(l,s[1].data[E+8]===A)&&yg(m,E,s)?(w=P,E=la(I),s=mi(I,s)):E=-1}}}return yi(s,u,l,p)}const mg={};function Ct(){return new du(Rn(),ve())}function Zd(o,s,u,l,p,m){const w=s[1],E=w.data[o+8],P=fu(E,w,u,null==l?lc(E)&&uu:l!=w&&0!=(3&E.type),p&mt.Host&&m===E);return null!==P?vi(s,w,P,E):mg}function fu(o,s,u,l,p){const m=o.providerIndexes,w=s.data,E=1048575&m,I=o.directiveStart,P=m>>20,B=p?E+P:o.directiveEnd;for(let Q=l?E:E+P;Q<B;Q++){const re=w[Q];if(Q<I&&u===re||Q>=I&&re.type===u)return Q}if(p){const Q=w[I];if(Q&&to(Q)&&Q.type===u)return I}return null}function vi(o,s,u,l){let p=o[u];const m=s.data;if(function(o){return o instanceof vc}(p)){const w=p;w.resolving&&function(o,s){throw new Ee("200",`Circular dependency in DI detected for ${o}`)}(Ve(m[u]));const E=cu(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?er(w.injectImpl):null;Fl(o,l,mt.Default);try{p=o[u]=w.factory(void 0,m,o,l),s.firstCreatePass&&u>=l.directiveStart&&function(o,s,u){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:m}=s.type.prototype;if(l){const w=Tl(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],s)}finally{null!==I&&er(I),cu(E),w.resolving=!1,fg()}}return p}function yg(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function vg(o,s){return!(o&mt.Self||o&mt.Host&&s)}class du{constructor(s,u){this._tNode=s,this._lView=u}get(s,u){return gg(this._tNode,this._lView,s,void 0,u)}}function Fi(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const l=u.length;let p=0;for(;p<l;){const m=u[p];if(ua(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<l&&"string"==typeof u[p];)p++;else{if(m===s)return u[p+1];p+=2}}}return null}(Rn(),o)}const Yo="__parameters__";function Jo(o,s,u){return Zr(()=>{const l=function(o){return function(...u){if(o){const l=o(...u);for(const p in l)this[p]=l[p]}}}(s);function p(...m){if(this instanceof p)return l.apply(this,m),this;const w=new p(...m);return E.annotation=w,E;function E(I,A,P){const F=I.hasOwnProperty(Yo)?I[Yo]:Object.defineProperty(I,Yo,{value:[]})[Yo];for(;F.length<=P;)F.push(null);return(F[P]=F[P]||[]).push(w),I}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class Cn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ut({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bg=new Cn("AnalyzeForEntryComponents"),Kl=Function;function Xr(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let l=o[u];Array.isArray(l)?(s===o&&(s=o.slice(0,u)),Xr(l,s)):s!==o&&s.push(l)}return s}function so(o,s){o.forEach(u=>Array.isArray(u)?so(u,s):s(u))}function gu(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function Es(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function zn(o,s,u){let l=Er(o,s);return l>=0?o[1|l]=u:(l=~l,function(o,s,u,l){let p=o.length;if(p==s)o.push(u,l);else if(1===p)o.push(l,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>s;)o[p]=o[p-2],p--;o[s]=u,o[s+1]=l}}(o,l,s,u)),l}function Ql(o,s){const u=Er(o,s);if(u>=0)return o[1|u]}function Er(o,s){return function(o,s,u){let l=0,p=o.length>>u;for(;p!==l;){const m=l+(p-l>>1),w=o[m<<u];if(s===w)return m<<u;w>s?p=m:l=m+1}return~(p<<u)}(o,s,1)}const Yl={},_i="__NG_DI_FLAG__",bi="ngTempTokenPath",oh=/\n/gm,yu="__source",Is=oe({provide:String,useValue:oe});let Dn;function es(o){const s=Dn;return Dn=o,s}function Mv(o,s=mt.Default){if(void 0===Dn)throw new Error("inject() must be called from an injection context");return null===Dn?Js(o,void 0,s):Dn.get(o,s&mt.Optional?null:void 0,s)}function Sn(o,s=mt.Default){return(mn||Mv)(V(o),s)}function Ts(o){const s=[];for(let u=0;u<o.length;u++){const l=V(o[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let p,m=mt.Default;for(let w=0;w<l.length;w++){const E=l[w],I=As(E);"number"==typeof I?-1===I?p=E.token:m|=I:p=E}s.push(Sn(p,m))}else s.push(Sn(l))}return s}function Ss(o,s){return o[_i]=s,o.prototype[_i]=s,o}function As(o){return o[_i]}function Io(o,s,u,l){const p=o[bi];throw s[yu]&&p.unshift(s[yu]),o.message=function(o,s,u,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=ee(s);if(Array.isArray(s))p=s.map(ee).join(" -> ");else if("object"==typeof s){let m=[];for(let w in s)if(s.hasOwnProperty(w)){let E=s[w];m.push(w+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}p=`{${m.join(", ")}}`}return`${u}${l?"("+l+")":""}[${p}]: ${o.replace(oh,"\n  ")}`}("\n"+o.message,p,u,l),o.ngTokenPath=p,o[bi]=null,o}const Li=Ss(Jo("Inject",o=>({token:o})),-1),wi=Ss(Jo("Optional"),8),To=Ss(Jo("SkipSelf"),4);let Dc;function Ui(o){var s;return(null===(s=function(){if(void 0===Dc&&(Dc=null,rt.trustedTypes))try{Dc=rt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Dc}())||void 0===s?void 0:s.createHTML(o))||o}class ji{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class co extends ji{getTypeName(){return"HTML"}}class Sc extends ji{getTypeName(){return"Style"}}class Lv extends ji{getTypeName(){return"Script"}}class xg extends ji{getTypeName(){return"URL"}}class af extends ji{getTypeName(){return"ResourceURL"}}function So(o){return o instanceof ji?o.changingThisBreaksApplicationSecurity:o}function At(o,s){const u=vu(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function vu(o){return o instanceof ji&&o.getTypeName()||null}function _u(o){return new co(o)}function Ei(o){return new Sc(o)}function uf(o){return new Lv(o)}function Uv(o){return new xg(o)}function jv(o){return new af(o)}class Vi{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ui(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ci{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ui(s),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Ui(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const u=s.attributes;for(let p=u.length-1;0<p;p--){const w=u.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&s.removeAttribute(w)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Pg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ei(o){return(o=String(o)).match(Pg)||o.match(Cr)?o:"unsafe:"+o}function lo(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Ao(...o){const s={};for(const u of o)for(const l in u)u.hasOwnProperty(l)&&(s[l]=!0);return s}const cf=lo("area,br,col,hr,img,wbr"),Mg=lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lf=lo("rp,rt"),bu=Ao(cf,Ao(Mg,lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ao(lf,lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ao(lf,Mg)),fo=lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zt=lo("srcset"),ts=Ao(fo,zt,lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vv=lo("script,style,template");class fh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!bu.hasOwnProperty(u))return this.sanitizedSomething=!0,!Vv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=s.attributes;for(let p=0;p<l.length;p++){const m=l.item(p),w=m.name,E=w.toLowerCase();if(!ts.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=m.value;fo[E]&&(I=ei(I)),zt[E]&&(o=I,I=(o=String(o)).split(",").map(s=>ei(s.trim())).join(", ")),this.buf.push(" ",w,'="',wu(I),'"')}var o;return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();bu.hasOwnProperty(u)&&!cf.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(wu(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const Ng=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dh=/([^\#-~ |!])/g;function wu(o){return o.replace(/&/g,"&amp;").replace(Ng,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(dh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Os;function hh(o,s){let u=null;try{Os=Os||function(o){const s=new Ci(o);return function(){try{return!!(new window.DOMParser).parseFromString(Ui(""),"text/html")}catch(o){return!1}}()?new Vi(s):s}(o);let l=s?String(s):"";u=Os.getInertBodyElement(l);let p=5,m=l;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,l=m,m=u.innerHTML,u=Os.getInertBodyElement(l)}while(l!==m);return Ui((new fh).sanitizeChildren(Eu(u)||u))}finally{if(u){const l=Eu(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Eu(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function _a(o){const s=function(){const o=ve();return o&&o[12]}();return s?s.sanitize(sn.URL,o)||"":At(o,"URL")?So(o):ei(qe(o))}const Oo="__ngContext__";function Kn(o,s){o[Oo]=s}function Pc(o){const s=function(o){return o[Oo]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Ca(o){return o.ngOriginalError}function mf(o,...s){o.error(...s)}class po{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),l=this._findContext(s),p=(o=s)&&o.ngErrorLogger||mf;var o;p(this._console,"ERROR",s),u&&p(this._console,"ORIGINAL ERROR",u),l&&p(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Ca(s)):null}_findOriginalError(s){let u=s&&Ca(s);for(;u&&Ca(u);)u=Ca(u);return u||null}}const yh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function Bi(o){return o instanceof Function?o():o}var xo=(()=>((xo=xo||{})[xo.Important=1]="Important",xo[xo.DashCase=2]="DashCase",xo))();function _h(o,s){return undefined(o,s)}function Ia(o){const s=o[3];return hi(s)?s[3]:s}function wh(o){return ti(o[13])}function Ta(o){return ti(o[4])}function ti(o){for(;null!==o&&!hi(o);)o=o[4];return o}function Ms(o,s,u,l,p){if(null!=l){let m,w=!1;hi(l)?m=l:$o(l)&&(w=!0,l=l[0]);const E=Pn(l);0===o&&null!==u?null==p?Zg(s,u,E):rs(s,u,E,p||null,!0):1===o&&null!==u?rs(s,u,E,p||null,!0):2===o?function(o,s,u){const l=wf(o,s);l&&function(o,s,u,l){xn(o)?o.removeChild(s,u,l):s.removeChild(u)}(o,l,s,u)}(s,E,w):3===o&&s.destroyNode(E),null!=m&&function(o,s,u,l,p){const m=u[7];m!==Pn(u)&&Ms(s,o,l,m,p);for(let E=10;E<u.length;E++){const I=u[E];Vc(I[1],I,o,s,l,m)}}(s,o,m,u,p)}}function Eh(o,s,u){return xn(o)?o.createElement(s,u):null===u?o.createElement(s):o.createElementNS(u,s)}function Ch(o,s){const u=o[9],l=u.indexOf(s),p=s[3];1024&s[2]&&(s[2]&=-1025,Hd(p,-1)),u.splice(l,1)}function Mu(o,s){if(o.length<=10)return;const u=10+s,l=o[u];if(l){const p=l[17];null!==p&&p!==o&&Ch(p,l),s>0&&(o[u-1][4]=l[4]);const m=Es(o,10+s);!function(o,s){Vc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const w=m[19];null!==w&&w.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Dh(o,s){if(!(256&s[2])){const u=s[11];xn(u)&&u.destroyNode&&Vc(o,s,u,3,null,null),function(o){let s=o[13];if(!s)return Ih(o[1],o);for(;s;){let u=null;if($o(s))u=s[13];else{const l=s[10];l&&(u=l)}if(!u){for(;s&&!s[4]&&s!==o;)$o(s)&&Ih(s[1],s),s=s[3];null===s&&(s=o),$o(s)&&Ih(s[1],s),u=s&&s[4]}s=u}}(s)}}function Ih(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let l=0;l<u.length;l+=2){const p=s[u[l]];if(!(p instanceof vc)){const m=u[l+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const E=p[m[w]],I=m[w+1];try{I.call(E)}finally{}}else try{m.call(p)}finally{}}}}(o,s),function(o,s){const u=o.cleanup,l=s[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const w=u[m+1],E="function"==typeof w?w(s):Pn(s[w]),I=l[p=u[m+2]],A=u[m+3];"boolean"==typeof A?E.removeEventListener(u[m],I,A):A>=0?l[p=A]():l[p=-A].unsubscribe(),m+=2}else{const w=l[p=u[m+1]];u[m].call(w)}if(null!==l){for(let m=p+1;m<l.length;m++)l[m]();s[7]=null}}(o,s),1===s[1].type&&xn(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&hi(s[3])){u!==s[3]&&Ch(u,s);const l=s[19];null!==l&&l.detachView(o)}}}function Ns(o,s,u){return function(o,s,u){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return u[0];if(2&l.flags){const p=o.data[l.directiveStart].encapsulation;if(p===ne.None||p===ne.Emulated)return null}return Yr(l,u)}(o,s.parent,u)}function rs(o,s,u,l,p){xn(o)?o.insertBefore(s,u,l,p):s.insertBefore(u,l,p)}function Zg(o,s,u){xn(o)?o.appendChild(s,u):s.appendChild(u)}function Th(o,s,u,l,p){null!==l?rs(o,s,u,l,p):Zg(o,s,u)}function wf(o,s){return xn(o)?o.parentNode(s):s.parentNode}let Nu=function(o,s,u){return 40&o.type?Yr(o,u):null};function ks(o,s,u,l){const p=Ns(o,l,s),m=s[11],E=function(o,s,u){return Nu(o,s,u)}(l.parent||s[6],l,s);if(null!=p)if(Array.isArray(u))for(let I=0;I<u.length;I++)Th(m,p,u[I],E,!1);else Th(m,p,u,E,!1)}function Ef(o,s){if(null!==s){const u=s.type;if(3&u)return Yr(s,o);if(4&u)return Ah(-1,o[s.index]);if(8&u){const l=s.child;if(null!==l)return Ef(o,l);{const p=o[s.index];return hi(p)?Ah(-1,p):Pn(p)}}if(32&u)return _h(s,o)()||Pn(o[s.index]);{const l=Xg(o,s);return null!==l?Array.isArray(l)?l[0]:Ef(Ia(o[16]),l):Ef(o,s.next)}}return null}function Xg(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Ah(o,s){const u=10+o+1;if(u<s.length){const l=s[u],p=l[1].firstChild;if(null!==p)return Ef(l,p)}return s[7]}function Oh(o,s,u,l,p,m,w){for(;null!=u;){const E=l[u.index],I=u.type;if(w&&0===s&&(E&&Kn(Pn(E),l),u.flags|=4),64!=(64&u.flags))if(8&I)Oh(o,s,u.child,l,p,m,!1),Ms(s,o,p,E,m);else if(32&I){const A=_h(u,l);let P;for(;P=A();)Ms(s,o,p,P,m);Ms(s,o,p,E,m)}else 16&I?h(o,s,l,u,p,m):Ms(s,o,p,E,m);u=w?u.projectionNext:u.next}}function Vc(o,s,u,l,p,m){Oh(u,l,o.firstChild,s,p,m,!1)}function h(o,s,u,l,p,m){const w=u[16],I=w[6].projection[l.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)Ms(s,o,p,I[A],m);else Oh(o,s,I,w[3],p,m,!0)}function v(o,s,u){xn(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function C(o,s,u){xn(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function T(o,s,u){let l=o.length;for(;;){const p=o.indexOf(s,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=s.length;if(p+m===l||o.charCodeAt(p+m)<=32)return p}u=p+1}}const k="ng-template";function j(o,s,u){let l=0;for(;l<o.length;){let p=o[l++];if(u&&"class"===p){if(p=o[l],-1!==T(p.toLowerCase(),s,0))return!0}else if(1===p){for(;l<o.length&&"string"==typeof(p=o[l++]);)if(p.toLowerCase()===s)return!0;return!1}}return!1}function H(o){return 4===o.type&&o.value!==k}function W(o,s,u){return s===(4!==o.type||u?o.value:k)}function ce(o,s,u){let l=4;const p=o.attrs||[],m=function(o){for(let s=0;s<o.length;s++)if(ua(o[s]))return s;return o.length}(p);let w=!1;for(let E=0;E<s.length;E++){const I=s[E];if("number"!=typeof I){if(!w)if(4&l){if(l=2|1&l,""!==I&&!W(o,I,u)||""===I&&1===s.length){if(ge(l))return!1;w=!0}}else{const A=8&l?I:s[++E];if(8&l&&null!==o.attrs){if(!j(o.attrs,A,u)){if(ge(l))return!1;w=!0}continue}const F=ke(8&l?"class":I,p,H(o),u);if(-1===F){if(ge(l))return!1;w=!0;continue}if(""!==A){let B;B=F>m?"":p[F+1].toLowerCase();const Q=8&l?B:null;if(Q&&-1!==T(Q,A,0)||2&l&&A!==B){if(ge(l))return!1;w=!0}}}}else{if(!w&&!ge(l)&&!ge(I))return!1;if(w&&ge(I))continue;w=!1,l=I|1&l}}return ge(l)||w}function ge(o){return 0==(1&o)}function ke(o,s,u,l){if(null===s)return-1;let p=0;if(l||!u){let m=!1;for(;p<s.length;){const w=s[p];if(w===o)return p;if(3===w||6===w)m=!0;else{if(1===w||2===w){let E=s[++p];for(;"string"==typeof E;)E=s[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=m?1:2}return-1}return function(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const l=o[u];if("number"==typeof l)return-1;if(l===s)return u;u++}return-1}(s,o)}function We(o,s,u=!1){for(let l=0;l<s.length;l++)if(ce(o,s[l],u))return!0;return!1}function Di(o,s){return o?":not("+s.trim()+")":s}function Cf(o){let s=o[0],u=1,l=2,p="",m=!1;for(;u<o.length;){let w=o[u];if("string"==typeof w)if(2&l){const E=o[++u];p+="["+w+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?p+="."+w:4&l&&(p+=" "+w);else""!==p&&!ge(w)&&(s+=Di(m,p),p=""),l=w,m=m||!ge(l);u++}return""!==p&&(s+=Di(m,p)),s}const Ot={};function Xv(o){ow(Jt(),ve(),nr()+o,pc())}function ow(o,s,u,l){if(!l)if(3==(3&s[2])){const m=o.preOrderCheckHooks;null!==m&&su(s,m,u)}else{const m=o.preOrderHooks;null!==m&&jr(s,m,0,u)}Mi(u)}function Sa(o,s){return o<<17|s<<2}function is(o){return o>>17&32767}function e_(o){return 2|o}function Fs(o){return(131068&o)>>2}function t_(o,s){return-131069&o|s<<2}function Br(o){return 1|o}function dw(o,s){const u=o.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const p=u[l],m=u[l+1];if(-1!==m){const w=o.data[m];gc(p),w.contentQueries(2,s[m],m)}}}function Mh(o,s,u,l,p,m,w,E,I,A){const P=s.blueprint.slice();return P[0]=p,P[2]=140|l,rg(P),P[3]=P[15]=o,P[8]=u,P[10]=w||o&&o[10],P[11]=E||o&&o[11],P[12]=I||o&&o[12]||null,P[9]=A||o&&o[9]||null,P[6]=m,P[16]=2==s.type?o[16]:P,P}function Df(o,s,u,l,p){let m=o.data[s];if(null===m)m=function(o,s,u,l,p){const m=En(),w=iu(),I=o.data[s]=function(o,s,u,l,p,m){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,u,s,l,p);return null===o.firstChild&&(o.firstChild=I),null!==m&&(w?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,s,u,l,p),Xe.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=l,m.attrs=p;const w=function(){const o=Xe.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Pi(m,!0),m}function Kt(o,s,u,l){if(0===u)return-1;const p=s.length;for(let m=0;m<u;m++)s.push(l),o.blueprint.push(l),o.data.push(null);return p}function om(o,s,u){Ll(s);try{const l=o.viewQuery;null!==l&&xe(1,l,u);const p=o.template;null!==p&&hw(o,s,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&dw(o,s),o.staticViewQueries&&xe(2,o.viewQuery,u);const m=o.components;null!==m&&function(o,s){for(let u=0;u<s.length;u++)BI(o,s[u])}(s,m)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[2]&=-5,ou()}}function Gi(o,s,u,l){const p=s[2];if(256==(256&p))return;Ll(s);const m=pc();try{rg(s),function(o){Xe.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&hw(o,s,u,2,l);const w=3==(3&p);if(!m)if(w){const A=o.preOrderCheckHooks;null!==A&&su(s,A,null)}else{const A=o.preOrderHooks;null!==A&&jr(s,A,0,null),yc(s,0)}if(function(o){for(let s=wh(o);null!==s;s=Ta(s)){if(!s[2])continue;const u=s[9];for(let l=0;l<u.length;l++){const p=u[l],m=p[3];0==(1024&p[2])&&Hd(m,1),p[2]|=1024}}}(s),function(o){for(let s=wh(o);null!==s;s=Ta(s))for(let u=10;u<s.length;u++){const l=s[u],p=l[1];Bd(l)&&Gi(p,l,p.template,l[8])}}(s),null!==o.contentQueries&&dw(o,s),!m)if(w){const A=o.contentCheckHooks;null!==A&&su(s,A)}else{const A=o.contentHooks;null!==A&&jr(s,A,1),yc(s,1)}!function(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const p=u[l];if(p<0)Mi(~p);else{const m=p,w=u[++l],E=u[++l];Nl(w,m),E(2,s[m])}}}finally{Mi(-1)}}(o,s);const E=o.components;null!==E&&function(o,s){for(let u=0;u<s.length;u++)Sw(o,s[u])}(s,E);const I=o.viewQuery;if(null!==I&&xe(2,I,l),!m)if(w){const A=o.viewCheckHooks;null!==A&&su(s,A)}else{const A=o.viewHooks;null!==A&&jr(s,A,2),yc(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Hd(s[3],-1))}finally{ou()}}function OI(o,s,u,l){const p=s[10],m=!pc(),w=tu(s);try{m&&!w&&p.begin&&p.begin(),w&&om(o,s,l),Gi(o,s,u,l)}finally{m&&!w&&p.end&&p.end()}}function hw(o,s,u,l,p){const m=nr(),w=2&l;try{Mi(-1),w&&s.length>20&&ow(o,s,20,pc()),u(l,p)}finally{Mi(m)}}function l_(o,s,u){!nu()||(function(o,s,u,l){const p=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||ha(u,s),Kn(l,s);const w=u.initialInputs;for(let E=p;E<m;E++){const I=o.data[E],A=to(I);A&&LI(s,u,I);const P=vi(s,o,E,u);Kn(P,s),null!==w&&UI(0,E-p,P,I,0,w),A&&(Jr(u.index,s)[8]=P)}}(o,s,u,Yr(u,s)),128==(128&u.flags)&&function(o,s,u){const l=u.directiveStart,p=u.directiveEnd,w=u.index,E=Xe.lFrame.currentDirectiveIndex;try{Mi(w);for(let I=l;I<p;I++){const A=o.data[I],P=s[I];qd(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&m_(A,P)}}finally{Mi(-1),qd(E)}}(o,s,u))}function Nh(o,s,u=Yr){const l=s.localNames;if(null!==l){let p=s.index+1;for(let m=0;m<l.length;m+=2){const w=l[m+1],E=-1===w?u(s,o):o[w];o[p++]=E}}}function gw(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=kh(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function kh(o,s,u,l,p,m,w,E,I,A){const P=20+l,F=P+p,B=function(o,s){const u=[];for(let l=0;l<s;l++)u.push(l<o?null:Ot);return u}(P,F),Q="function"==typeof A?A():A;return B[1]={type:o,blueprint:B,template:u,queries:null,viewQuery:E,declTNode:s,data:B.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:Q,incompleteFirstPass:!1}}function h_(o,s,u,l){const p=qI(s);null===u?p.push(l):(p.push(u),o.firstCreatePass&&b_(o).push(l,p.length-1))}function p_(o,s,u){for(let l in o)if(o.hasOwnProperty(l)){const p=o[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(s,p):u[l]=[s,p]}return u}function Po(o,s,u,l,p,m,w,E){const I=Yr(s,u);let P,A=s.inputs;!E&&null!=A&&(P=A[l])?(WI(o,u,P,l,p),lc(s)&&function(o,s){const u=Jr(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(l=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),p=null!=w?w(p,s.value||"",l):p,xn(m)?m.setProperty(I,l,p):oo(l)||(I.setProperty?I.setProperty(l,p):I[l]=p))}function Hc(o,s,u,l){let p=!1;if(nu()){const m=function(o,s,u){const l=o.directiveRegistry;let p=null;if(l)for(let m=0;m<l.length;m++){const w=l[m];We(u,w.selectors,!1)&&(p||(p=[]),rr(ha(u,s),o,w.type),to(w)?(y_(o,u),p.unshift(w)):p.push(w))}return p}(o,s,u),w=null===l?null:{"":-1};if(null!==m){p=!0,Iw(u,o.data.length,m.length);for(let P=0;P<m.length;P++){const F=m[P];F.providersResolver&&F.providersResolver(F)}let E=!1,I=!1,A=Kt(o,s,m.length,null);for(let P=0;P<m.length;P++){const F=m[P];u.mergedAttrs=ca(u.mergedAttrs,F.hostAttrs),v_(o,u,s,A,F),FI(A,F,w),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const B=F.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),A++}!function(o,s){const l=s.directiveEnd,p=o.data,m=s.attrs,w=[];let E=null,I=null;for(let A=s.directiveStart;A<l;A++){const P=p[A],F=P.inputs,B=null===m||H(s)?null:Tw(F,m);w.push(B),E=p_(F,A,E),I=p_(P.outputs,A,I)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=w,s.inputs=E,s.outputs=I}(o,u)}w&&function(o,s,u){if(s){const l=o.localNames=[];for(let p=0;p<s.length;p+=2){const m=u[s[p+1]];if(null==m)throw new Ee("301",`Export of name '${s[p+1]}' not found!`);l.push(s[p],m)}}}(u,l,w)}return u.mergedAttrs=ca(u.mergedAttrs,u.attrs),p}function Ew(o,s,u,l,p,m){const w=m.hostBindings;if(w){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const I=~s.index;(function(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(E)!=I&&E.push(I),E.push(l,p,w)}}function m_(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function y_(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function FI(o,s,u){if(u){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)u[s.exportAs[l]]=o;to(s)&&(u[""]=o)}}function Iw(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function v_(o,s,u,l,p){o.data[l]=p;const m=p.factory||(p.factory=ra(p.type)),w=new vc(m,to(p),null);o.blueprint[l]=w,u[l]=w,Ew(o,s,0,l,Kt(o,u,p.hostVars,Ot),p)}function LI(o,s,u){const l=Yr(s,o),p=gw(u),m=o[10],w=am(o,Mh(o,p,null,u.onPush?64:16,l,s,m,m.createRenderer(l,u),null,null));o[s.index]=w}function Us(o,s,u,l,p,m){const w=Yr(o,s);!function(o,s,u,l,p,m,w){if(null==m)xn(o)?o.removeAttribute(s,p,u):s.removeAttribute(p);else{const E=null==w?qe(m):w(m,l||"",p);xn(o)?o.setAttribute(s,p,E,u):u?s.setAttributeNS(u,p,E):s.setAttribute(p,E)}}(s[11],w,m,o.value,u,l,p)}function UI(o,s,u,l,p,m){const w=m[s];if(null!==w){const E=l.setInput;for(let I=0;I<w.length;){const A=w[I++],P=w[I++],F=w[I++];null!==E?l.setInput(u,F,A,P):u[P]=F}}}function Tw(o,s){let u=null,l=0;for(;l<s.length;){const p=s[l];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],s[l+1])),l+=2}else l+=2;else l+=4}return u}function __(o,s,u,l){return new Array(o,!0,!1,s,null,0,l,u,null,null)}function Sw(o,s){const u=Jr(s,o);if(Bd(u)){const l=u[1];80&u[2]?Gi(l,u,l.template,u[8]):u[5]>0&&If(u)}}function If(o){for(let l=wh(o);null!==l;l=Ta(l))for(let p=10;p<l.length;p++){const m=l[p];if(1024&m[2]){const w=m[1];Gi(w,m,w.template,m[8])}else m[5]>0&&If(m)}const u=o[1].components;if(null!==u)for(let l=0;l<u.length;l++){const p=Jr(u[l],o);Bd(p)&&p[5]>0&&If(p)}}function BI(o,s){const u=Jr(s,o),l=u[1];(function(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(l,u),om(l,u,u[8])}function am(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Lh(o){for(;o;){o[2]|=64;const s=Ia(o);if(xi(o)&&!s)return o;o=s}return null}function Aw(o,s,u){const l=s[10];l.begin&&l.begin();try{Gi(o,s,o.template,u)}catch(p){throw $I(s,p),p}finally{l.end&&l.end()}}function GI(o){!function(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],l=Pc(u),p=l[1];OI(p,l,p.template,u)}}(o[8])}function xe(o,s,u){gc(0),s(o,u)}const Ow=(()=>Promise.resolve(null))();function qI(o){return o[7]||(o[7]=[])}function b_(o){return o.cleanup||(o.cleanup=[])}function $I(o,s){const u=o[9],l=u?u.get(po,null):null;l&&l.handleError(s)}function WI(o,s,u,l,p){for(let m=0;m<u.length;){const w=u[m++],E=u[m++],I=s[w],A=o.data[w];null!==A.setInput?A.setInput(I,p,l,E):I[E]=p}}function bn(o,s,u){const l=eu(s,o);!function(o,s,u){xn(o)?o.setValue(s,u):s.textContent=u}(o[11],l,u)}function qc(o,s,u){let l=u?o.styles:null,p=u?o.classes:null,m=0;if(null!==s)for(let w=0;w<s.length;w++){const E=s[w];"number"==typeof E?m=E:1==m?p=J(p,E):2==m&&(l=J(l,E+": "+s[++w]+";"))}u?o.styles=l:o.stylesWithoutHost=l,u?o.classes=p:o.classesWithoutHost=p}const Uh=new Cn("INJECTOR",-1);class Pw{get(s,u=Yl){if(u===Yl){const l=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw l.name="NullInjectorError",l}return u}}const cm=new Cn("Set Injector scope."),lm={},YA={};let Rw;function cn(){return void 0===Rw&&(Rw=new Pw),Rw}function fm(o,s=null,u=null,l){return new zI(o,u,s||cn(),l)}class zI{constructor(s,u,l,p=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&so(u,E=>this.processProvider(E,s,u)),so([s],E=>this.processInjectorType(E,[],m)),this.records.set(Uh,St(void 0,this));const w=this.records.get(cm);this.scope=null!=w?w.value:null,this.source=p||("object"==typeof s?null:ee(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Yl,l=mt.Default){this.assertNotDestroyed();const p=es(this),m=er(void 0);try{if(!(l&mt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const I=("function"==typeof(o=s)||"object"==typeof o&&o instanceof Cn)&&ln(s);E=I&&this.injectableDefInScope(I)?St(dm(s),lm):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&mt.Self?cn():this.parent).get(s,u=l&mt.Optional&&u===Yl?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[bi]=w[bi]||[]).unshift(ee(s)),p)throw w;return Io(w,s,"R3InjectorError",this.source)}throw w}finally{er(m),es(p)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,p)=>s.push(ee(p))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,l){if(!(s=V(s)))return!1;let p=Eo(s);const m=null==p&&s.ngModule||void 0,w=void 0===m?s:m,E=-1!==l.indexOf(w);if(void 0!==m&&(p=Eo(m)),null==p)return!1;if(null!=p.imports&&!E){let P;l.push(w);try{so(p.imports,F=>{this.processInjectorType(F,u,l)&&(void 0===P&&(P=[]),P.push(F))})}finally{}if(void 0!==P)for(let F=0;F<P.length;F++){const{ngModule:B,providers:Q}=P[F];so(Q,re=>this.processProvider(re,B,Q||wt))}}this.injectorDefTypes.add(w);const I=ra(w)||(()=>new w);this.records.set(w,St(I,lm));const A=p.providers;if(null!=A&&!E){const P=s;so(A,F=>this.processProvider(F,P,A))}return void 0!==m&&void 0!==s.providers}processProvider(s,u,l){let p=Tf(s=V(s))?s:V(s&&s.provide);const m=jh(o=s)?St(void 0,o.useValue):St(function(o,s,u){let l;if(Tf(o)){const p=V(o);return ra(p)||dm(p)}if(jh(o))l=()=>V(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Ts(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))l=()=>Sn(V(o.useExisting));else{const p=V(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ra(p)||dm(p);l=()=>new p(...Ts(o.deps))}return l}(o),lm);var o;if(Tf(s)||!0!==s.multi)this.records.get(p);else{let w=this.records.get(p);w||(w=St(void 0,lm,!0),w.factory=()=>Ts(w.multi),this.records.set(p,w)),p=s,w.multi.push(s)}this.records.set(p,m)}hydrate(s,u){return u.value===lm&&(u.value=YA,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const u=V(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function dm(o){const s=ln(o),u=null!==s?s.factory:ra(o);if(null!==u)return u;if(o instanceof Cn)throw new Error(`Token ${ee(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const l=function(o,s){const u=[];for(let l=0;l<o;l++)u.push(s);return u}(s,"?");throw new Error(`Can't resolve all parameters for ${ee(o)}: (${l.join(", ")}).`)}const u=function(o){const s=o&&(o[Un]||o[Ga]);if(s){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function St(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function jh(o){return null!==o&&"object"==typeof o&&Is in o}function Tf(o){return"function"==typeof o}const xr=function(o,s,u){return function(o,s=null,u=null,l){const p=fm(o,s,u,l);return p._resolveInjectorDefTypes(),p}({name:u},s,o,u)};let pn=(()=>{class o{static create(u,l){return Array.isArray(u)?xr(u,l,""):xr(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=Yl,o.NULL=new Pw,o.\u0275prov=Ut({token:o,providedIn:"any",factory:()=>Sn(Uh)}),o.__NG_ELEMENT_ID__=-1,o})();function Cm(o,s){jl(Pc(o)[1],Rn())}let Hh=null;function Of(){if(!Hh){const o=rt.Symbol;if(o&&o.iterator)Hh=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const l=s[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Hh=l)}}}return Hh}function zc(o){return!!xf(o)&&(Array.isArray(o)||!(o instanceof Map)&&Of()in o)}function xf(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function oi(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function qh(o,s,u,l){const p=ve();return oi(p,gi(),s)&&(Jt(),Us(Mn(),p,o,s,u,l)),qh}function Pf(o,s,u,l){return oi(o,gi(),u)?s+qe(u)+l:Ot}function Lu(o,s,u,l,p,m){const E=function(o,s,u,l){const p=oi(o,s,u);return oi(o,s+1,l)||p}(o,Xe.lFrame.bindingIndex,u,p);return Ur(2),E?s+qe(u)+l+qe(p)+m:Ot}function Kw(o,s,u,l,p,m,w,E){const I=ve(),A=Jt(),P=o+20,F=A.firstCreatePass?function(o,s,u,l,p,m,w,E,I){const A=s.consts,P=Df(s,o,4,w||null,sa(A,E));Hc(s,u,P,sa(A,I)),jl(s,P);const F=P.tViews=kh(2,P,l,p,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,P),F.queries=s.queries.embeddedTView(P)),P}(P,A,I,s,u,l,p,m,w):A.data[P];Pi(F,!1);const B=I[11].createComment("");ks(A,I,B,F),Kn(B,I),am(I,I[P]=__(B,I,B,F)),fc(F)&&l_(A,I,F),null!=w&&Nh(I,F,E)}function Ma(o,s=mt.Default){const u=ve();return null===u?Sn(o,s):gg(Rn(),u,V(o),s)}function Fm(o,s,u){const l=ve();return oi(l,gi(),s)&&Po(Jt(),Mn(),l,o,s,l[11],u,!1),Fm}function Q_(o,s,u,l,p){const w=p?"class":"style";WI(o,u,s.inputs[w],w,l)}function Z_(o,s,u,l){const p=ve(),m=Jt(),w=20+o,E=p[11],I=p[w]=Eh(E,s,Xe.lFrame.currentNamespace),A=m.firstCreatePass?function(o,s,u,l,p,m,w){const E=s.consts,A=Df(s,o,2,p,sa(E,m));return Hc(s,u,A,sa(E,w)),null!==A.attrs&&qc(A,A.attrs,!1),null!==A.mergedAttrs&&qc(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(w,m,p,0,s,u,l):m.data[w];Pi(A,!0);const P=A.mergedAttrs;null!==P&&aa(E,I,P);const F=A.classes;null!==F&&C(E,I,F);const B=A.styles;null!==B&&v(E,I,B),64!=(64&A.flags)&&ks(m,p,I,A),0===Xe.lFrame.elementDepthCount&&Kn(I,p),Xe.lFrame.elementDepthCount++,fc(A)&&(l_(m,p,A),function(o,s,u){if(Nd(s)){const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const w=o.data[m];w.contentQueries&&w.contentQueries(1,u[m],m)}}}(m,A,p)),null!==l&&Nh(p,A)}function Y_(){let o=Rn();iu()?Xe.lFrame.isParent=!1:(o=o.parent,Pi(o,!1));const s=o;Xe.lFrame.elementDepthCount--;const u=Jt();u.firstCreatePass&&(jl(u,o),Nd(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&Q_(u,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&Q_(u,s,ve(),s.stylesWithoutHost,!1)}function Lf(o,s,u,l){Z_(o,s,u,l),Y_()}function eb(o){return!!o&&"function"==typeof o.then}function tb(o){return!!o&&"function"==typeof o.subscribe}const nb=tb;function Lm(o,s,u,l){const p=ve(),m=Jt(),w=Rn();return function(o,s,u,l,p,m,w,E){const I=fc(l),P=o.firstCreatePass&&b_(o),F=s[8],B=qI(s);let Q=!0;if(3&l.type||E){const le=Yr(l,s),je=E?E(le):le,Oe=B.length,_t=E?kt=>E(Pn(kt[l.index])):l.index;if(xn(u)){let kt=null;if(!E&&I&&(kt=function(o,s,u,l){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const w=p[m];if(w===u&&p[m+1]===l){const E=s[7],I=p[m+2];return E.length>I?E[I]:null}"string"==typeof w&&(m+=2)}return null}(o,s,p,l.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,Q=!1;else{m=jm(l,s,F,m,!1);const nn=u.listen(je,p,m);B.push(m,nn),P&&P.push(p,_t,Oe,Oe+1)}}else m=jm(l,s,F,m,!0),je.addEventListener(p,m,w),B.push(m),P&&P.push(p,_t,Oe,w)}else m=jm(l,s,F,m,!1);const re=l.outputs;let be;if(Q&&null!==re&&(be=re[p])){const le=be.length;if(le)for(let je=0;je<le;je+=2){const Qr=s[be[je]][be[je+1]].subscribe(m),Zs=B.length;B.push(m,Qr),P&&P.push(p,l.index,Zs,-(Zs+1))}}}(m,p,p[11],w,o,s,!!u,l),Lm}function ob(o,s,u,l){try{return!1!==u(l)}catch(p){return $I(o,p),!1}}function jm(o,s,u,l,p){return function m(w){if(w===Function)return l;const E=2&o.flags?Jr(o.index,s):s;0==(32&s[2])&&Lh(E);let I=ob(s,0,l,w),A=m.__ngNextListenerFn__;for(;A;)I=ob(s,0,A,w)&&I,A=A.__ngNextListenerFn__;return p&&!1===I&&(w.preventDefault(),w.returnValue=!1),I}}function Vm(o=1){return function(o){return(Xe.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,Xe.lFrame.contextLView))[8]}(o)}function jf(o,s,u){return tl(o,"",s,"",u),jf}function tl(o,s,u,l,p){const m=ve(),w=Pf(m,s,u,l);return w!==Ot&&Po(Jt(),Mn(),m,o,w,m[11],p,!1),tl}function hE(o,s,u,l,p){const m=o[u+1],w=null===s;let E=l?is(m):Fs(m),I=!1;for(;0!==E&&(!1===I||w);){const P=o[E+1];pE(o[E],s)&&(I=!0,o[E+1]=l?Br(P):e_(P)),E=l?is(P):Fs(P)}I&&(o[u+1]=l?e_(m):Br(m))}function pE(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Er(o,s)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ub(o){return o.substring(hr.key,hr.keyEnd)}function Vs(o,s){const u=hr.textEnd;return u===s?-1:(s=hr.keyEnd=function(o,s,u){for(;s<u&&o.charCodeAt(s)>32;)s++;return s}(o,hr.key=s,u),Bs(o,s,u))}function Bs(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function db(o){!function(o,s,u,l){const p=Jt(),m=Ur(2);p.firstUpdatePass&&function(o,s,u,l){const p=o.data;if(null===p[u+1]){const m=p[nr()],w=ep(o,u);np(m,l)&&null===s&&!w&&(s=!1),s=function(o,s,u,l){const p=function(o){const s=Xe.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=l?s.residualClasses:s.residualStyles;if(null===p)0===(l?s.classBindings:s.styleBindings)&&(u=Hf(u=$m(null,o,s,u,l),s.attrs,l),m=null);else{const w=s.directiveStylingLast;if(-1===w||o[w]!==p)if(u=$m(p,o,s,u,l),null===m){let I=function(o,s,u){const l=u?s.classBindings:s.styleBindings;if(0!==Fs(l))return o[is(l)]}(o,s,l);void 0!==I&&Array.isArray(I)&&(I=$m(null,o,s,I[1],l),I=Hf(I,s.attrs,l),function(o,s,u,l){o[is(u?s.classBindings:s.styleBindings)]=l}(o,s,l,I))}else m=function(o,s,u){let l;const p=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<p;m++)l=Hf(l,o[m].hostAttrs,u);return Hf(l,s.attrs,u)}(o,s,l)}return void 0!==m&&(l?s.residualClasses=m:s.residualStyles=m),u}(p,m,s,l),function(o,s,u,l,p,m){let w=m?s.classBindings:s.styleBindings,E=is(w),I=Fs(w);o[l]=u;let P,A=!1;if(Array.isArray(u)){const F=u;P=F[1],(null===P||Er(F,P)>0)&&(A=!0)}else P=u;if(p)if(0!==I){const B=is(o[E+1]);o[l+1]=Sa(B,E),0!==B&&(o[B+1]=t_(o[B+1],l)),o[E+1]=function(o,s){return 131071&o|s<<17}(o[E+1],l)}else o[l+1]=Sa(E,0),0!==E&&(o[E+1]=t_(o[E+1],l)),E=l;else o[l+1]=Sa(I,0),0===E?E=l:o[I+1]=t_(o[I+1],l),I=l;A&&(o[l+1]=e_(o[l+1])),hE(o,P,l,!0),hE(o,P,l,!1),function(o,s,u,l,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&Er(m,s)>=0&&(u[l+1]=Br(u[l+1]))}(s,P,o,l,m),w=Sa(E,I),m?s.classBindings=w:s.styleBindings=w}(p,m,s,u,w,l)}}(p,null,m,l);const w=ve();if(u!==Ot&&oi(w,m,u)){const E=p.data[nr()];if(np(E,l)&&!ep(p,m)){let I=l?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(u=J(I,u||"")),Q_(p,E,w,u,l)}else!function(o,s,u,l,p,m,w,E){p===Ot&&(p=wt);let I=0,A=0,P=0<p.length?p[0]:null,F=0<m.length?m[0]:null;for(;null!==P||null!==F;){const B=I<p.length?p[I+1]:void 0,Q=A<m.length?m[A+1]:void 0;let be,re=null;P===F?(I+=2,A+=2,B!==Q&&(re=F,be=Q)):null===F||null!==P&&P<F?(I+=2,re=P):(A+=2,re=F,be=Q),null!==re&&pb(o,s,u,l,re,be,w,E),P=I<p.length?p[I]:null,F=A<m.length?m[A]:null}}(p,E,w,w[11],w[m+1],w[m+1]=function(o,s,u){if(null==u||""===u)return wt;const l=[],p=So(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(l,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(l,m,p[m]);else"string"==typeof p&&s(l,p);return l}(o,s,u),l,m)}}(zn,No,o,!0)}function No(o,s){for(let u=function(o){return function(o){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=o.length}(o),Vs(o,Bs(o,0,hr.textEnd))}(s);u>=0;u=Vs(s,u))zn(o,ub(s),!0)}function ep(o,s){return s>=o.expandoStartIndex}function $m(o,s,u,l,p){let m=null;const w=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<w&&(m=s[E],l=Hf(l,m.hostAttrs,p),m!==o);)E++;return null!==o&&(u.directiveStylingLast=E),l}function Hf(o,s,u){const l=u?1:2;let p=-1;if(null!==s)for(let m=0;m<s.length;m++){const w=s[m];"number"==typeof w?p=w:p===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zn(o,w,!!u||s[++m]))}return void 0===o?null:o}function pb(o,s,u,l,p,m,w,E){if(!(3&s.type))return;const I=o.data,A=I[E+1];tp(function(o){return 1==(1&o)}(A)?rl(I,s,u,p,Fs(A),w):void 0)||(tp(m)||function(o){return 2==(2&o)}(A)&&(m=rl(I,null,u,p,E,w)),function(o,s,u,l,p){const m=xn(o);if(s)p?m?o.addClass(u,l):u.classList.add(l):m?o.removeClass(u,l):u.classList.remove(l);else{let w=-1===l.indexOf("-")?void 0:xo.DashCase;if(null==p)m?o.removeStyle(u,l,w):u.style.removeProperty(l);else{const E="string"==typeof p&&p.endsWith("!important");E&&(p=p.slice(0,-10),w|=xo.Important),m?o.setStyle(u,l,p,w):u.style.setProperty(l,p,E?"important":"")}}}(l,w,eu(nr(),u),p,m))}function rl(o,s,u,l,p,m){const w=null===s;let E;for(;p>0;){const I=o[p],A=Array.isArray(I),P=A?I[1]:I,F=null===P;let B=u[p+1];B===Ot&&(B=F?wt:void 0);let Q=F?Ql(B,l):P===l?B:void 0;if(A&&!tp(Q)&&(Q=Ql(I,l)),tp(Q)&&(E=Q,w))return E;const re=o[p+1];p=w?is(re):Fs(re)}if(null!==s){let I=m?s.residualClasses:s.residualStyles;null!=I&&(E=Ql(I,l))}return E}function tp(o){return void 0!==o}function np(o,s){return 0!=(o.flags&(s?16:32))}function gb(o,s=""){const u=ve(),l=Jt(),p=o+20,m=l.firstCreatePass?Df(l,p,1,s,null):l.data[p],w=u[p]=function(o,s){return xn(o)?o.createText(s):o.createTextNode(s)}(u[11],s);ks(l,u,w,m),Pi(m,!1)}function zm(o){return Gf("",o,""),zm}function Gf(o,s,u){const l=ve(),p=Pf(l,o,s,u);return p!==Ot&&bn(l,nr(),p),Gf}function Km(o,s,u,l,p){const m=ve(),w=Lu(m,o,s,u,l,p);return w!==Ot&&bn(m,nr(),w),Km}function Jn(o,s,u){const l=ve();return oi(l,gi(),s)&&Po(Jt(),Mn(),l,o,s,l[11],u,!0),Jn}const ka=void 0;var ip=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const s=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Lo={};function Qm(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=us(s);if(u)return u;const l=s.split("-")[0];if(u=us(l),u)return u;if("en"===l)return ip;throw new Error(`Missing locale data for the locale "${o}".`)}function Bu(o){return Qm(o)[vt.PluralCase]}function us(o){return o in Lo||(Lo[o]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[o]),Lo[o]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const al="en-US";let zf=al;function Ti(o){_e(o,"Expected localeId to be defined"),"string"==typeof o&&(zf=o.toLowerCase().replace(/_/g,"-"))}class iy{}const _p="ngComponent";class sC{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${ee(o)}. Did you add it to @NgModule.entryComponents?`);return s[_p]=o,s}(s)}}let ll=(()=>{class o{}return o.NULL=new sC,o})();function bp(...o){}function Jf(o,s){return new qs(Yr(o,s))}const aC=function(){return Jf(Rn(),ve())};let qs=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=aC,o})();function Tr(o){return o instanceof qs?o.nativeElement:o}class wp{}let Ep=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>lC(),o})();const lC=function(){const o=ve(),u=Jr(Rn().index,o);return function(o){return o[11]}($o(u)?u:o)};let uy=(()=>{class o{}return o.\u0275prov=Ut({token:o,providedIn:"root",factory:()=>null}),o})();class jb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Xf=new jb("12.2.7");class Vb{constructor(){}supports(s){return zc(s)}create(s){return new hC(s)}}const dC=(o,s)=>s;class hC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dC}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,l=this._removalsHead,p=0,m=null;for(;u||l;){const w=!l||u&&u.currentIndex<mC(l,p,m)?u:l,E=mC(w,p,m),I=w.currentIndex;if(w===l)p--,l=l._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{m||(m=[]);const A=E-p,P=I-p;if(A!=P){for(let B=0;B<A;B++){const Q=B<m.length?m[B]:m[B]=0,re=Q+B;P<=re&&re<A&&(m[B]=Q+1)}m[w.previousIndex]=P-A}}E!==I&&s(w,E,I)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!zc(s))throw new Error(`Error trying to diff '${ee(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let p,m,w,u=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],w=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,w)?(l&&(u=this._verifyReinsertion(u,m,w,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,w,E),l=!0),u=u._next}else p=0,function(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Of()]();let l;for(;!(l=u.next()).done;)s(l.value)}}(s,E=>{w=this._trackByFn(p,E),null!==u&&Object.is(u.trackById,w)?(l&&(u=this._verifyReinsertion(u,E,w,p)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,w,p),l=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,l,p){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,m,p)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,m,p)):s=this._addAfter(new pC(u,l),m,p),s}_verifyReinsertion(s,u,l,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?s=this._reinsertAfter(m,s._prev,p):s.currentIndex!=p&&(s.currentIndex=p,this._addToMoves(s,p)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const p=s._prevRemoved,m=s._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(s,u,l),this._addToMoves(s,l),s}_moveAfter(s,u,l){return this._unlink(s),this._insertAfter(s,u,l),this._addToMoves(s,l),s}_addAfter(s,u,l){return this._insertAfter(s,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,l){const p=null===u?this._itHead:u._next;return s._next=p,s._prev=u,null===p?this._itTail=s:p._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,l=s._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pC{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const u=s._prevDup,l=s._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Bb{constructor(){this.map=new Map}put(s){const u=s.trackById;let l=this.map.get(u);l||(l=new gC,this.map.set(u,l)),l.add(s)}get(s,u){const p=this.map.get(s);return p?p.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mC(o,s,u){const l=o.previousIndex;if(null===l)return l;let p=0;return u&&l<u.length&&(p=u[l]),l+s+p}class yC{constructor(){}supports(s){return s instanceof Map||xf(s)}create(){return new ed}}class ed{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||xf(s)))throw new Error(`Error trying to diff '${ee(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,l);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const l=s._prev;return u._next=s,u._prev=l,s._prev=u,l&&(l._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const p=this._records.get(s);this._maybeAddToChanges(p,u);const m=p._prev,w=p._next;return m&&(m._next=w),w&&(w._prev=m),p._next=null,p._prev=null,p}const l=new td(s);return this._records.set(s,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(l=>u(s[l],l))}}class td{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vC(){return new cy([new Vb])}let cy=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(null!=l){const p=l.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||vC()),deps:[[o,new To,new wi]]}}find(u){const l=this.factories.find(p=>p.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=Ut({token:o,providedIn:"root",factory:vC}),o})();function Hb(){return new Qi([new yC])}let Qi=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(l){const p=l.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Hb()),deps:[[o,new To,new wi]]}}find(u){const l=this.factories.find(p=>p.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=Ut({token:o,providedIn:"root",factory:Hb}),o})();function ly(o,s,u,l,p=!1){for(;null!==u;){const m=s[u.index];if(null!==m&&l.push(Pn(m)),hi(m))for(let E=10;E<m.length;E++){const I=m[E],A=I[1].firstChild;null!==A&&ly(I[1],I,A,l)}const w=u.type;if(8&w)ly(o,s,u.child,l);else if(32&w){const E=_h(u,s);let I;for(;I=E();)l.push(I)}else if(16&w){const E=Xg(s,u);if(Array.isArray(E))l.push(...E);else{const I=Ia(s[16]);ly(I[1],I,E,l,!0)}}u=p?u.projectionNext:u.next}return l}class nd{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return ly(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(hi(s)){const u=s[8],l=u?u.indexOf(this):-1;l>-1&&(Mu(s,l),Es(u,l))}this._attachedToViewContainer=!1}Dh(this._lView[1],this._lView)}onDestroy(s){h_(this._lView[1],this._lView,null,s)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Aw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,u){Rl(!0);try{Aw(o,s,u)}finally{Rl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Vc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Fa extends nd{constructor(s){super(s),this._view=s}detectChanges(){GI(this._view)}checkNoChanges(){!function(o){Rl(!0);try{GI(o)}finally{Rl(!1)}}(this._view)}get context(){return null}}const Wu=function(o){return function(o,s,u){if(lc(o)&&!u){const l=Jr(o.index,s);return new nd(l,l)}return 47&o.type?new nd(s[16],s):null}(Rn(),ve(),16==(16&o))};let kn=(()=>{class o{}return o.__NG_ELEMENT_ID__=Wu,o})();const NT=[new yC],Ws=new cy([new Vb]),Zi=new Qi(NT),fl=function(){return Dp(Rn(),ve())};let vo=(()=>{class o{}return o.__NG_ELEMENT_ID__=fl,o})();const rd=vo,id=class extends rd{constructor(s,u,l){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(s){const u=this._declarationTContainer.tViews,l=Mh(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(u)),om(u,l,s),new nd(l)}};function Dp(o,s){return 4&o.type?new id(s,o,Jf(o,s)):null}class zu{}class qr{}const od=function(){return hy(Rn(),ve())};let fy=(()=>{class o{}return o.__NG_ELEMENT_ID__=od,o})();const dl=fy,_C=class extends dl{constructor(s,u,l){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=l}get element(){return Jf(this._hostTNode,this._hostLView)}get injector(){return new du(this._hostTNode,this._hostLView)}get parentInjector(){const s=dr(this._hostTNode,this._hostLView);if(au(s)){const u=mi(s,this._hostLView),l=la(s);return new du(u[1].data[l+8],u)}return new du(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=Ku(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,l){const p=s.createEmbeddedView(u||{});return this.insert(p,l),p}createComponent(s,u,l,p,m){const w=l||this.parentInjector;if(!m&&null==s.ngModule&&w){const I=w.get(zu,null);I&&(m=I)}const E=s.create(w,p,void 0,m);return this.insert(E.hostView,u),E}insert(s,u){const l=s._lView,p=l[1];if(hi(l[3])){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const F=l[3],B=new _C(F,F[6],F[3]);B.detach(B.indexOf(s))}}const m=this._adjustIndex(u),w=this._lContainer;!function(o,s,u,l){const p=10+l,m=u.length;l>0&&(u[p-1][4]=s),l<m-10?(s[4]=u[p],gu(u,10+l,s)):(u.push(s),s[4]=null),s[3]=u;const w=s[17];null!==w&&u!==w&&function(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(w,s);const E=s[19];null!==E&&E.insertView(o),s[2]|=128}(p,l,w,m);const E=Ah(m,w),I=l[11],A=wf(I,w[7]);return null!==A&&function(o,s,u,l,p,m){l[0]=p,l[6]=s,Vc(o,l,u,1,p,m)}(p,w[6],I,l,A,E),s.attachToViewContainerRef(),gu(dy(w),m,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=Ku(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),l=Mu(this._lContainer,u);l&&(Es(dy(this._lContainer),u),Dh(l[1],l))}detach(s){const u=this._adjustIndex(s,-1),l=Mu(this._lContainer,u);return l&&null!=Es(dy(this._lContainer),u)?new nd(l):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function Ku(o){return o[8]}function dy(o){return o[8]||(o[8]=[])}function hy(o,s){let u;const l=s[o.index];if(hi(l))u=l;else{let p;if(8&o.type)p=Pn(l);else{const m=s[11];p=m.createComment("");const w=Yr(o,s);rs(m,wf(m,w),p,function(o,s){return xn(o)?o.nextSibling(s):s.nextSibling}(m,w),!1)}s[o.index]=u=__(l,s,p,o),am(s,u)}return new _C(u,o,s)}const Ks={};class Sy extends ll{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Yn(s);return new BC(u,this.ngModule)}}function Va(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}const oS=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yh});class BC extends iy{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(Cf).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(s,u,l,p){const m=(p=p||this.ngModule)?function(o,s){return{get:(u,l,p)=>{const m=o.get(u,Ks,p);return m!==Ks||l===Ks?m:s.get(u,l,p)}}}(s,p.injector):s,w=m.get(wp,Wo),E=m.get(uy,null),I=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=l?function(o,s,u){if(xn(o))return o.selectRootElement(s,u===ne.ShadowDom);let l="string"==typeof s?o.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):Eh(w.createRenderer(null,this.componentDef),A,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(A)),F=this.componentDef.onPush?576:528,B=function(o,s){return{components:[],scheduler:o||yh,clean:Ow,playerHandler:s||null,flags:0}}(),Q=kh(0,null,null,1,0,null,null,null,null,null),re=Mh(null,Q,B,F,null,null,w,I,E,m);let be,le;Ll(re);try{const je=function(o,s,u,l,p,m){const w=u[1];u[20]=o;const I=Df(w,20,2,"#host",null),A=I.mergedAttrs=s.hostAttrs;null!==A&&(qc(I,A,!0),null!==o&&(aa(p,o,A),null!==I.classes&&C(p,o,I.classes),null!==I.styles&&v(p,o,I.styles)));const P=l.createRenderer(o,s),F=Mh(u,gw(s),null,s.onPush?64:16,u[20],I,l,P,m||null,null);return w.firstCreatePass&&(rr(ha(I,u),w,s.type),y_(w,I),Iw(I,u.length,1)),am(u,F),u[20]=F}(P,this.componentDef,re,w,I);if(P)if(l)aa(I,P,["ng-version",Xf.full]);else{const{attrs:Oe,classes:_t}=function(o){const s=[],u=[];let l=1,p=2;for(;l<o.length;){let m=o[l];if("string"==typeof m)2===p?""!==m&&s.push(m,o[++l]):8===p&&u.push(m);else{if(!ge(p))break;p=m}l++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Oe&&aa(I,P,Oe),_t&&_t.length>0&&C(I,P,_t.join(" "))}if(le=Ol(Q,20),void 0!==u){const Oe=le.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const kt=u[_t];Oe.push(null!=kt?Array.from(kt):null)}}be=function(o,s,u,l,p){const m=u[1],w=function(o,s,u){const l=Rn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),v_(o,l,s,Kt(o,s,1,null),u));const p=vi(s,o,l.directiveStart,l);Kn(p,s);const m=Yr(l,s);return m&&Kn(m,s),p}(m,u,s);if(l.components.push(w),o[8]=w,p&&p.forEach(I=>I(w,s)),s.contentQueries){const I=Rn();s.contentQueries(1,w,I.directiveStart)}const E=Rn();return!m.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Mi(E.index),Ew(u[1],E,0,E.directiveStart,E.directiveEnd,s),m_(s,w)),w}(je,this.componentDef,re,B,[Cm]),om(Q,re,null)}finally{ou()}return new pd(this.componentType,be,Jf(le,re),re,le)}}class pd extends class{}{constructor(s,u,l,p,m){super(),this.location=l,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Fa(p),this.componentType=s}get injector(){return new du(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const pl=new Map;class gd extends zu{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sy(this);const l=di(s),p=s[Vn]||null;p&&Ti(p),this._bootstrapComponents=Bi(l.bootstrap),this._r3Injector=fm(s,u,[{provide:zu,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],ee(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=pn.THROW_IF_NOT_FOUND,l=mt.Default){return s===pn||s===zu||s===Uh?this:this._r3Injector.get(s,u,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Qs extends qr{constructor(s){super(),this.moduleType=s,null!==di(s)&&function(o){const s=new Set;!function u(l){const p=di(l,!0),m=p.id;null!==m&&(function(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${ee(s)} vs ${ee(s.name)}`)}(m,pl.get(m),l),pl.set(m,l));const w=Bi(p.imports);for(const E of w)s.has(E)||(s.add(E),u(E))}(o)}(s)}create(s){return new gd(this.moduleType,s)}}function c0(o){return s=>{setTimeout(o,void 0,s)}}const ds=class extends _.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,l){var p,m,w;let E=s,I=u||(()=>null),A=l;if(s&&"object"==typeof s){const F=s;E=null===(p=F.next)||void 0===p?void 0:p.bind(F),I=null===(m=F.error)||void 0===m?void 0:m.bind(F),A=null===(w=F.complete)||void 0===w?void 0:w.bind(F)}this.__isAsync&&(I=c0(I),E&&(E=c0(E)),A&&(A=c0(A)));const P=super.subscribe({next:E,error:I,complete:A});return s instanceof me.w&&s.add(P),P}};function JC(){return this._results[Of()]()}class My{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Of(),l=My.prototype;l[u]||(l[u]=JC)}get changes(){return this._changes||(this._changes=new ds)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const l=this;l.dirty=!1;const p=Xr(s);(this._changesDetected=!function(o,s,u){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let p=o[l],m=s[l];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(l._results,p,u))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Fp{constructor(s){this.queryList=s,this.matches=null}clone(){return new Fp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const l=null!==s.contentQueries?s.contentQueries[0]:u.length,p=[];for(let m=0;m<l;m++){const w=u.getByIndex(m);p.push(this.queries[w.indexInDeclarationView].clone())}return new Lp(p)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==ky(s,u).matches&&this.queries[u].setDirty()}}class ml{constructor(s,u,l=null){this.predicate=s,this.flags=u,this.read=l}}class Ny{constructor(s=[]){this.queries=s}elementStart(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let l=0;l<this.length;l++){const p=null!==u?u.length:0,m=this.getByIndex(l).embeddedTView(s,p);m&&(m.indexInDeclarationView=l,null!==u?u.push(m):u=[m])}return null!==u?new Ny(u):null}template(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Up{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Up(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const m=l[p];this.matchTNodeWithReadOption(s,u,_S(u,m)),this.matchTNodeWithReadOption(s,u,fu(u,s,m,!1,!1))}else l===vo?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,fu(u,s,l,!1,!1))}matchTNodeWithReadOption(s,u,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===qs||p===fy||p===vo&&4&u.type)this.addMatch(u.index,-2);else{const m=fu(u,s,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,l)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function _S(o,s){const u=o.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===s)return u[l+1];return null}function Ba(o,s,u,l){return-1===u?function(o,s){return 11&o.type?Jf(o,s):4&o.type?Dp(o,s):null}(s,o):-2===u?function(o,s,u){return u===qs?Jf(s,o):u===vo?Dp(s,o):u===fy?hy(s,o):void 0}(o,s,l):vi(o,o[1],u,s)}function XC(o,s,u,l){const p=s[19].queries[l];if(null===p.matches){const m=o.data,w=u.matches,E=[];for(let I=0;I<w.length;I+=2){const A=w[I];E.push(A<0?null:Ba(s,m[A],w[I+1],u.metadata.read))}p.matches=E}return p.matches}function f0(o,s,u,l){const p=o.queries.getByIndex(u),m=p.matches;if(null!==m){const w=XC(o,s,p,u);for(let E=0;E<m.length;E+=2){const I=m[E];if(I>0)l.push(w[E/2]);else{const A=m[E+1],P=s[-I];for(let F=10;F<P.length;F++){const B=P[F];B[17]===B[3]&&f0(B[1],B,A,l)}if(null!==P[9]){const F=P[9];for(let B=0;B<F.length;B++){const Q=F[B];f0(Q[1],Q,A,l)}}}}}return l}function eD(o){const s=ve(),u=Jt(),l=cg();gc(l+1);const p=ky(u,l);if(o.dirty&&tu(s)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?f0(u,s,l,[]):XC(u,s,p,l);o.reset(m,Tr),o.notifyOnChanges()}return!0}return!1}function tD(o,s,u,l){const p=Jt();if(p.firstCreatePass){const m=Rn();(function(o,s,u){null===o.queries&&(o.queries=new Ny),o.queries.track(new Up(s,u))})(p,new ml(s,u,l),m.index),function(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}!function(o,s,u){const l=new My(4==(4&u));h_(o,s,l,l.destroy),null===s[19]&&(s[19]=new Lp),s[19].queries.push(new Fp(l))}(p,ve(),u)}function d0(){return o=ve(),s=cg(),o[19].queries[s].queryList;var o,s}function ky(o,s){return o.queries.getByIndex(s)}const Gy=new Cn("Application Initializer");let ic=(()=>{class o{constructor(u){this.appInits=u,this.resolve=bp,this.reject=bp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,p)=>{this.resolve=l,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(eb(m))u.push(m);else if(nb(m)){const w=new Promise((E,I)=>{m.subscribe({complete:E,error:I})});u.push(w)}}Promise.all(u).then(()=>{l()}).catch(p=>{this.reject(p)}),0===u.length&&l(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Sn(Gy,8))},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();const qy=new Cn("AppId"),I0={provide:qy,useFactory:function(){return`${Cd()}${Cd()}${Cd()}`},deps:[]};function Cd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const T0=new Cn("Platform Initializer"),Dd=new Cn("Platform ID"),DD=new Cn("appBootstrapListener");let oc=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();const Ho=new Cn("LocaleId"),Id=new Cn("DefaultCurrencyCode");class jS{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const Wy=function(o){return new Qs(o)},TD=Wy,SD=function(o){return Promise.resolve(Wy(o))},zy=function(o){const s=Wy(o),l=Bi(di(o).declarations).reduce((p,m)=>{const w=Yn(m);return w&&p.push(new BC(w)),p},[]);return new jS(s,l)},Ky=zy,sc=function(o){return Promise.resolve(zy(o))};let ps=(()=>{class o{constructor(){this.compileModuleSync=TD,this.compileModuleAsync=SD,this.compileModuleAndAllComponentsSync=Ky,this.compileModuleAndAllComponentsAsync=sc}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();const Gp=(()=>Promise.resolve(0))();function qp(o){"undefined"==typeof Zone?Gp.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ji{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ds(!1),this.onMicrotaskEmpty=new ds(!1),this.onStable=new ds(!1),this.onError=new ds(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&u,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let o=rt.requestAnimationFrame,s=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(rt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Td(o),o.isCheckStableRunning=!0,Qy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Td(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,p,m,w,E)=>{try{return RD(o),u.invokeTask(p,m,w,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),A0(o)}},onInvoke:(u,l,p,m,w,E,I)=>{try{return RD(o),u.invoke(p,m,w,E,I)}finally{o.shouldCoalesceRunChangeDetection&&s(),A0(o)}},onHasTask:(u,l,p,m)=>{u.hasTask(p,m),l===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Td(o),Qy(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,l,p,m)=>(u.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,l){return this._inner.run(s,u,l)}runTask(s,u,l,p){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+p,s,xD,bp,bp);try{return m.runTask(w,u,l)}finally{m.cancelTask(w)}}runGuarded(s,u,l){return this._inner.runGuarded(s,u,l)}runOutsideAngular(s){return this._outer.run(s)}}const xD={};function Qy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Td(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function RD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function A0(o){o._nesting--,Qy(o)}class MD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ds,this.onMicrotaskEmpty=new ds,this.onStable=new ds,this.onError=new ds}run(s,u,l){return s.apply(u,l)}runGuarded(s,u,l){return s.apply(u,l)}runOutsideAngular(s){return s()}runTask(s,u,l,p){return s.apply(u,l)}}let $p=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),qp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qp(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,p){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(Sn(Ji))},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})(),ac=(()=>{class o{constructor(){this._applications=new Map,Zy.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Zy.findTestabilityInTree(this,u,l)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();class Oi{addToWindow(s){}findTestabilityInTree(s,u,l){return null}}function ND(o){Zy=o}let Zy=new Oi,Sd=!0,Ad=!1;function bl(){return Ad=!0,Sd}function WS(){if(Ad)throw new Error("Cannot enable prod mode after platform setup.");Sd=!1}let wo;const kD=new Cn("AllowMultipleToken");class FD{constructor(s,u){this.name=s,this.token=u}}function Jy(o,s,u=[]){const l=`Platform: ${s}`,p=new Cn(l);return(m=[])=>{let w=LD();if(!w||w.injector.get(kD,!1))if(o)o(u.concat(m).concat({provide:p,useValue:!0}));else{const E=u.concat(m).concat({provide:p,useValue:!0},{provide:cm,useValue:"platform"});!function(o){if(wo&&!wo.destroyed&&!wo.injector.get(kD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wo=o.get(ev);const s=o.get(T0,null);s&&s.forEach(u=>u())}(pn.create({providers:E,name:l}))}return function(o){const s=LD();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(p)}}function LD(){return wo&&!wo.destroyed?wo:null}let ev=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const E=function(o,s){let u;return u="noop"===o?new MD:("zone.js"===o?void 0:o)||new Ji({enableLongStackTrace:bl(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:Ji,useValue:E}];return E.run(()=>{const A=pn.create({providers:I,parent:this.injector,name:u.moduleType.name}),P=u.create(A),F=P.injector.get(po,null);if(!F)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const B=E.onError.subscribe({next:Q=>{F.handleError(Q)}});P.onDestroy(()=>{x0(this._modules,P),B.unsubscribe()})}),function(o,s,u){try{const l=u();return eb(l)?l.catch(p=>{throw s.runOutsideAngular(()=>o.handleError(p)),p}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(F,E,()=>{const B=P.injector.get(ic);return B.runInitializers(),B.donePromise.then(()=>(Ti(P.injector.get(Ho,al)||al),this._moduleDoBootstrap(P),P))})})}bootstrapModule(u,l=[]){const p=O0({},l);return function(o,s,u){const l=new Qs(u);return Promise.resolve(l)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const l=u.injector.get(xd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${ee(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Sn(pn))},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();function O0(o,s){return Array.isArray(s)?s.reduce(O0,o):Object.assign(Object.assign({},o),s)}let xd=(()=>{class o{constructor(u,l,p,m,w){this._zone=u,this._injector=l,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new M.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),I=new M.y(A=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),qp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{P.unsubscribe(),F.unsubscribe()}});this.isStable=(0,Ce.T)(E,I.pipe((0,ye.B)()))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=u instanceof iy?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function(o){return o.isBoundToModule}(p)?void 0:this._injector.get(zu),E=p.create(pn.NULL,[],l||p.selector,m),I=E.location.nativeElement,A=E.injector.get($p,null),P=A&&E.injector.get(ac);return A&&P&&P.registerApplication(I,A),E.onDestroy(()=>{this.detachView(E.hostView),x0(this.components,E),P&&P.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;x0(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(DD,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Sn(Ji),Sn(pn),Sn(po),Sn(ll),Sn(ic))},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();function x0(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}class jD{}class rA{}const iA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oA=(()=>{class o{constructor(u,l){this._compiler=u,this._config=l||iA}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,p]=u.split("#");return void 0===p&&(p="default"),$(8255)(l).then(m=>m[p]).then(m=>HD(m,l,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(u){let[l,p]=u.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),$(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(w=>w[p+m]).then(w=>HD(w,l,p))}}return o.\u0275fac=function(u){return new(u||o)(Sn(ps),Sn(rA,8))},o.\u0275prov=Ut({token:o,factory:o.\u0275fac}),o})();function HD(o,s,u){if(!o)throw new Error(`Cannot find '${u}' in '${s}'`);return o}const k1=function(o){return null},U1=Jy(null,"core",[{provide:Dd,useValue:"unknown"},{provide:ev,deps:[pn]},{provide:ac,deps:[]},{provide:oc,deps:[]}]),dA=[{provide:xd,useClass:xd,deps:[Ji,pn,po,ll,ic]},{provide:oS,deps:[Ji],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:ic,useClass:ic,deps:[[new wi,Gy]]},{provide:ps,useClass:ps,deps:[]},I0,{provide:cy,useFactory:function(){return Ws},deps:[]},{provide:Qi,useFactory:function(){return Zi},deps:[]},{provide:Ho,useFactory:function(o){return Ti(o=o||"undefined"!=typeof $localize&&$localize.locale||al),o},deps:[[new Li(Ho),new wi,new To]]},{provide:Id,useValue:"USD"}];let KD=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Sn(xd))},o.\u0275mod=$a({type:o}),o.\u0275inj=Rt({providers:dA}),o})()},57:(dt,Me,$)=>{"use strict";$.d(Me,{hO:()=>Ys,xv:()=>ze,Dh:()=>Te,Ot:()=>qe,HU:()=>X,GT:()=>Ee,sI:()=>Fn,on:()=>nt,ss:()=>V,pX:()=>ue,yq:()=>Ft});var _=$(7771),me=$(3637),M=$(3342),Ce=$(3101),ye=$(309),oe=$(7716),De=$(2329);function ee(){}dt=$.hmd(dt);class J{constructor(ct,it=_.N){this.zone=ct,this.delegate=it}now(){return this.delegate.now()}schedule(ct,it,Ke){const $t=this.zone;return this.delegate.schedule(function(Ln){$t.runGuarded(()=>{ct.apply(this,[Ln])})},it,Ke)}}class z{constructor(ct){this.zone=ct,this.task=null}call(ct,it){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ee,{},ee,ee)),it.pipe((0,M.b)({next:Ke,complete:Ke,error:Ke})).subscribe(ct).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class X{constructor(ct){this.ngZone=ct,this.outsideAngular=ct.runOutsideAngular(()=>new J(Zone.current)),this.insideAngular=ct.run(()=>new J(Zone.current,me.z))}}function V(ut){return function(it){return(it=it.lift(new z(ut.ngZone))).pipe((0,Ce.R)(ut.outsideAngular),(0,ye.QV)(ut.insideAngular))}}const te=["ngOnDestroy"],ue=(ut,ct,it,Ke={})=>new Proxy(ut,{get:($t,Qe)=>it.runOutsideAngular(()=>{var Ln;if(ut[Qe])return(null===(Ln=null==Ke?void 0:Ke.spy)||void 0===Ln?void 0:Ln.get)&&Ke.spy.get(Qe,ut[Qe]),ut[Qe];if(te.indexOf(Qe)>-1)return()=>{};const fe=ct.toPromise().then(se=>{const pe=se&&se[Qe];return"function"==typeof pe?pe.bind(se):pe&&pe.then?pe.then(_e=>it.run(()=>_e)):it.run(()=>pe)});return new Proxy(()=>{},{get:(se,pe)=>fe[pe],apply:(se,pe,_e)=>fe.then(Se=>{var Pe;const st=Se&&Se(..._e);return(null===(Pe=null==Ke?void 0:Ke.spy)||void 0===Pe?void 0:Pe.apply)&&Ke.spy.apply(Qe,_e,st),st})})})}),Ee=(ut,ct)=>{ct.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ke=>{Object.defineProperty(ut.prototype,Ke,Object.getOwnPropertyDescriptor(it.prototype||it,Ke))})})},Te=new oe.OlP("angularfire2.app.options"),ze=new oe.OlP("angularfire2.app.nameOrConfig");class qe{}const Ve=new oe.GfV("6.1.5");function nt(ut,ct,it){const $t="object"==typeof it&&it||{};$t.name=$t.name||"string"==typeof it&&it||"[DEFAULT]";const Ln=De.Z.apps.filter(fe=>fe&&fe.name===$t.name)[0]||ct.runOutsideAngular(()=>De.Z.initializeApp(ut,$t));try{JSON.stringify(ut)!==JSON.stringify(Ln.options)&&Lt("error",`${Ln.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(fe){}return Ln}const Ft=()=>{Lt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Lt=(ut,...ct)=>{(0,oe.X6Q)()&&"undefined"!=typeof console&&console[ut](...ct)};function Fn(ut,ct,it,Ke,$t){const[Qe,...Ln]=globalThis.\u0275AngularfireInstanceCache.get(ut)||[];if(Qe){try{$t.some((fe,se)=>{const pe=Ln[se];return fe&&"object"==typeof fe?JSON.stringify(fe)!==JSON.stringify(pe):fe!==pe})&&Lt("error",`${ct} was already initialized on the ${it.name} Firebase App instance with different settings.${dt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(fe){}return Qe}{const fe=Ke();return globalThis.\u0275AngularfireInstanceCache.set(ut,[fe,...$t]),fe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const cr={provide:qe,useFactory:nt,deps:[Te,oe.R0b,[new oe.FiY,ze]]};let Ys=(()=>{class ut{constructor(it){De.Z.registerVersion("angularfire",Ve.full,it.toString()),De.Z.registerVersion("angular",oe.q4F.full)}static initializeApp(it,Ke){return{ngModule:ut,providers:[{provide:Te,useValue:it},{provide:ze,useValue:Ke}]}}}return ut.\u0275fac=function(it){return new(it||ut)(oe.LFG(oe.Lbi))},ut.\u0275mod=oe.oAB({type:ut}),ut.\u0275inj=oe.cJS({providers:[cr]}),ut})()},6232:(dt,Me,$)=>{"use strict";$.d(Me,{Z:()=>jn});var Ke,Mt,M=function(){return(M=Object.assign||function(ne){for(var de,Ne=1,Ze=arguments.length;Ne<Ze;Ne++)for(var Ue in de=arguments[Ne])Object.prototype.hasOwnProperty.call(de,Ue)&&(ne[Ue]=de[Ue]);return ne}).apply(this,arguments)},ut=$(3701),ct=$(8308),it=$(300),$t=((Ke={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ke["bad-app-name"]="Illegal App name: '{$appName}",Ke["duplicate-app"]="Firebase App named '{$appName}' already exists",Ke["app-deleted"]="Firebase App named '{$appName}' already deleted",Ke["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ke["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ke),Qe=new ut.LL("app","Firebase",$t),Ln="@firebase/app",yr="[DEFAULT]",Eo=((Mt={})[Ln]="fire-core",Mt["@firebase/analytics"]="fire-analytics",Mt["@firebase/app-check"]="fire-app-check",Mt["@firebase/auth"]="fire-auth",Mt["@firebase/database"]="fire-rtdb",Mt["@firebase/functions"]="fire-fn",Mt["@firebase/installations"]="fire-iid",Mt["@firebase/messaging"]="fire-fcm",Mt["@firebase/performance"]="fire-perf",Mt["@firebase/remote-config"]="fire-rc",Mt["@firebase/storage"]="fire-gcs",Mt["@firebase/firestore"]="fire-fst",Mt["fire-js"]="fire-js",Mt["firebase-wrapper"]="fire-js-all",Mt),Un=new it.Yd("@firebase/app"),gn=function(){function he(ne,de,Ne){var Ze=this;this.firebase_=Ne,this.isDeleted_=!1,this.name_=de.name,this.automaticDataCollectionEnabled_=de.automaticDataCollectionEnabled||!1,this.options_=(0,ut.p$)(ne),this.container=new ct.H0(de.name),this._addComponent(new ct.wA("app",function(){return Ze},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Ue){return Ze._addComponent(Ue)})}return Object.defineProperty(he.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=ne},enumerable:!1,configurable:!0}),Object.defineProperty(he.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(he.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),he.prototype.delete=function(){var ne=this;return new Promise(function(de){ne.checkDestroyed_(),de()}).then(function(){return ne.firebase_.INTERNAL.removeApp(ne.name_),Promise.all(ne.container.getProviders().map(function(de){return de.delete()}))}).then(function(){ne.isDeleted_=!0})},he.prototype._getService=function(ne,de){var Ne;void 0===de&&(de=yr),this.checkDestroyed_();var Ze=this.container.getProvider(ne);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Ne=Ze.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:de})},he.prototype._removeServiceInstance=function(ne,de){void 0===de&&(de=yr),this.container.getProvider(ne).clearInstance(de)},he.prototype._addComponent=function(ne){try{this.container.addComponent(ne)}catch(de){Un.debug("Component "+ne.name+" failed to register with FirebaseApp "+this.name,de)}},he.prototype._addOrOverwriteComponent=function(ne){this.container.addOrOverwriteComponent(ne)},he.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},he.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Qe.create("app-deleted",{appName:this.name_})},he}();gn.prototype.name&&gn.prototype.options||gn.prototype.delete||console.log("dc");var mn=function mt(){var he=function(he){var ne={},de=new Map,Ne={__esModule:!0,initializeApp:function(Et,Tt){void 0===Tt&&(Tt={}),("object"!=typeof Tt||null===Tt)&&(Tt={name:Tt});var Vn=Tt;void 0===Vn.name&&(Vn.name=yr);var fn=Vn.name;if("string"!=typeof fn||!fn)throw Qe.create("bad-app-name",{appName:String(fn)});if((0,ut.r3)(ne,fn))throw Qe.create("duplicate-app",{appName:fn});var vr=new he(Et,Vn,Ne);return ne[fn]=vr,vr},app:Ue,registerVersion:function(Et,Tt,qn){var Vn,fn=null!==(Vn=Eo[Et])&&void 0!==Vn?Vn:Et;qn&&(fn+="-"+qn);var vr=fn.match(/\s|\//),lr=Tt.match(/\s|\//);if(vr||lr){var $n=['Unable to register library "'+fn+'" with version "'+Tt+'":'];return vr&&$n.push('library name "'+fn+'" contains illegal characters (whitespace or "/")'),vr&&lr&&$n.push("and"),lr&&$n.push('version name "'+Tt+'" contains illegal characters (whitespace or "/")'),void Un.warn($n.join(" "))}Zn(new ct.wA(fn+"-version",function(){return{library:fn,version:Tt}},"VERSION"))},setLogLevel:it.Ub,onLog:function(Et,Tt){if(null!==Et&&"function"!=typeof Et)throw Qe.create("invalid-log-argument");(0,it.Am)(Et,Tt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Zn,removeApp:function(Et){delete ne[Et]},components:de,useAsService:function(Et,Tt){return"serverAuth"===Tt?null:Tt}}};function Ue(Et){if(!(0,ut.r3)(ne,Et=Et||yr))throw Qe.create("no-app",{appName:Et});return ne[Et]}function Zn(Et){var Tt=Et.name;if(de.has(Tt))return Un.debug("There were multiple attempts to register component "+Tt+"."),"PUBLIC"===Et.type?Ne[Tt]:null;if(de.set(Tt,Et),"PUBLIC"===Et.type){var qn=function(lr){if(void 0===lr&&(lr=Ue()),"function"!=typeof lr[Tt])throw Qe.create("invalid-app-argument",{appName:Tt});return lr[Tt]()};void 0!==Et.serviceProps&&(0,ut.ZB)(qn,Et.serviceProps),Ne[Tt]=qn,he.prototype[Tt]=function(){for(var lr=[],$n=0;$n<arguments.length;$n++)lr[$n]=arguments[$n];return this._getService.bind(this,Tt).apply(this,Et.multipleInstances?lr:[])}}for(var Vn=0,fn=Object.keys(ne);Vn<fn.length;Vn++)ne[fn[Vn]]._addComponent(Et);return"PUBLIC"===Et.type?Ne[Tt]:null}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function(){return Object.keys(ne).map(function(Et){return ne[Et]})}}),Ue.App=he,Ne}(gn);return he.INTERNAL=M(M({},he.INTERNAL),{createFirebaseNamespace:mt,extendNamespace:function(de){(0,ut.ZB)(he,de)},createSubscribe:ut.ne,ErrorFactory:ut.LL,deepExtend:ut.ZB}),he}(),Ar=function(){function he(ne){this.container=ne}return he.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(de){if(function(he){var ne=he.getComponent();return"VERSION"===(null==ne?void 0:ne.type)}(de)){var Ne=de.getImmediate();return Ne.library+"/"+Ne.version}return null}).filter(function(de){return de}).join(" ")},he}();if((0,ut.jU)()&&void 0!==self.firebase){Un.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Go=self.firebase.SDK_VERSION;Go&&Go.indexOf("LITE")>=0&&Un.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zr=mn.initializeApp;mn.initializeApp=function(){for(var he=[],ne=0;ne<arguments.length;ne++)he[ne]=arguments[ne];return(0,ut.UG)()&&Un.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Zr.apply(void 0,he)};var he,In=mn;(he=In).INTERNAL.registerComponent(new ct.wA("platform-logger",function(de){return new Ar(de)},"PRIVATE")),he.registerVersion(Ln,"0.6.30",undefined),he.registerVersion("fire-js","");const jn=In},8308:(dt,Me,$)=>{"use strict";function V(fe){var se="function"==typeof Symbol&&Symbol.iterator,pe=se&&fe[se],_e=0;if(pe)return pe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&_e>=fe.length&&(fe=void 0),{value:fe&&fe[_e++],done:!fe}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(fe,se){var pe="function"==typeof Symbol&&fe[Symbol.iterator];if(!pe)return fe;var Se,st,_e=pe.call(fe),Pe=[];try{for(;(void 0===se||se-- >0)&&!(Se=_e.next()).done;)Pe.push(Se.value)}catch(xt){st={error:xt}}finally{try{Se&&!Se.done&&(pe=_e.return)&&pe.call(_e)}finally{if(st)throw st.error}}return Pe}function Te(fe,se,pe){if(pe||2===arguments.length)for(var Pe,_e=0,Se=se.length;_e<Se;_e++)(Pe||!(_e in se))&&(Pe||(Pe=Array.prototype.slice.call(se,0,_e)),Pe[_e]=se[_e]);return fe.concat(Pe||Array.prototype.slice.call(se))}$.d(Me,{wA:()=>ct,H0:()=>Ln,zt:()=>Ke});var ut=$(3701),ct=function(){function fe(se,pe,_e){this.name=se,this.instanceFactory=pe,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe.prototype.setInstantiationMode=function(se){return this.instantiationMode=se,this},fe.prototype.setMultipleInstances=function(se){return this.multipleInstances=se,this},fe.prototype.setServiceProps=function(se){return this.serviceProps=se,this},fe.prototype.setInstanceCreatedCallback=function(se){return this.onInstanceCreated=se,this},fe}(),it="[DEFAULT]",Ke=function(){function fe(se,pe){this.name=se,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe.prototype.get=function(se){var pe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(pe)){var _e=new ut.BH;if(this.instancesDeferred.set(pe,_e),this.isInitialized(pe)||this.shouldAutoInitialize())try{var Se=this.getOrInitializeService({instanceIdentifier:pe});Se&&_e.resolve(Se)}catch(Pe){}}return this.instancesDeferred.get(pe).promise},fe.prototype.getImmediate=function(se){var pe,_e=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),Se=null!==(pe=null==se?void 0:se.optional)&&void 0!==pe&&pe;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Pe){if(Se)return null;throw Pe}},fe.prototype.getComponent=function(){return this.component},fe.prototype.setComponent=function(se){var pe,_e;if(se.name!==this.name)throw Error("Mismatching Component "+se.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=se,this.shouldAutoInitialize()){if(function(fe){return"EAGER"===fe.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:it})}catch(ln){}try{for(var Se=V(this.instancesDeferred.entries()),Pe=Se.next();!Pe.done;Pe=Se.next()){var st=te(Pe.value,2),Ut=st[1],ft=this.normalizeInstanceIdentifier(st[0]);try{var Rt=this.getOrInitializeService({instanceIdentifier:ft});Ut.resolve(Rt)}catch(ln){}}}catch(ln){pe={error:ln}}finally{try{Pe&&!Pe.done&&(_e=Se.return)&&_e.call(Se)}finally{if(pe)throw pe.error}}}},fe.prototype.clearInstance=function(se){void 0===se&&(se=it),this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)},fe.prototype.delete=function(){return function(fe,se,pe,_e){return new(pe||(pe=Promise))(function(Pe,st){function xt(Rt){try{ft(_e.next(Rt))}catch(ln){st(ln)}}function Ut(Rt){try{ft(_e.throw(Rt))}catch(ln){st(ln)}}function ft(Rt){Rt.done?Pe(Rt.value):function(Pe){return Pe instanceof pe?Pe:new pe(function(st){st(Pe)})}(Rt.value).then(xt,Ut)}ft((_e=_e.apply(fe,se||[])).next())})}(this,void 0,void 0,function(){var se;return function(fe,se){var _e,Se,Pe,st,pe={label:0,sent:function(){if(1&Pe[0])throw Pe[1];return Pe[1]},trys:[],ops:[]};return st={next:xt(0),throw:xt(1),return:xt(2)},"function"==typeof Symbol&&(st[Symbol.iterator]=function(){return this}),st;function xt(ft){return function(Rt){return function(ft){if(_e)throw new TypeError("Generator is already executing.");for(;pe;)try{if(_e=1,Se&&(Pe=2&ft[0]?Se.return:ft[0]?Se.throw||((Pe=Se.return)&&Pe.call(Se),0):Se.next)&&!(Pe=Pe.call(Se,ft[1])).done)return Pe;switch(Se=0,Pe&&(ft=[2&ft[0],Pe.value]),ft[0]){case 0:case 1:Pe=ft;break;case 4:return pe.label++,{value:ft[1],done:!1};case 5:pe.label++,Se=ft[1],ft=[0];continue;case 7:ft=pe.ops.pop(),pe.trys.pop();continue;default:if(!(Pe=(Pe=pe.trys).length>0&&Pe[Pe.length-1])&&(6===ft[0]||2===ft[0])){pe=0;continue}if(3===ft[0]&&(!Pe||ft[1]>Pe[0]&&ft[1]<Pe[3])){pe.label=ft[1];break}if(6===ft[0]&&pe.label<Pe[1]){pe.label=Pe[1],Pe=ft;break}if(Pe&&pe.label<Pe[2]){pe.label=Pe[2],pe.ops.push(ft);break}Pe[2]&&pe.ops.pop(),pe.trys.pop();continue}ft=se.call(fe,pe)}catch(Rt){ft=[6,Rt],Se=0}finally{_e=Pe=0}if(5&ft[0])throw ft[1];return{value:ft[0]?ft[1]:void 0,done:!0}}([ft,Rt])}}}(this,function(pe){switch(pe.label){case 0:return se=Array.from(this.instances.values()),[4,Promise.all(Te(Te([],te(se.filter(function(_e){return"INTERNAL"in _e}).map(function(_e){return _e.INTERNAL.delete()}))),te(se.filter(function(_e){return"_delete"in _e}).map(function(_e){return _e._delete()}))))];case 1:return pe.sent(),[2]}})})},fe.prototype.isComponentSet=function(){return null!=this.component},fe.prototype.isInitialized=function(se){return void 0===se&&(se=it),this.instances.has(se)},fe.prototype.getOptions=function(se){return void 0===se&&(se=it),this.instancesOptions.get(se)||{}},fe.prototype.initialize=function(se){var pe,_e;void 0===se&&(se={});var Se=se.options,Pe=void 0===Se?{}:Se,st=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(st))throw Error(this.name+"("+st+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var xt=this.getOrInitializeService({instanceIdentifier:st,options:Pe});try{for(var Ut=V(this.instancesDeferred.entries()),ft=Ut.next();!ft.done;ft=Ut.next()){var Rt=te(ft.value,2),wn=Rt[1];st===this.normalizeInstanceIdentifier(Rt[0])&&wn.resolve(xt)}}catch(yr){pe={error:yr}}finally{try{ft&&!ft.done&&(_e=Ut.return)&&_e.call(Ut)}finally{if(pe)throw pe.error}}return xt},fe.prototype.onInit=function(se,pe){var _e,Se=this.normalizeInstanceIdentifier(pe),Pe=null!==(_e=this.onInitCallbacks.get(Se))&&void 0!==_e?_e:new Set;Pe.add(se),this.onInitCallbacks.set(Se,Pe);var st=this.instances.get(Se);return st&&se(st,Se),function(){Pe.delete(se)}},fe.prototype.invokeOnInitCallbacks=function(se,pe){var _e,Se,Pe=this.onInitCallbacks.get(pe);if(Pe)try{for(var st=V(Pe),xt=st.next();!xt.done;xt=st.next()){var Ut=xt.value;try{Ut(se,pe)}catch(ft){}}}catch(ft){_e={error:ft}}finally{try{xt&&!xt.done&&(Se=st.return)&&Se.call(st)}finally{if(_e)throw _e.error}}},fe.prototype.getOrInitializeService=function(se){var pe=se.instanceIdentifier,_e=se.options,Se=void 0===_e?{}:_e,Pe=this.instances.get(pe);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:$t(pe),options:Se}),this.instances.set(pe,Pe),this.instancesOptions.set(pe,Se),this.invokeOnInitCallbacks(Pe,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Pe)}catch(st){}return Pe||null},fe.prototype.normalizeInstanceIdentifier=function(se){return void 0===se&&(se=it),this.component?this.component.multipleInstances?se:it:se},fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},fe}();function $t(fe){return fe===it?void 0:fe}var Ln=function(){function fe(se){this.name=se,this.providers=new Map}return fe.prototype.addComponent=function(se){var pe=this.getProvider(se.name);if(pe.isComponentSet())throw new Error("Component "+se.name+" has already been registered with "+this.name);pe.setComponent(se)},fe.prototype.addOrOverwriteComponent=function(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)},fe.prototype.getProvider=function(se){if(this.providers.has(se))return this.providers.get(se);var pe=new Ke(se,this);return this.providers.set(se,pe),pe},fe.prototype.getProviders=function(){return Array.from(this.providers.values())},fe}()},514:(dt,Me,$)=>{"use strict";var _=$(6232),me=$(8308),M=$(3701),Ce=function(h,d){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&(g[C]=v[C])})(h,d)};function ye(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function g(){this.constructor=h}Ce(h,d),h.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}var oe=function(){return(oe=Object.assign||function(d){for(var g,v=1,C=arguments.length;v<C;v++)for(var T in g=arguments[v])Object.prototype.hasOwnProperty.call(g,T)&&(d[T]=g[T]);return d}).apply(this,arguments)};function Ee(h){var d="function"==typeof Symbol&&Symbol.iterator,g=d&&h[d],v=0;if(g)return g.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&v>=h.length&&(h=void 0),{value:h&&h[v++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(h,d){var g="function"==typeof Symbol&&h[Symbol.iterator];if(!g)return h;var C,O,v=g.call(h),T=[];try{for(;(void 0===d||d-- >0)&&!(C=v.next()).done;)T.push(C.value)}catch(k){O={error:k}}finally{try{C&&!C.done&&(g=v.return)&&g.call(v)}finally{if(O)throw O.error}}return T}function Ve(h,d,g){if(g||2===arguments.length)for(var T,v=0,C=d.length;v<C;v++)(T||!(v in d))&&(T||(T=Array.prototype.slice.call(d,0,v)),T[v]=d[v]);return h.concat(T||Array.prototype.slice.call(d))}var Ke=$(300);dt=$.hmd(dt);var Ln="";function fe(h){Ln=h}var h,se=function(){function h(d){this.domStorage_=d,this.prefix_="firebase:"}return h.prototype.set=function(d,g){null==g?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,M.Pz)(g))},h.prototype.get=function(d){var g=this.domStorage_.getItem(this.prefixedName_(d));return null==g?null:(0,M.cI)(g)},h.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},h.prototype.prefixedName_=function(d){return this.prefix_+d},h.prototype.toString=function(){return this.domStorage_.toString()},h}(),pe=function(){function h(){this.cache_={},this.isInMemoryStorage=!0}return h.prototype.set=function(d,g){null==g?delete this.cache_[d]:this.cache_[d]=g},h.prototype.get=function(d){return(0,M.r3)(this.cache_,d)?this.cache_[d]:null},h.prototype.remove=function(d){delete this.cache_[d]},h}(),_e=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){var d=window[h];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new se(d)}}catch(g){}return new pe},Se=_e("localStorage"),Pe=_e("sessionStorage"),st=new Ke.Yd("@firebase/database"),xt=(h=1,function(){return h++}),Ut=function(h){var d=(0,M.dS)(h),g=new M.gQ;g.update(d);var v=g.digest();return M.US.encodeByteArray(v)},ft=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];for(var g="",v=0;v<h.length;v++){var C=h[v];Array.isArray(C)||C&&"object"==typeof C&&"number"==typeof C.length?g+=ft.apply(null,C):g+="object"==typeof C?(0,M.Pz)(C):C,g+=" "}return g},Rt=null,ln=!0,wn=function(h,d){(0,M.hu)(!d||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(st.logLevel=Ke.in.VERBOSE,Rt=st.log.bind(st),d&&Pe.set("logging_enabled",!0)):"function"==typeof h?Rt=h:(Rt=null,Pe.remove("logging_enabled"))},Mt=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(!0===ln&&(ln=!1,null===Rt&&!0===Pe.get("logging_enabled")&&wn(!0)),Rt){var g=ft.apply(null,h);Rt(g)}},yr=function(h){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];Mt.apply(void 0,Ve([h],Te(d)))}},Eo=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g="FIREBASE INTERNAL ERROR: "+ft.apply(void 0,Ve([],Te(h)));st.error(g)},Un=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g="FIREBASE FATAL ERROR: "+ft.apply(void 0,Ve([],Te(h)));throw st.error(g),new Error(g)},gn=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g="FIREBASE WARNING: "+ft.apply(void 0,Ve([],Te(h)));st.warn(g)},ys=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},mn="[MIN_NAME]",Ar="[MAX_NAME]",er=function(h,d){if(h===d)return 0;if(h===mn||d===Ar)return-1;if(d===mn||h===Ar)return 1;var g=Ht(h),v=Ht(d);return null!==g?null!==v?g-v==0?h.length-d.length:g-v:-1:null!==v?1:h<d?-1:1},Js=function(h,d){return h===d?0:h<d?-1:1},Go=function(h,d){if(d&&h in d)return d[h];throw new Error("Missing required key ("+h+") in object: "+(0,M.Pz)(d))},Zr=function(h){if("object"!=typeof h||null===h)return(0,M.Pz)(h);var d=[];for(var g in h)d.push(g);d.sort();for(var v="{",C=0;C<d.length;C++)0!==C&&(v+=","),v+=(0,M.Pz)(d[C]),v+=":",v+=Zr(h[d[C]]);return v+"}"},In=function(h,d){var g=h.length;if(g<=d)return[h];for(var v=[],C=0;C<g;C+=d)v.push(h.substring(C,C+d>g?g:C+d));return v};function jn(h,d){for(var g in h)h.hasOwnProperty(g)&&d(g,h[g])}var he=function(h){(0,M.hu)(!ys(h),"Invalid JSON number");var C,T,O,k,j,v=1023;0===h?(T=0,O=0,C=1/h==-1/0?1:0):(C=h<0,(h=Math.abs(h))>=Math.pow(2,1-v)?(T=(k=Math.min(Math.floor(Math.log(h)/Math.LN2),v))+v,O=Math.round(h*Math.pow(2,52-k)-Math.pow(2,52))):(T=0,O=Math.round(h/Math.pow(2,-1074))));var H=[];for(j=52;j;j-=1)H.push(O%2?1:0),O=Math.floor(O/2);for(j=11;j;j-=1)H.push(T%2?1:0),T=Math.floor(T/2);H.push(C?1:0),H.reverse();var W=H.join(""),ce="";for(j=0;j<64;j+=8){var ge=parseInt(W.substr(j,8),2).toString(16);1===ge.length&&(ge="0"+ge),ce+=ge}return ce.toLowerCase()},Ze=new RegExp("^-?(0*)\\d{1,10}$"),Ue=-2147483648,rt=2147483647,Ht=function(h){if(Ze.test(h)){var d=Number(h);if(d>=Ue&&d<=rt)return d}return null},Zn=function(h){try{h()}catch(d){setTimeout(function(){throw gn("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},wt=function(h,d){var g=setTimeout(h,d);return"object"==typeof g&&g.unref&&g.unref(),g},Gt=function(){function h(d,g){var v=this;this.appName_=d,this.appCheckProvider=g,this.appCheck=null==g?void 0:g.getImmediate({optional:!0}),this.appCheck||null==g||g.get().then(function(C){return v.appCheck=C})}return h.prototype.getToken=function(d){var g=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(v,C){setTimeout(function(){g.appCheck?g.getToken(d).then(v,C):v(null)},0)})},h.prototype.addTokenChangeListener=function(d){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(function(v){return v.addTokenListener(d)})},h.prototype.notifyForInvalidToken=function(){gn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},h}(),Et=function(){function h(d,g,v){var C=this;this.appName_=d,this.firebaseOptions_=g,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(function(T){return C.auth_=T})}return h.prototype.getToken=function(d){var g=this;return this.auth_?this.auth_.getToken(d).catch(function(v){return v&&"auth/token-not-initialized"===v.code?(Mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(v)}):new Promise(function(v,C){setTimeout(function(){g.auth_?g.getToken(d).then(v,C):v(null)},0)})},h.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(g){return g.addAuthTokenListener(d)})},h.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(g){return g.removeAuthTokenListener(d)})},h.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';gn(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},h}(),Tt=function(){function h(d){this.accessToken=d}return h.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},h.prototype.addTokenChangeListener=function(d){d(this.accessToken)},h.prototype.removeTokenChangeListener=function(d){},h.prototype.notifyForInvalidToken=function(){},h.OWNER="owner",h}(),$n=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cc="websocket",$a="long_polling",Wa=function(){function h(d,g,v,C,T,O,k){void 0===T&&(T=!1),void 0===O&&(O=""),void 0===k&&(k=!1),this.secure=g,this.namespace=v,this.webSocketOnly=C,this.nodeAdmin=T,this.persistenceKey=O,this.includeNamespaceInQueryParams=k,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Se.get("host:"+d)||this._host}return h.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},h.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(h.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Se.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),h.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},h.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},h}();function za(h,d,g){var v;if((0,M.hu)("string"==typeof d,"typeof type must == string"),(0,M.hu)("object"==typeof g,"typeof params must == object"),d===cc)v=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(d!==$a)throw new Error("Unknown connection type: "+d);v=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(g.ns=h.namespace);var C=[];return jn(g,function(T,O){C.push(T+"="+O)}),v+C.join("&")}var Cl=function(){function h(){this.counters_={}}return h.prototype.incrementCounter=function(d,g){void 0===g&&(g=1),(0,M.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=g},h.prototype.get=function(){return(0,M.p$)(this.counters_)},h}(),Yn={},kr={};function Fr(h){var d=h.toString();return Yn[d]||(Yn[d]=new Cl),Yn[d]}var Rd=function(){function h(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return h.prototype.closeAfter=function(d,g){this.closeAfterResponse=d,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},h.prototype.handleResponse=function(d,g){var v=this;this.pendingResponses[d]=g;for(var C=function(){var k=T.pendingResponses[T.currentResponseNum];delete T.pendingResponses[T.currentResponseNum];for(var j=function(W){k[W]&&Zn(function(){v.onMessage_(k[W])})},H=0;H<k.length;++H)j(H);if(T.currentResponseNum===T.closeAfterResponse)return T.onClose&&(T.onClose(),T.onClose=null),"break";T.currentResponseNum++},T=this;this.pendingResponses[this.currentResponseNum]&&"break"!==C(););},h}(),N="close",ea=function(){function h(d,g,v,C,T,O,k){var j=this;this.connId=d,this.repoInfo=g,this.applicationId=v,this.appCheckToken=C,this.authToken=T,this.transportSessionId=O,this.lastSessionId=k,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yr(d),this.stats_=Fr(g),this.urlFn=function(H){return j.appCheckToken&&(H.ac=j.appCheckToken),za(g,$a,H)}}return h.prototype.open=function(d,g){var v=this;this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new Rd(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){v.log_("Timed out trying to connect."),v.onClosed_(),v.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,M.Yr)()||"complete"===document.readyState)h();else{var d=!1,g=function(){document.body?d||(d=!0,h()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(function(){if(!v.isClosed_){v.scriptTagHolder=new Ka(function(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];var j=Te(O,5),H=j[0],W=j[1],ce=j[2];if(v.incrementIncomingBytes_(O),v.scriptTagHolder)if(v.connectTimeoutTimer_&&(clearTimeout(v.connectTimeoutTimer_),v.connectTimeoutTimer_=null),v.everConnected_=!0,"start"===H)v.id=W,v.password=ce;else{if(H!==N)throw new Error("Unrecognized command received: "+H);W?(v.scriptTagHolder.sendNewPolls=!1,v.myPacketOrderer.closeAfter(W,function(){v.onClosed_()})):v.onClosed_()}},function(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];var j=Te(O,2),H=j[0],W=j[1];v.incrementIncomingBytes_(O),v.myPacketOrderer.handleResponse(H,W)},function(){v.onClosed_()},v.urlFn);var C={start:"t"};C.ser=Math.floor(1e8*Math.random()),v.scriptTagHolder.uniqueCallbackIdentifier&&(C.cb=v.scriptTagHolder.uniqueCallbackIdentifier),C.v="5",v.transportSessionId&&(C.s=v.transportSessionId),v.lastSessionId&&(C.ls=v.lastSessionId),v.applicationId&&(C.p=v.applicationId),v.appCheckToken&&(C.ac=v.appCheckToken),"undefined"!=typeof location&&location.hostname&&$n.test(location.hostname)&&(C.r="f");var T=v.urlFn(C);v.log_("Connecting via long-poll to "+T),v.scriptTagHolder.addTag(T,function(){})}})},h.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},h.forceAllow=function(){h.forceAllow_=!0},h.forceDisallow=function(){h.forceDisallow_=!0},h.isAvailable=function(){return!((0,M.Yr)()||!h.forceAllow_&&(h.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},h.prototype.markConnectionHealthy=function(){},h.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},h.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},h.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},h.prototype.send=function(d){var g=(0,M.Pz)(d);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);for(var v=(0,M.h$)(g),C=In(v,1840),T=0;T<C.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,C.length,C[T]),this.curSegmentNum++},h.prototype.addDisconnectPingFrame=function(d,g){if(!(0,M.Yr)()){this.myDisconnFrame=document.createElement("iframe");var v={dframe:"t"};v.id=d,v.pw=g,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},h.prototype.incrementIncomingBytes_=function(d){var g=(0,M.Pz)(d).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)},h}(),Ka=function(){function h(d,g,v,C){if(this.onDisconnect=v,this.urlFn=C,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=d,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=xt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=h.createIFrame_();var T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(T='<script>document.domain="'+document.domain+'";<\/script>');var k="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(k),this.myIFrame.doc.close()}catch(j){Mt("frame writing exception"),j.stack&&Mt(j.stack),Mt(j)}}}return h.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Mt("No IE domain setting required")}catch(C){var v=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},h.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var g=this.onDisconnect;g&&(this.onDisconnect=null,g())},h.prototype.startLongPoll=function(d,g){for(this.myID=d,this.myPW=g,this.alive=!0;this.newRequest_(););},h.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var g=this.urlFn(d),v="",C=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){var O=this.pendingSegs.shift();v=v+"&seg"+C+"="+O.seg+"&ts"+C+"="+O.ts+"&d"+C+"="+O.d,C++}return this.addLongPollTag_(g+=v,this.currentSerial),!0}return!1},h.prototype.enqueueSegment=function(d,g,v){this.pendingSegs.push({seg:d,ts:g,d:v}),this.alive&&this.newRequest_()},h.prototype.addLongPollTag_=function(d,g){var v=this;this.outstandingRequests.add(g);var C=function(){v.outstandingRequests.delete(g),v.newRequest_()},T=setTimeout(C,Math.floor(25e3));this.addTag(d,function(){clearTimeout(T),C()})},h.prototype.addTag=function(d,g){var v=this;(0,M.Yr)()?this.doNodeLongPoll(d,g):setTimeout(function(){try{if(!v.sendNewPolls)return;var C=v.myIFrame.doc.createElement("script");C.type="text/javascript",C.async=!0,C.src=d,C.onload=C.onreadystatechange=function(){var T=C.readyState;(!T||"loaded"===T||"complete"===T)&&(C.onload=C.onreadystatechange=null,C.parentNode&&C.parentNode.removeChild(C),g())},C.onerror=function(){Mt("Long-poll script failed to load: "+d),v.sendNewPolls=!1,v.close()},v.myIFrame.doc.body.appendChild(C)}catch(T){}},Math.floor(1))},h}(),Qa=null;"undefined"!=typeof MozWebSocket?Qa=MozWebSocket:"undefined"!=typeof WebSocket&&(Qa=WebSocket);var ta=function(){function h(d,g,v,C,T,O,k){this.connId=d,this.applicationId=v,this.appCheckToken=C,this.authToken=T,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yr(this.connId),this.stats_=Fr(g),this.connURL=h.connectionURL_(g,O,k,C),this.nodeAdmin=g.nodeAdmin}return h.connectionURL_=function(d,g,v,C){var T={v:"5"};return!(0,M.Yr)()&&"undefined"!=typeof location&&location.hostname&&$n.test(location.hostname)&&(T.r="f"),g&&(T.s=g),v&&(T.ls=v),C&&(T.ac=C),za(d,cc,T)},h.prototype.open=function(d,g){var v=this;this.onDisconnect=g,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Se.set("previous_websocket_failure",!0);try{if((0,M.Yr)()){var T={headers:{"User-Agent":"Firebase/5/"+Ln+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(T.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(T.headers["X-Firebase-AppCheck"]=this.appCheckToken);var O=process.env,k=0===this.connURL.indexOf("wss://")?O.HTTPS_PROXY||O.https_proxy:O.HTTP_PROXY||O.http_proxy;k&&(T.proxy={origin:k}),this.mySock=new Qa(this.connURL,[],T)}else this.mySock=new Qa(this.connURL,[],T={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(H){this.log_("Error instantiating WebSocket.");var j=H.message||H.data;return j&&this.log_(j),void this.onClosed_()}this.mySock.onopen=function(){v.log_("Websocket connected."),v.everConnected_=!0},this.mySock.onclose=function(){v.log_("Websocket connection was disconnected."),v.mySock=null,v.onClosed_()},this.mySock.onmessage=function(H){v.handleIncomingFrame(H)},this.mySock.onerror=function(H){v.log_("WebSocket error.  Closing connection.");var W=H.message||H.data;W&&v.log_(W),v.onClosed_()}},h.prototype.start=function(){},h.forceDisallow=function(){h.forceDisallow_=!0},h.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(d=!0)}return!d&&null!==Qa&&!h.forceDisallow_},h.previouslyFailed=function(){return Se.isInMemoryStorage||!0===Se.get("previous_websocket_failure")},h.prototype.markConnectionHealthy=function(){Se.remove("previous_websocket_failure")},h.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var g=this.frames.join("");this.frames=null;var v=(0,M.cI)(g);this.onMessage(v)}},h.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},h.prototype.extractFrameCount_=function(d){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){var g=Number(d);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),d},h.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var g=d.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{var v=this.extractFrameCount_(g);null!==v&&this.appendFrame_(v)}}},h.prototype.send=function(d){this.resetKeepAlive();var g=(0,M.Pz)(d);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);var v=In(g,16384);v.length>1&&this.sendString_(String(v.length));for(var C=0;C<v.length;C++)this.sendString_(v[C])},h.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},h.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},h.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},h.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},h.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h}(),Za=function(){function h(d){this.initTransports_(d)}return Object.defineProperty(h,"ALL_TRANSPORTS",{get:function(){return[ea,ta]},enumerable:!1,configurable:!0}),h.prototype.initTransports_=function(d){var g,v,C=ta&&ta.isAvailable(),T=C&&!ta.previouslyFailed();if(d.webSocketOnly&&(C||gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),T=!0),T)this.transports_=[ta];else{var O=this.transports_=[];try{for(var k=Ee(h.ALL_TRANSPORTS),j=k.next();!j.done;j=k.next()){var H=j.value;H&&H.isAvailable()&&O.push(H)}}catch(W){g={error:W}}finally{try{j&&!j.done&&(v=k.return)&&v.call(k)}finally{if(g)throw g.error}}}},h.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},h.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},h}(),eg=function(){function h(d,g,v,C,T,O,k,j,H,W){this.id=d,this.repoInfo_=g,this.applicationId_=v,this.appCheckToken_=C,this.authToken_=T,this.onMessage_=O,this.onReady_=k,this.onDisconnect_=j,this.onKill_=H,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yr("c:"+this.id+":"),this.transportManager_=new Za(g),this.log_("Connection created"),this.start_()}return h.prototype.start_=function(){var d=this,g=this.transportManager_.initialTransport();this.conn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.conn_),C=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(v,C)},Math.floor(0));var T=g.healthyTimeout||0;T>0&&(this.healthyTimeout_=wt(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(T)))},h.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},h.prototype.disconnReceiver_=function(d){var g=this;return function(v){d===g.conn_?g.onConnectionLost_(v):d===g.secondaryConn_?(g.log_("Secondary connection lost."),g.onSecondaryConnectionLost_()):g.log_("closing an old connection")}},h.prototype.connReceiver_=function(d){var g=this;return function(v){2!==g.state_&&(d===g.rx_?g.onPrimaryMessageReceived_(v):d===g.secondaryConn_?g.onSecondaryMessageReceived_(v):g.log_("message on old connection"))}},h.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},h.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},h.prototype.onSecondaryControl_=function(d){if("t"in d){var g=d.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},h.prototype.onSecondaryMessageReceived_=function(d){var g=Go("t",d),v=Go("d",d);if("c"===g)this.onSecondaryControl_(v);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(v)}},h.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},h.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},h.prototype.onPrimaryMessageReceived_=function(d){var g=Go("t",d),v=Go("d",d);"c"===g?this.onControl_(v):"d"===g&&this.onDataMessage_(v)},h.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},h.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},h.prototype.onControl_=function(d){var g=Go("t",d);if("d"in d){var v=d.d;if("h"===g)this.onHandshake_(v);else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var C=0;C<this.pendingDataMessages.length;++C)this.onDataMessage_(this.pendingDataMessages[C]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(v):"r"===g?this.onReset_(v):"e"===g?Eo("Server Error: "+v):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Eo("Unknown control packet command: "+g)}},h.prototype.onHandshake_=function(d){var g=d.ts,v=d.v,C=d.h;this.sessionId=d.s,this.repoInfo_.host=C,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==v&&gn("Protocol version mismatch detected"),this.tryStartUpgrade_())},h.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},h.prototype.startUpgrade_=function(d){var g=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.secondaryConn_),C=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(v,C),wt(function(){g.secondaryConn_&&(g.log_("Timed out trying to upgrade."),g.secondaryConn_.close())},Math.floor(6e4))},h.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},h.prototype.onConnectionEstablished_=function(d,g){var v=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wt(function(){v.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},h.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},h.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},h.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Se.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},h.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},h.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},h.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},h.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},h}(),tg=function(){function h(){}return h.prototype.put=function(d,g,v,C){},h.prototype.merge=function(d,g,v,C){},h.prototype.refreshAuthToken=function(d){},h.prototype.refreshAppCheckToken=function(d){},h.prototype.onDisconnectPut=function(d,g,v){},h.prototype.onDisconnectMerge=function(d,g,v){},h.prototype.onDisconnectCancel=function(d,g){},h.prototype.reportStats=function(d){},h}(),cv=function(){function h(d){this.allowedEvents_=d,this.listeners_={},(0,M.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return h.prototype.trigger=function(d){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];if(Array.isArray(this.listeners_[d]))for(var C=Ve([],Te(this.listeners_[d])),T=0;T<C.length;T++)C[T].callback.apply(C[T].context,g)},h.prototype.on=function(d,g,v){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:g,context:v});var C=this.getInitialEvent(d);C&&g.apply(v,C)},h.prototype.off=function(d,g,v){this.validateEventType_(d);for(var C=this.listeners_[d]||[],T=0;T<C.length;T++)if(C[T].callback===g&&(!v||v===C[T].context))return void C.splice(T,1)},h.prototype.validateEventType_=function(d){(0,M.hu)(this.allowedEvents_.find(function(g){return g===d}),"Unknown event: "+d)},h}(),lv=function(h){function d(){var g=h.call(this,["online"])||this;return g.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,M.uI)()&&(window.addEventListener("online",function(){g.online_||(g.online_=!0,g.trigger("online",!0))},!1),window.addEventListener("offline",function(){g.online_&&(g.online_=!1,g.trigger("online",!1))},!1)),g}return ye(d,h),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(g){return(0,M.hu)("online"===g,"Unknown event type: "+g),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}(cv),hn=function(){function h(d,g){if(void 0===g){this.pieces_=d.split("/");for(var v=0,C=0;C<this.pieces_.length;C++)this.pieces_[C].length>0&&(this.pieces_[v]=this.pieces_[C],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=g}return h.prototype.toString=function(){for(var d="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(d+="/"+this.pieces_[g]);return d||"/"},h}();function on(){return new hn("")}function Wt(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function na(h){return h.pieces_.length-h.pieceNum_}function _n(h){var d=h.pieceNum_;return d<h.pieces_.length&&d++,new hn(h.pieces_,d)}function ng(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Dl(h,d){return void 0===d&&(d=0),h.pieces_.slice(h.pieceNum_+d)}function hv(h){if(h.pieceNum_>=h.pieces_.length)return null;for(var d=[],g=h.pieceNum_;g<h.pieces_.length-1;g++)d.push(h.pieces_[g]);return new hn(d,0)}function Tn(h,d){for(var g=[],v=h.pieceNum_;v<h.pieces_.length;v++)g.push(h.pieces_[v]);if(d instanceof hn)for(v=d.pieceNum_;v<d.pieces_.length;v++)g.push(d.pieces_[v]);else{var C=d.split("/");for(v=0;v<C.length;v++)C[v].length>0&&g.push(C[v])}return new hn(g,0)}function qt(h){return h.pieceNum_>=h.pieces_.length}function wr(h,d){var g=Wt(h),v=Wt(d);if(null===g)return d;if(g===v)return wr(_n(h),_n(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+h+")")}function q0(h,d){for(var g=Dl(h,0),v=Dl(d,0),C=0;C<g.length&&C<v.length;C++){var T=er(g[C],v[C]);if(0!==T)return T}return g.length===v.length?0:g.length<v.length?-1:1}function Il(h,d){if(na(h)!==na(d))return!1;for(var g=h.pieceNum_,v=d.pieceNum_;g<=h.pieces_.length;g++,v++)if(h.pieces_[g]!==d.pieces_[v])return!1;return!0}function pi(h,d){var g=h.pieceNum_,v=d.pieceNum_;if(na(h)>na(d))return!1;for(;g<h.pieces_.length;){if(h.pieces_[g]!==d.pieces_[v])return!1;++g,++v}return!0}var ra=function(d,g){this.errorPrefix_=g,this.parts_=Dl(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var v=0;v<this.parts_.length;v++)this.byteLength_+=(0,M.ug)(this.parts_[v]);Tl(this)};function Tl(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ia(h))}function ia(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}var Al,Yr,gv=function(h){function d(){var v,C,g=h.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(C="visibilitychange",v="hidden"):void 0!==document.mozHidden?(C="mozvisibilitychange",v="mozHidden"):void 0!==document.msHidden?(C="msvisibilitychange",v="msHidden"):void 0!==document.webkitHidden&&(C="webkitvisibilitychange",v="webkitHidden")),g.visible_=!0,C&&document.addEventListener(C,function(){var T=!document[v];T!==g.visible_&&(g.visible_=T,g.trigger("visible",T))},!1),g}return ye(d,h),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(g){return(0,M.hu)("visible"===g,"Unknown event type: "+g),[this.visible_]},d}(cv),Xa=1e3,Co=function(h){function d(g,v,C,T,O,k,j,H){var W=h.call(this)||this;if(W.repoInfo_=g,W.applicationId_=v,W.onDataUpdate_=C,W.onConnectStatus_=T,W.onServerInfoUpdate_=O,W.authTokenProvider_=k,W.appCheckTokenProvider_=j,W.authOverride_=H,W.id=d.nextPersistentConnectionId_++,W.log_=yr("p:"+W.id+":"),W.interruptReasons_={},W.listens=new Map,W.outstandingPuts_=[],W.outstandingGets_=[],W.outstandingPutCount_=0,W.outstandingGetCount_=0,W.onDisconnectRequestQueue_=[],W.connected_=!1,W.reconnectDelay_=Xa,W.maxReconnectDelay_=3e5,W.securityDebugCallback_=null,W.lastSessionId=null,W.establishConnectionTimer_=null,W.visible_=!1,W.requestCBHash_={},W.requestNumber_=0,W.realtime_=null,W.authToken_=null,W.appCheckToken_=null,W.forceTokenRefresh_=!1,W.invalidAuthTokenCount_=0,W.invalidAppCheckTokenCount_=0,W.firstConnection_=!0,W.lastConnectionAttemptTime_=null,W.lastConnectionEstablishedTime_=null,H&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return gv.getInstance().on("visible",W.onVisible_,W),-1===g.host.indexOf("fblocal")&&lv.getInstance().on("online",W.onOnline_,W),W}return ye(d,h),d.prototype.sendRequest=function(g,v,C){var T=++this.requestNumber_,O={r:T,a:g,b:v};this.log_((0,M.Pz)(O)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),C&&(this.requestCBHash_[T]=C)},d.prototype.get=function(g){var v=this;this.initConnection_();var C=new M.BH,T={p:g._path.toString(),q:g._queryObject},O={action:"g",request:T,onComplete:function(j){var H=j.d;"ok"===j.s?(v.onDataUpdate_(T.p,H,!1,null),C.resolve(H)):C.reject(H)}};this.outstandingGets_.push(O),this.outstandingGetCount_++;var k=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var j=v.outstandingGets_[k];void 0===j||O!==j||(delete v.outstandingGets_[k],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),v.log_("get "+k+" timed out on connection"),C.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(k),C.promise},d.prototype.listen=function(g,v,C,T){this.initConnection_();var O=g._queryIdentifier,k=g._path.toString();this.log_("Listen called for "+k+" "+O),this.listens.has(k)||this.listens.set(k,new Map),(0,M.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(k).has(O),"listen() called twice for same path/queryId.");var j={onComplete:T,hashFn:v,query:g,tag:C};this.listens.get(k).set(O,j),this.connected_&&this.sendListen_(j)},d.prototype.sendGet_=function(g){var v=this,C=this.outstandingGets_[g];this.sendRequest("g",C.request,function(T){delete v.outstandingGets_[g],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),C.onComplete&&C.onComplete(T)})},d.prototype.sendListen_=function(g){var v=this,C=g.query,T=C._path.toString(),O=C._queryIdentifier;this.log_("Listen on "+T+" for "+O);var k={p:T};g.tag&&(k.q=C._queryObject,k.t=g.tag),k.h=g.hashFn(),this.sendRequest("q",k,function(H){var W=H.d,ce=H.s;d.warnOnListenWarnings_(W,C),(v.listens.get(T)&&v.listens.get(T).get(O))===g&&(v.log_("listen response",H),"ok"!==ce&&v.removeListen_(T,O),g.onComplete&&g.onComplete(ce,W))})},d.warnOnListenWarnings_=function(g,v){if(g&&"object"==typeof g&&(0,M.r3)(g,"w")){var C=(0,M.DV)(g,"w");if(Array.isArray(C)&&~C.indexOf("no_index")){var T='".indexOn": "'+v._queryParams.getIndex().toString()+'"',O=v._path.toString();gn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+T+" at "+O+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(g)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(g){(g&&40===g.length||(0,M.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var g=this;if(this.connected_&&this.authToken_){var v=this.authToken_,C=(0,M.w9)(v)?"auth":"gauth",T={cred:v};null===this.authOverride_?T.noauth=!0:"object"==typeof this.authOverride_&&(T.authvar=this.authOverride_),this.sendRequest(C,T,function(O){var k=O.s,j=O.d||"error";g.authToken_===v&&("ok"===k?g.invalidAuthTokenCount_=0:g.onAuthRevoked_(k,j))})}},d.prototype.tryAppCheck=function(){var g=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(v){var C=v.s,T=v.d||"error";"ok"===C?g.invalidAppCheckTokenCount_=0:g.onAppCheckRevoked_(C,T)})},d.prototype.unlisten=function(g,v){var C=g._path.toString(),T=g._queryIdentifier;this.log_("Unlisten called for "+C+" "+T),(0,M.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(C,T)&&this.connected_&&this.sendUnlisten_(C,T,g._queryObject,v)},d.prototype.sendUnlisten_=function(g,v,C,T){this.log_("Unlisten on "+g+" for "+v);var O={p:g};T&&(O.q=C,O.t=T),this.sendRequest("n",O)},d.prototype.onDisconnectPut=function(g,v,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,v,C):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:v,onComplete:C})},d.prototype.onDisconnectMerge=function(g,v,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,v,C):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:v,onComplete:C})},d.prototype.onDisconnectCancel=function(g,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,v):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:v})},d.prototype.sendOnDisconnect_=function(g,v,C,T){var O={p:v,d:C};this.log_("onDisconnect "+g,O),this.sendRequest(g,O,function(k){T&&setTimeout(function(){T(k.s,k.d)},Math.floor(0))})},d.prototype.put=function(g,v,C,T){this.putInternal("p",g,v,C,T)},d.prototype.merge=function(g,v,C,T){this.putInternal("m",g,v,C,T)},d.prototype.putInternal=function(g,v,C,T,O){this.initConnection_();var k={p:v,d:C};void 0!==O&&(k.h=O),this.outstandingPuts_.push({action:g,request:k,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)},d.prototype.sendPut_=function(g){var v=this,C=this.outstandingPuts_[g].action,T=this.outstandingPuts_[g].request,O=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(C,T,function(k){v.log_(C+" response",k),delete v.outstandingPuts_[g],v.outstandingPutCount_--,0===v.outstandingPutCount_&&(v.outstandingPuts_=[]),O&&O(k.s,k.d)})},d.prototype.reportStats=function(g){var v=this;if(this.connected_){var C={c:g};this.log_("reportStats",C),this.sendRequest("s",C,function(T){"ok"!==T.s&&v.log_("reportStats","Error sending stats: "+T.d)})}},d.prototype.onDataMessage_=function(g){if("r"in g){this.log_("from server: "+(0,M.Pz)(g));var v=g.r,C=this.requestCBHash_[v];C&&(delete this.requestCBHash_[v],C(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}},d.prototype.onDataPush_=function(g,v){this.log_("handleServerMessage",g,v),"d"===g?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===g?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===g?this.onListenRevoked_(v.p,v.q):"ac"===g?this.onAuthRevoked_(v.s,v.d):"apc"===g?this.onAppCheckRevoked_(v.s,v.d):"sd"===g?this.onSecurityDebugPacket_(v):Eo("Unrecognized action received from server: "+(0,M.Pz)(g)+"\nAre you using the latest client?")},d.prototype.onReady_=function(g,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(g){var v=this;(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){v.establishConnectionTimer_=null,v.establishConnection_()},Math.floor(g))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=g},d.prototype.onOnline_=function(g){g?(this.log_("Browser went online."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var v=(new Date).getTime()-this.lastConnectionAttemptTime_,C=Math.max(0,this.reconnectDelay_-v);C=Math.random()*C,this.log_("Trying to reconnect in "+C+"ms"),this.scheduleConnect_(C),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return function(h,d,g,v){return new(g||(g=Promise))(function(T,O){function k(W){try{H(v.next(W))}catch(ce){O(ce)}}function j(W){try{H(v.throw(W))}catch(ce){O(ce)}}function H(W){W.done?T(W.value):function(T){return T instanceof g?T:new g(function(O){O(T)})}(W.value).then(k,j)}H((v=v.apply(h,d||[])).next())})}(this,void 0,void 0,function(){var g,v,C,T,O,k,j,H,ce,ge,ke,We,Dt,yt=this;return function(h,d){var v,C,T,O,g={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return O={next:k(0),throw:k(1),return:k(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function k(H){return function(W){return function(H){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,C&&(T=2&H[0]?C.return:H[0]?C.throw||((T=C.return)&&T.call(C),0):C.next)&&!(T=T.call(C,H[1])).done)return T;switch(C=0,T&&(H=[2&H[0],T.value]),H[0]){case 0:case 1:T=H;break;case 4:return g.label++,{value:H[1],done:!1};case 5:g.label++,C=H[1],H=[0];continue;case 7:H=g.ops.pop(),g.trys.pop();continue;default:if(!(T=(T=g.trys).length>0&&T[T.length-1])&&(6===H[0]||2===H[0])){g=0;continue}if(3===H[0]&&(!T||H[1]>T[0]&&H[1]<T[3])){g.label=H[1];break}if(6===H[0]&&g.label<T[1]){g.label=T[1],T=H;break}if(T&&g.label<T[2]){g.label=T[2],g.ops.push(H);break}T[2]&&g.ops.pop(),g.trys.pop();continue}H=d.call(h,g)}catch(W){H=[6,W],C=0}finally{v=T=0}if(5&H[0])throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}([H,W])}}}(this,function(Bt){switch(Bt.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,g=this.onDataMessage_.bind(this),v=this.onReady_.bind(this),C=this.onRealtimeDisconnect_.bind(this),T=this.id+":"+d.nextConnectionId_++,O=this.lastSessionId,k=!1,j=null,this.realtime_={close:H=function(){j?j.close():(k=!0,C())},sendRequest:function(sr){(0,M.hu)(j,"sendRequest call when we're not connected not allowed."),j.sendRequest(sr)}},ce=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Bt.label=1;case 1:return Bt.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(ce),this.appCheckTokenProvider_.getToken(ce)])];case 2:return ge=Te.apply(void 0,[Bt.sent(),2]),ke=ge[0],We=ge[1],k?Mt("getToken() completed but was canceled"):(Mt("getToken() completed. Creating connection."),this.authToken_=ke&&ke.accessToken,this.appCheckToken_=We&&We.token,j=new eg(T,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,g,v,C,function(sr){gn(sr+" ("+yt.repoInfo_.toString()+")"),yt.interrupt("server_kill")},O)),[3,4];case 3:return Dt=Bt.sent(),this.log_("Failed to get token: "+Dt),k||(this.repoInfo_.nodeAdmin&&gn(Dt),H()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(g){Mt("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(g){Mt("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(g){var v=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})},d.prototype.cancelSentTransactions_=function(){for(var g=0;g<this.outstandingPuts_.length;g++){var v=this.outstandingPuts_[g];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(g,v){var C;C=v?v.map(function(O){return Zr(O)}).join("$"):"default";var T=this.removeListen_(g,C);T&&T.onComplete&&T.onComplete("permission_denied")},d.prototype.removeListen_=function(g,v){var T,C=new hn(g).toString();if(this.listens.has(C)){var O=this.listens.get(C);T=O.get(v),O.delete(v),0===O.size&&this.listens.delete(C)}else T=void 0;return T},d.prototype.onAuthRevoked_=function(g,v){Mt("Auth token revoked: "+g+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(g,v){Mt("App check token revoked: "+g+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var g,v,C,T;this.tryAuth(),this.tryAppCheck();try{for(var O=Ee(this.listens.values()),k=O.next();!k.done;k=O.next()){var j=k.value;try{for(var H=(C=void 0,Ee(j.values())),W=H.next();!W.done;W=H.next())this.sendListen_(W.value)}catch(We){C={error:We}}finally{try{W&&!W.done&&(T=H.return)&&T.call(H)}finally{if(C)throw C.error}}}}catch(We){g={error:We}}finally{try{k&&!k.done&&(v=O.return)&&v.call(O)}finally{if(g)throw g.error}}for(var ge=0;ge<this.outstandingPuts_.length;ge++)this.outstandingPuts_[ge]&&this.sendPut_(ge);for(;this.onDisconnectRequestQueue_.length;){var ke=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ke.action,ke.pathString,ke.data,ke.onComplete)}for(ge=0;ge<this.outstandingGets_.length;ge++)this.outstandingGets_[ge]&&this.sendGet_(ge)},d.prototype.sendConnectStats_=function(){var g={},v="js";(0,M.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+v+"."+Ln.replace(/\./g,"-")]=1,(0,M.uI)()?g["framework.cordova"]=1:(0,M.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)},d.prototype.shouldReconnect_=function(){var g=lv.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&g},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(tg),Yt=function(){function h(d,g){this.name=d,this.node=g}return h.Wrap=function(d,g){return new h(d,g)},h}(),dc=function(){function h(){}return h.prototype.getCompare=function(){return this.compare.bind(this)},h.prototype.indexedValueChanged=function(d,g){var v=new Yt(mn,d),C=new Yt(mn,g);return 0!==this.compare(v,C)},h.prototype.minPost=function(){return Yt.MIN},h}(),xn=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Al},set:function(g){Al=g},enumerable:!1,configurable:!0}),d.prototype.compare=function(g,v){return er(g.name,v.name)},d.prototype.isDefinedOn=function(g){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(g,v){return!1},d.prototype.minPost=function(){return Yt.MIN},d.prototype.maxPost=function(){return new Yt(Ar,Al)},d.prototype.makePost=function(g,v){return(0,M.hu)("string"==typeof g,"KeyIndex indexValue must always be a string."),new Yt(g,Al)},d.prototype.toString=function(){return".key"},d}(dc),ro=new xn,Wo=function(){function h(d,g,v,C,T){void 0===T&&(T=null),this.isReverse_=C,this.resultGenerator_=T,this.nodeStack_=[];for(var O=1;!d.isEmpty();)if(d=d,O=g?v(d.key,g):1,C&&(O*=-1),O<0)d=this.isReverse_?d.left:d.right;else{if(0===O){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return h.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var g,d=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return g},h.prototype.hasNext=function(){return this.nodeStack_.length>0},h.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},h}(),io=function(){function h(d,g,v,C,T){this.key=d,this.value=g,this.color=null!=v?v:h.RED,this.left=null!=C?C:zo.EMPTY_NODE,this.right=null!=T?T:zo.EMPTY_NODE}return h.prototype.copy=function(d,g,v,C,T){return new h(null!=d?d:this.key,null!=g?g:this.value,null!=v?v:this.color,null!=C?C:this.left,null!=T?T:this.right)},h.prototype.count=function(){return this.left.count()+1+this.right.count()},h.prototype.isEmpty=function(){return!1},h.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},h.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},h.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},h.prototype.minKey=function(){return this.min_().key},h.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},h.prototype.insert=function(d,g,v){var C=this,T=v(d,C.key);return(C=T<0?C.copy(null,null,null,C.left.insert(d,g,v),null):0===T?C.copy(null,g,null,null,null):C.copy(null,null,null,null,C.right.insert(d,g,v))).fixUp_()},h.prototype.removeMin_=function(){if(this.left.isEmpty())return zo.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},h.prototype.remove=function(d,g){var v,C;if(g(d,(v=this).key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(d,g),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===g(d,v.key)){if(v.right.isEmpty())return zo.EMPTY_NODE;C=v.right.min_(),v=v.copy(C.key,C.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(d,g))}return v.fixUp_()},h.prototype.isRed_=function(){return this.color},h.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},h.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},h.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},h.prototype.rotateLeft_=function(){var d=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},h.prototype.rotateRight_=function(){var d=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},h.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,g)},h.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},h.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},h.RED=!0,h.BLACK=!1,h}(),Pn=function(){function h(){}return h.prototype.copy=function(d,g,v,C,T){return this},h.prototype.insert=function(d,g,v){return new io(d,g,null)},h.prototype.remove=function(d,g){return this},h.prototype.count=function(){return 0},h.prototype.isEmpty=function(){return!0},h.prototype.inorderTraversal=function(d){return!1},h.prototype.reverseTraversal=function(d){return!1},h.prototype.minKey=function(){return null},h.prototype.maxKey=function(){return null},h.prototype.check_=function(){return 0},h.prototype.isRed_=function(){return!1},h}(),zo=function(){function h(d,g){void 0===g&&(g=h.EMPTY_NODE),this.comparator_=d,this.root_=g}return h.prototype.insert=function(d,g){return new h(this.comparator_,this.root_.insert(d,g,this.comparator_).copy(null,null,io.BLACK,null,null))},h.prototype.remove=function(d){return new h(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,io.BLACK,null,null))},h.prototype.get=function(d){for(var g,v=this.root_;!v.isEmpty();){if(0===(g=this.comparator_(d,v.key)))return v.value;g<0?v=v.left:g>0&&(v=v.right)}return null},h.prototype.getPredecessorKey=function(d){for(var g,v=this.root_,C=null;!v.isEmpty();){if(0===(g=this.comparator_(d,v.key))){if(v.left.isEmpty())return C?C.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}g<0?v=v.left:g>0&&(C=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},h.prototype.isEmpty=function(){return this.root_.isEmpty()},h.prototype.count=function(){return this.root_.count()},h.prototype.minKey=function(){return this.root_.minKey()},h.prototype.maxKey=function(){return this.root_.maxKey()},h.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},h.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},h.prototype.getIterator=function(d){return new Wo(this.root_,null,this.comparator_,!1,d)},h.prototype.getIteratorFrom=function(d,g){return new Wo(this.root_,d,this.comparator_,!1,g)},h.prototype.getReverseIteratorFrom=function(d,g){return new Wo(this.root_,d,this.comparator_,!0,g)},h.prototype.getReverseIterator=function(d){return new Wo(this.root_,null,this.comparator_,!0,d)},h.EMPTY_NODE=new Pn,h}();function mv(h,d){return er(h.name,d.name)}function eu(h,d){return er(h,d)}var Jr,Bd,hc,Gd,Ko,Ol=function(h){return"number"==typeof h?"number:"+he(h):"string:"+h},oa=function(h){if(h.isLeafNode()){var d=h.val();(0,M.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,M.r3)(d,".sv"),"Priority must be a string or number.")}else(0,M.hu)(h===Yr||h.isEmpty(),"priority of unexpected type.");(0,M.hu)(h===Yr||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},tu=function(){function h(d,g){void 0===g&&(g=h.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=g,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oa(this.priorityNode_)}return Object.defineProperty(h,"__childrenNodeConstructor",{get:function(){return Jr},set:function(d){Jr=d},enumerable:!1,configurable:!0}),h.prototype.isLeafNode=function(){return!0},h.prototype.getPriority=function(){return this.priorityNode_},h.prototype.updatePriority=function(d){return new h(this.value_,d)},h.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE},h.prototype.getChild=function(d){return qt(d)?this:".priority"===Wt(d)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE},h.prototype.hasChild=function(){return!1},h.prototype.getPredecessorChildName=function(d,g){return null},h.prototype.updateImmediateChild=function(d,g){return".priority"===d?this.updatePriority(g):g.isEmpty()&&".priority"!==d?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,g).updatePriority(this.priorityNode_)},h.prototype.updateChild=function(d,g){var v=Wt(d);return null===v?g:g.isEmpty()&&".priority"!==v?this:((0,M.hu)(".priority"!==v||1===na(d),".priority must be the last token in a path"),this.updateImmediateChild(v,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(_n(d),g)))},h.prototype.isEmpty=function(){return!1},h.prototype.numChildren=function(){return 0},h.prototype.forEachChild=function(d,g){return!1},h.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},h.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+Ol(this.priorityNode_.val())+":");var g=typeof this.value_;d+=g+":",d+="number"===g?he(this.value_):this.value_,this.lazyHash_=Ut(d)}return this.lazyHash_},h.prototype.getValue=function(){return this.value_},h.prototype.compareTo=function(d){return d===h.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof h.__childrenNodeConstructor?-1:((0,M.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},h.prototype.compareToLeafNode_=function(d){var g=typeof d.value_,v=typeof this.value_,C=h.VALUE_TYPE_ORDER.indexOf(g),T=h.VALUE_TYPE_ORDER.indexOf(v);return(0,M.hu)(C>=0,"Unknown leaf type: "+g),(0,M.hu)(T>=0,"Unknown leaf type: "+v),C===T?"object"===v?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:T-C},h.prototype.withIndex=function(){return this},h.prototype.isIndexed=function(){return!0},h.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h}(),Xe=new(function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),d.prototype.compare=function(g,v){var C=g.node.getPriority(),T=v.node.getPriority(),O=C.compareTo(T);return 0===O?er(g.name,v.name):O},d.prototype.isDefinedOn=function(g){return!g.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(g,v){return!g.getPriority().equals(v.getPriority())},d.prototype.minPost=function(){return Yt.MIN},d.prototype.maxPost=function(){return new Yt(Ar,new tu("[PRIORITY-POST]",hc))},d.prototype.makePost=function(g,v){var C=Bd(g);return new Yt(v,new tu("[PRIORITY-POST]",C))},d.prototype.toString=function(){return".priority"},d}(dc)),yv=Math.log(2),vv=function(){function h(d){this.count=parseInt(Math.log(d+1)/yv,10),this.current_=this.count-1;var C=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&C}return h.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},h}(),xl=function(h,d,g,v){h.sort(d);var C=function(j,H){var ce,ge,W=H-j;if(0===W)return null;if(1===W)return ce=h[j],ge=g?g(ce):ce,new io(ge,ce.node,io.BLACK,null,null);var ke=parseInt(W/2,10)+j,We=C(j,ke),Dt=C(ke+1,H);return ce=h[ke],ge=g?g(ce):ce,new io(ge,ce.node,io.BLACK,We,Dt)},k=function(j){for(var H=null,W=null,ce=h.length,ge=function(Bt,sr){var Di=ce-Bt,Cf=ce;ce-=Bt;var xh=C(Di+1,Cf),Ph=h[Di],Ot=g?g(Ph):Ph;ke(new io(Ot,Ph.node,sr,null,xh))},ke=function(Bt){H?(H.left=Bt,H=Bt):(W=Bt,H=Bt)},We=0;We<j.count;++We){var Dt=j.nextBitIsOne(),yt=Math.pow(2,j.count-(We+1));Dt?ge(yt,io.BLACK):(ge(yt,io.BLACK),ge(yt,io.RED))}return W}(new vv(h.length));return new zo(v||d,k)},nu={},Pl=function(){function h(d,g){this.indexes_=d,this.indexSet_=g}return Object.defineProperty(h,"Default",{get:function(){return(0,M.hu)(nu&&Xe,"ChildrenNode.ts has not been loaded"),Gd=Gd||new h({".priority":nu},{".priority":Xe})},enumerable:!1,configurable:!0}),h.prototype.get=function(d){var g=(0,M.DV)(this.indexes_,d);if(!g)throw new Error("No index defined for "+d);return g instanceof zo?g:null},h.prototype.hasIndex=function(d){return(0,M.r3)(this.indexSet_,d.toString())},h.prototype.addIndex=function(d,g){(0,M.hu)(d!==ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var v=[],C=!1,T=g.getIterator(Yt.Wrap),O=T.getNext();O;)C=C||d.isDefinedOn(O.node),v.push(O),O=T.getNext();var k;k=C?xl(v,d.getCompare()):nu;var j=d.toString(),H=oe({},this.indexSet_);H[j]=d;var W=oe({},this.indexes_);return W[j]=k,new h(W,H)},h.prototype.addToIndexes=function(d,g){var v=this;return new h((0,M.UI)(this.indexes_,function(T,O){var k=(0,M.DV)(v.indexSet_,O);if((0,M.hu)(k,"Missing index implementation for "+O),T===nu){if(k.isDefinedOn(d.node)){for(var j=[],H=g.getIterator(Yt.Wrap),W=H.getNext();W;)W.name!==d.name&&j.push(W),W=H.getNext();return j.push(d),xl(j,k.getCompare())}return nu}var ce=g.get(d.name),ge=T;return ce&&(ge=ge.remove(new Yt(d.name,ce))),ge.insert(d,d.node)}),this.indexSet_)},h.prototype.removeFromIndexes=function(d,g){return new h((0,M.UI)(this.indexes_,function(C){if(C===nu)return C;var T=g.get(d.name);return T?C.remove(new Yt(d.name,T)):C}),this.indexSet_)},h}(),ve=function(){function h(d,g,v){this.children_=d,this.priorityNode_=g,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&oa(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(h,"EMPTY_NODE",{get:function(){return Ko||(Ko=new h(new zo(eu),null,Pl.Default))},enumerable:!1,configurable:!0}),h.prototype.isLeafNode=function(){return!1},h.prototype.getPriority=function(){return this.priorityNode_||Ko},h.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new h(this.children_,d,this.indexMap_)},h.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var g=this.children_.get(d);return null===g?Ko:g},h.prototype.getChild=function(d){var g=Wt(d);return null===g?this:this.getImmediateChild(g).getChild(_n(d))},h.prototype.hasChild=function(d){return null!==this.children_.get(d)},h.prototype.updateImmediateChild=function(d,g){if((0,M.hu)(g,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(g);var v=new Yt(d,g),C=void 0,T=void 0;g.isEmpty()?(C=this.children_.remove(d),T=this.indexMap_.removeFromIndexes(v,this.children_)):(C=this.children_.insert(d,g),T=this.indexMap_.addToIndexes(v,this.children_));var O=C.isEmpty()?Ko:this.priorityNode_;return new h(C,O,T)},h.prototype.updateChild=function(d,g){var v=Wt(d);if(null===v)return g;(0,M.hu)(".priority"!==Wt(d)||1===na(d),".priority must be the last token in a path");var C=this.getImmediateChild(v).updateChild(_n(d),g);return this.updateImmediateChild(v,C)},h.prototype.isEmpty=function(){return this.children_.isEmpty()},h.prototype.numChildren=function(){return this.children_.count()},h.prototype.val=function(d){if(this.isEmpty())return null;var g={},v=0,C=0,T=!0;if(this.forEachChild(Xe,function(j,H){g[j]=H.val(d),v++,T&&h.INTEGER_REGEXP_.test(j)?C=Math.max(C,Number(j)):T=!1}),!d&&T&&C<2*v){var O=[];for(var k in g)O[k]=g[k];return O}return d&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g},h.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+Ol(this.getPriority().val())+":"),this.forEachChild(Xe,function(g,v){var C=v.hash();""!==C&&(d+=":"+g+":"+C)}),this.lazyHash_=""===d?"":Ut(d)}return this.lazyHash_},h.prototype.getPredecessorChildName=function(d,g,v){var C=this.resolveIndex_(v);if(C){var T=C.getPredecessorKey(new Yt(d,g));return T?T.name:null}return this.children_.getPredecessorKey(d)},h.prototype.getFirstChildName=function(d){var g=this.resolveIndex_(d);if(g){var v=g.minKey();return v&&v.name}return this.children_.minKey()},h.prototype.getFirstChild=function(d){var g=this.getFirstChildName(d);return g?new Yt(g,this.children_.get(g)):null},h.prototype.getLastChildName=function(d){var g=this.resolveIndex_(d);if(g){var v=g.maxKey();return v&&v.name}return this.children_.maxKey()},h.prototype.getLastChild=function(d){var g=this.getLastChildName(d);return g?new Yt(g,this.children_.get(g)):null},h.prototype.forEachChild=function(d,g){var v=this.resolveIndex_(d);return v?v.inorderTraversal(function(C){return g(C.name,C.node)}):this.children_.inorderTraversal(g)},h.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},h.prototype.getIteratorFrom=function(d,g){var v=this.resolveIndex_(g);if(v)return v.getIteratorFrom(d,function(O){return O});for(var C=this.children_.getIteratorFrom(d.name,Yt.Wrap),T=C.peek();null!=T&&g.compare(T,d)<0;)C.getNext(),T=C.peek();return C},h.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},h.prototype.getReverseIteratorFrom=function(d,g){var v=this.resolveIndex_(g);if(v)return v.getReverseIteratorFrom(d,function(O){return O});for(var C=this.children_.getReverseIteratorFrom(d.name,Yt.Wrap),T=C.peek();null!=T&&g.compare(T,d)>0;)C.getNext(),T=C.peek();return C},h.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===ru?-1:0},h.prototype.withIndex=function(d){if(d===ro||this.indexMap_.hasIndex(d))return this;var g=this.indexMap_.addIndex(d,this.children_);return new h(this.children_,this.priorityNode_,g)},h.prototype.isIndexed=function(d){return d===ro||this.indexMap_.hasIndex(d)},h.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var g=d;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){for(var v=this.getIterator(Xe),C=g.getIterator(Xe),T=v.getNext(),O=C.getNext();T&&O;){if(T.name!==O.name||!T.node.equals(O.node))return!1;T=v.getNext(),O=C.getNext()}return null===T&&null===O}return!1}return!1},h.prototype.resolveIndex_=function(d){return d===ro?null:this.indexMap_.get(d.toString())},h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h}(),ru=new(function(h){function d(){return h.call(this,new zo(eu),ve.EMPTY_NODE,Pl.Default)||this}return ye(d,h),d.prototype.compareTo=function(g){return g===this?0:1},d.prototype.equals=function(g){return g===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(g){return ve.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(ve));function En(h,d){if(void 0===d&&(d=null),null===h)return ve.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(d=h[".priority"]),(0,M.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new tu(h,En(d));if(h instanceof Array){var j=ve.EMPTY_NODE;return jn(h,function(H,W){if((0,M.r3)(h,H)&&"."!==H.substring(0,1)){var ce=En(W);(ce.isLeafNode()||!ce.isEmpty())&&(j=j.updateImmediateChild(H,ce))}}),j.updatePriority(En(d))}var v=[],C=!1;if(jn(h,function(H,W){if("."!==H.substring(0,1)){var ce=En(W);ce.isEmpty()||(C=C||!ce.getPriority().isEmpty(),v.push(new Yt(H,ce)))}}),0===v.length)return ve.EMPTY_NODE;var O=xl(v,mv,function(H){return H.name},eu);if(C){var k=xl(v,Xe.getCompare());return new ve(O,En(d),new Pl({".priority":k},{".priority":Xe}))}return new ve(O,En(d),Pl.Default)}Object.defineProperties(Yt,{MIN:{value:new Yt(mn,ve.EMPTY_NODE)},MAX:{value:new Yt(Ar,ru)}}),xn.__EMPTY_NODE=ve.EMPTY_NODE,tu.__childrenNodeConstructor=ve,function(h){Yr=h}(ru),function(h){hc=h}(ru),function(h){Bd=h}(En);var Qo=function(h){function d(g){var v=h.call(this)||this;return v.indexPath_=g,(0,M.hu)(!qt(g)&&".priority"!==Wt(g),"Can't create PathIndex with empty path or .priority key"),v}return ye(d,h),d.prototype.extractChild=function(g){return g.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(g){return!g.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(g,v){var C=this.extractChild(g.node),T=this.extractChild(v.node),O=C.compareTo(T);return 0===O?er(g.name,v.name):O},d.prototype.makePost=function(g,v){var C=En(g),T=ve.EMPTY_NODE.updateChild(this.indexPath_,C);return new Yt(v,T)},d.prototype.maxPost=function(){var g=ve.EMPTY_NODE.updateChild(this.indexPath_,ru);return new Yt(Ar,g)},d.prototype.toString=function(){return Dl(this.indexPath_,0).join("/")},d}(dc),iu=new(function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),d.prototype.compare=function(g,v){var C=g.node.compareTo(v.node);return 0===C?er(g.name,v.name):C},d.prototype.isDefinedOn=function(g){return!0},d.prototype.indexedValueChanged=function(g,v){return!g.equals(v)},d.prototype.minPost=function(){return Yt.MIN},d.prototype.maxPost=function(){return Yt.MAX},d.prototype.makePost=function(g,v){var C=En(g);return new Yt(v,C)},d.prototype.toString=function(){return".value"},d}(dc)),Zo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Rl=function(){var h=0,d=[];return function(g){var v=g===h;h=g;var C,T=new Array(8);for(C=7;C>=0;C--)T[C]=Zo.charAt(g%64),g=Math.floor(g/64);(0,M.hu)(0===g,"Cannot push at time == 0");var O=T.join("");if(v){for(C=11;C>=0&&63===d[C];C--)d[C]=0;d[C]++}else for(C=0;C<12;C++)d[C]=Math.floor(64*Math.random());for(C=0;C<12;C++)O+=Zo.charAt(d[C]);return(0,M.hu)(20===O.length,"nextPushId: Length should be 20."),O}}(),tr=function(h){if(h===""+rt)return"-";var d=Ht(h);if(null!=d)return""+(d+1);for(var g=new Array(h.length),v=0;v<g.length;v++)g[v]=h.charAt(v);if(g.length<786)return g.push("-"),g.join("");for(var C=g.length-1;C>=0&&"z"===g[C];)C--;if(-1===C)return Ar;var O=Zo.charAt(Zo.indexOf(g[C])+1);return g[C]=O,g.slice(0,C+1).join("")},Ri=function(h){if(h===""+Ue)return mn;var d=Ht(h);if(null!=d)return""+(d-1);for(var g=new Array(h.length),v=0;v<g.length;v++)g[v]=h.charAt(v);return"-"===g[g.length-1]?1===g.length?""+rt:(delete g[g.length-1],g.join("")):(g[g.length-1]=Zo.charAt(Zo.indexOf(g[g.length-1])-1),g.join("")+"z".repeat(786-g.length))};function sg(h){return{type:"value",snapshotNode:h}}function gi(h,d){return{type:"child_added",snapshotNode:d,childName:h}}function Ur(h,d){return{type:"child_removed",snapshotNode:d,childName:h}}function Ml(h,d,g){return{type:"child_changed",snapshotNode:d,childName:h,oldSnap:g}}var Nl=function(){function h(d){this.index_=d}return h.prototype.updateChild=function(d,g,v,C,T,O){(0,M.hu)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var k=d.getImmediateChild(g);return k.getChild(C).equals(v.getChild(C))&&k.isEmpty()===v.isEmpty()||(null!=O&&(v.isEmpty()?d.hasChild(g)?O.trackChildChange(Ur(g,k)):(0,M.hu)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):k.isEmpty()?O.trackChildChange(gi(g,v)):O.trackChildChange(Ml(g,v,k))),d.isLeafNode()&&v.isEmpty())?d:d.updateImmediateChild(g,v).withIndex(this.index_)},h.prototype.updateFullNode=function(d,g,v){return null!=v&&(d.isLeafNode()||d.forEachChild(Xe,function(C,T){g.hasChild(C)||v.trackChildChange(Ur(C,T))}),g.isLeafNode()||g.forEachChild(Xe,function(C,T){if(d.hasChild(C)){var O=d.getImmediateChild(C);O.equals(T)||v.trackChildChange(Ml(C,T,O))}else v.trackChildChange(gi(C,T))})),g.withIndex(this.index_)},h.prototype.updatePriority=function(d,g){return d.isEmpty()?ve.EMPTY_NODE:d.updatePriority(g)},h.prototype.filtersNodes=function(){return!1},h.prototype.getIndexedFilter=function(){return this},h.prototype.getIndex=function(){return this.index_},h}(),ug=function(){function h(d){this.indexedFilter_=new Nl(d.getIndex()),this.index_=d.getIndex(),this.startPost_=h.getStartPost_(d),this.endPost_=h.getEndPost_(d)}return h.prototype.getStartPost=function(){return this.startPost_},h.prototype.getEndPost=function(){return this.endPost_},h.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},h.prototype.updateChild=function(d,g,v,C,T,O){return this.matches(new Yt(g,v))||(v=ve.EMPTY_NODE),this.indexedFilter_.updateChild(d,g,v,C,T,O)},h.prototype.updateFullNode=function(d,g,v){g.isLeafNode()&&(g=ve.EMPTY_NODE);var C=g.withIndex(this.index_);C=C.updatePriority(ve.EMPTY_NODE);var T=this;return g.forEachChild(Xe,function(O,k){T.matches(new Yt(O,k))||(C=C.updateImmediateChild(O,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,C,v)},h.prototype.updatePriority=function(d,g){return d},h.prototype.filtersNodes=function(){return!0},h.prototype.getIndexedFilter=function(){return this.indexedFilter_},h.prototype.getIndex=function(){return this.index_},h.getStartPost_=function(d){if(d.hasStart()){var g=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),g)}return d.getIndex().minPost()},h.getEndPost_=function(d){if(d.hasEnd()){var g=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),g)}return d.getIndex().maxPost()},h}(),qd=function(){function h(d){this.rangedFilter_=new ug(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return h.prototype.updateChild=function(d,g,v,C,T,O){return this.rangedFilter_.matches(new Yt(g,v))||(v=ve.EMPTY_NODE),d.getImmediateChild(g).equals(v)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,g,v,C,T,O):this.fullLimitUpdateChild_(d,g,v,T,O)},h.prototype.updateFullNode=function(d,g,v){var C;if(g.isLeafNode()||g.isEmpty())C=ve.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){C=ve.EMPTY_NODE.withIndex(this.index_);var T=void 0;T=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var O=0;T.hasNext()&&O<this.limit_;){var k=T.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),k)<=0:this.index_.compare(k,this.rangedFilter_.getEndPost())<=0))break;C=C.updateImmediateChild(k.name,k.node),O++}}else{C=(C=g.withIndex(this.index_)).updatePriority(ve.EMPTY_NODE);var H=void 0,W=void 0,ce=void 0;if(T=void 0,this.reverse_){T=C.getReverseIterator(this.index_),H=this.rangedFilter_.getEndPost(),W=this.rangedFilter_.getStartPost();var ge=this.index_.getCompare();ce=function(yt,Bt){return ge(Bt,yt)}}else T=C.getIterator(this.index_),H=this.rangedFilter_.getStartPost(),W=this.rangedFilter_.getEndPost(),ce=this.index_.getCompare();O=0;for(var ke=!1;T.hasNext();)k=T.getNext(),!ke&&ce(H,k)<=0&&(ke=!0),ke&&O<this.limit_&&ce(k,W)<=0?O++:C=C.updateImmediateChild(k.name,ve.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,C,v)},h.prototype.updatePriority=function(d,g){return d},h.prototype.filtersNodes=function(){return!0},h.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},h.prototype.getIndex=function(){return this.index_},h.prototype.fullLimitUpdateChild_=function(d,g,v,C,T){var O;if(this.reverse_){var k=this.index_.getCompare();O=function(sr,Di){return k(Di,sr)}}else O=this.index_.getCompare();var j=d;(0,M.hu)(j.numChildren()===this.limit_,"");var H=new Yt(g,v),W=this.reverse_?j.getFirstChild(this.index_):j.getLastChild(this.index_),ce=this.rangedFilter_.matches(H);if(j.hasChild(g)){for(var ge=j.getImmediateChild(g),ke=C.getChildAfterChild(this.index_,W,this.reverse_);null!=ke&&(ke.name===g||j.hasChild(ke.name));)ke=C.getChildAfterChild(this.index_,ke,this.reverse_);var We=null==ke?1:O(ke,H);if(ce&&!v.isEmpty()&&We>=0)return null!=T&&T.trackChildChange(Ml(g,v,ge)),j.updateImmediateChild(g,v);null!=T&&T.trackChildChange(Ur(g,ge));var yt=j.updateImmediateChild(g,ve.EMPTY_NODE);return null!=ke&&this.rangedFilter_.matches(ke)?(null!=T&&T.trackChildChange(gi(ke.name,ke.node)),yt.updateImmediateChild(ke.name,ke.node)):yt}return v.isEmpty()?d:ce&&O(W,H)>=0?(null!=T&&(T.trackChildChange(Ur(W.name,W.node)),T.trackChildChange(gi(g,v))),j.updateImmediateChild(g,v).updateImmediateChild(W.name,ve.EMPTY_NODE)):d},h}(),kl=function(){function h(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}return h.prototype.hasStart=function(){return this.startSet_},h.prototype.hasStartAfter=function(){return this.startAfterSet_},h.prototype.hasEndBefore=function(){return this.endBeforeSet_},h.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},h.prototype.getIndexStartValue=function(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},h.prototype.getIndexStartName=function(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mn},h.prototype.hasEnd=function(){return this.endSet_},h.prototype.getIndexEndValue=function(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},h.prototype.getIndexEndName=function(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ar},h.prototype.hasLimit=function(){return this.limitSet_},h.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},h.prototype.getLimit=function(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},h.prototype.getIndex=function(){return this.index_},h.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},h.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xe},h.prototype.copy=function(){var d=new h;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},h}();function Fl(h,d,g){var v=h.copy();return v.startSet_=!0,void 0===d&&(d=null),v.indexStartValue_=d,null!=g?(v.startNameSet_=!0,v.indexStartName_=g):(v.startNameSet_=!1,v.indexStartName_=""),v}function Ul(h,d,g){var v=h.copy();return v.endSet_=!0,void 0===d&&(d=null),v.indexEndValue_=d,void 0!==g?(v.endNameSet_=!0,v.indexEndName_=g):(v.endNameSet_=!1,v.indexEndName_=""),v}function mc(h,d){var g=h.copy();return g.index_=d,g}function fg(h){var g,d={};return h.isDefault()||(h.index_===Xe?g="$priority":h.index_===iu?g="$value":h.index_===ro?g="$key":((0,M.hu)(h.index_ instanceof Qo,"Unrecognized index type!"),g=h.index_.toString()),d.orderBy=(0,M.Pz)(g),h.startSet_&&(d.startAt=(0,M.Pz)(h.indexStartValue_),h.startNameSet_&&(d.startAt+=","+(0,M.Pz)(h.indexStartName_))),h.endSet_&&(d.endAt=(0,M.Pz)(h.indexEndValue_),h.endNameSet_&&(d.endAt+=","+(0,M.Pz)(h.indexEndName_))),h.limitSet_&&(h.isViewFromLeft()?d.limitToFirst=h.limit_:d.limitToLast=h.limit_)),d}function ou(h){var d={};if(h.startSet_&&(d.sp=h.indexStartValue_,h.startNameSet_&&(d.sn=h.indexStartName_)),h.endSet_&&(d.ep=h.indexEndValue_,h.endNameSet_&&(d.en=h.indexEndName_)),h.limitSet_){d.l=h.limit_;var g=h.viewFrom_;""===g&&(g=h.isViewFromLeft()?"l":"r"),d.vf=g}return h.index_!==Xe&&(d.i=h.index_.toString()),d}var bv=function(h){function d(g,v,C,T){var O=h.call(this)||this;return O.repoInfo_=g,O.onDataUpdate_=v,O.authTokenProvider_=C,O.appCheckTokenProvider_=T,O.log_=yr("p:rest:"),O.listens_={},O}return ye(d,h),d.prototype.reportStats=function(g){throw new Error("Method not implemented.")},d.getListenId_=function(g,v){return void 0!==v?"tag$"+v:((0,M.hu)(g._queryParams.isDefault(),"should have a tag if it's not a default query."),g._path.toString())},d.prototype.listen=function(g,v,C,T){var O=this,k=g._path.toString();this.log_("Listen called for "+k+" "+g._queryIdentifier);var j=d.getListenId_(g,C),H={};this.listens_[j]=H;var W=fg(g._queryParams);this.restRequest_(k+".json",W,function(ce,ge){var ke=ge;404===ce&&(ke=null,ce=null),null===ce&&O.onDataUpdate_(k,ke,!1,C),(0,M.DV)(O.listens_,j)===H&&T(ce?401===ce?"permission_denied":"rest_error:"+ce:"ok",null)})},d.prototype.unlisten=function(g,v){var C=d.getListenId_(g,v);delete this.listens_[C]},d.prototype.get=function(g){var v=this,C=fg(g._queryParams),T=g._path.toString(),O=new M.BH;return this.restRequest_(T+".json",C,function(k,j){var H=j;404===k&&(H=null,k=null),null===k?(v.onDataUpdate_(T,H,!1,null),O.resolve(H)):O.reject(new Error(H))}),O.promise},d.prototype.refreshAuthToken=function(g){},d.prototype.restRequest_=function(g,v,C){var T=this;return void 0===v&&(v={}),v.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(O){var k=Te(O,2),j=k[0],H=k[1];j&&j.accessToken&&(v.auth=j.accessToken),H&&H.token&&(v.ac=H.token);var W=(T.repoInfo_.secure?"https://":"http://")+T.repoInfo_.host+g+"?ns="+T.repoInfo_.namespace+(0,M.xO)(v);T.log_("Sending REST request for "+W);var ce=new XMLHttpRequest;ce.onreadystatechange=function(){if(C&&4===ce.readyState){T.log_("REST Response for "+W+" received. status:",ce.status,"response:",ce.responseText);var ge=null;if(ce.status>=200&&ce.status<300){try{ge=(0,M.cI)(ce.responseText)}catch(ke){gn("Failed to parse JSON response for "+W+": "+ce.responseText)}C(null,ge)}else 401!==ce.status&&404!==ce.status&&gn("Got unsuccessful REST response for "+W+" Status: "+ce.status),C(ce.status);C=null}},ce.open("GET",W,!0),ce.send()})},d}(tg),wv=function(){function h(){this.rootNode_=ve.EMPTY_NODE}return h.prototype.getNode=function(d){return this.rootNode_.getChild(d)},h.prototype.updateSnapshot=function(d,g){this.rootNode_=this.rootNode_.updateChild(d,g)},h}();function nr(){return{value:null,children:new Map}}function Mi(h,d,g){if(qt(d))h.value=g,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(d,g);else{var v=Wt(d);h.children.has(v)||h.children.set(v,nr()),Mi(h.children.get(v),d=_n(d),g)}}function Mn(h,d){if(qt(d))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;var g=h.value;return h.value=null,g.forEachChild(Xe,function(T,O){Mi(h,new hn(T),O)}),Mn(h,d)}if(h.children.size>0){var v=Wt(d);return d=_n(d),h.children.has(v)&&Mn(h.children.get(v),d)&&h.children.delete(v),0===h.children.size}return!0}function dg(h,d,g){null!==h.value?g(d,h.value):function(h,d){h.children.forEach(function(g,v){d(v,g)})}(h,function(v,C){dg(C,new hn(d.toString()+"/"+v),g)})}var hg=function(){function h(d){this.collection_=d,this.last_=null}return h.prototype.get=function(){var d=this.collection_.get(),g=oe({},d);return this.last_&&jn(this.last_,function(v,C){g[v]=g[v]-C}),this.last_=d,g},h}(),jl=function(){function h(d,g){this.server_=g,this.statsToReport_={},this.statsListener_=new hg(d);var v=1e4+2e4*Math.random();wt(this.reportStats_.bind(this),Math.floor(v))}return h.prototype.reportStats_=function(){var d=this,g=this.statsListener_.get(),v={},C=!1;jn(g,function(T,O){O>0&&(0,M.r3)(d.statsToReport_,T)&&(v[T]=O,C=!0)}),C&&this.server_.reportStats(v),wt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},h}(),jr=(()=>(function(h){h[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(jr||(jr={})),jr))();function Wd(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}var _s=function(){function h(d,g,v){this.path=d,this.affectedTree=g,this.revert=v,this.type=jr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return h.prototype.operationForChild=function(d){if(qt(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var g=this.affectedTree.subtree(new hn(d));return new h(on(),g,this.revert)}return(0,M.hu)(Wt(this.path)===d,"operationForChild called for unrelated child."),new h(_n(this.path),this.affectedTree,this.revert)},h}(),vc=function(){function h(d,g){this.source=d,this.path=g,this.type=jr.LISTEN_COMPLETE}return h.prototype.operationForChild=function(d){return qt(this.path)?new h(this.source,on()):new h(this.source,_n(this.path))},h}(),zd=function(){function h(d,g,v){this.source=d,this.path=g,this.snap=v,this.type=jr.OVERWRITE}return h.prototype.operationForChild=function(d){return qt(this.path)?new h(this.source,on(),this.snap.getImmediateChild(d)):new h(this.source,_n(this.path),this.snap)},h}(),Kd=function(){function h(d,g,v){this.source=d,this.path=g,this.children=v,this.type=jr.MERGE}return h.prototype.operationForChild=function(d){if(qt(this.path)){var g=this.children.subtree(new hn(d));return g.isEmpty()?null:g.value?new zd(this.source,on(),g.value):new h(this.source,on(),g)}return(0,M.hu)(Wt(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new h(this.source,_n(this.path),this.children)},h.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h}(),Ni=function(){function h(d,g,v){this.node_=d,this.fullyInitialized_=g,this.filtered_=v}return h.prototype.isFullyInitialized=function(){return this.fullyInitialized_},h.prototype.isFiltered=function(){return this.filtered_},h.prototype.isCompleteForPath=function(d){if(qt(d))return this.isFullyInitialized()&&!this.filtered_;var g=Wt(d);return this.isCompleteForChild(g)},h.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},h.prototype.getNode=function(){return this.node_},h}(),Qd=function(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function Bl(h,d,g,v,C,T){var O=v.filter(function(k){return k.type===g});O.sort(function(k,j){return function(h,d,g){if(null==d.childName||null==g.childName)throw(0,M.g5)("Should only compare child_ events.");var v=new Yt(d.childName,d.snapshotNode),C=new Yt(g.childName,g.snapshotNode);return h.index_.compare(v,C)}(h,k,j)}),O.forEach(function(k){var j=function(h,d,g){return"value"===d.type||"child_removed"===d.type||(d.prevName=g.getPredecessorChildName(d.childName,d.snapshotNode,h.index_)),d}(h,k,T);C.forEach(function(H){H.respondsTo(k.type)&&d.push(H.createEvent(j,h.query_))})})}function aa(h,d){return{eventCache:h,serverCache:d}}function ua(h,d,g,v){return aa(new Ni(d,g,v),h.serverCache)}function oo(h,d,g,v){return aa(h.eventCache,new Ni(d,g,v))}function ca(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function bs(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}var au,ki=function(){function h(d,g){void 0===g&&(au||(au=new zo(Js)),g=au),this.value=d,this.children=g}return h.fromObject=function(d){var g=new h(null);return jn(d,function(v,C){g=g.set(new hn(v),C)}),g},h.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},h.prototype.findRootMostMatchingPathAndValue=function(d,g){if(null!=this.value&&g(this.value))return{path:on(),value:this.value};if(qt(d))return null;var v=Wt(d),C=this.children.get(v);if(null!==C){var T=C.findRootMostMatchingPathAndValue(_n(d),g);return null!=T?{path:Tn(new hn(v),T.path),value:T.value}:null}return null},h.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},h.prototype.subtree=function(d){if(qt(d))return this;var g=Wt(d),v=this.children.get(g);return null!==v?v.subtree(_n(d)):new h(null)},h.prototype.set=function(d,g){if(qt(d))return new h(g,this.children);var v=Wt(d),T=(this.children.get(v)||new h(null)).set(_n(d),g),O=this.children.insert(v,T);return new h(this.value,O)},h.prototype.remove=function(d){if(qt(d))return this.children.isEmpty()?new h(null):new h(null,this.children);var g=Wt(d),v=this.children.get(g);if(v){var C=v.remove(_n(d)),T=void 0;return T=C.isEmpty()?this.children.remove(g):this.children.insert(g,C),null===this.value&&T.isEmpty()?new h(null):new h(this.value,T)}return this},h.prototype.get=function(d){if(qt(d))return this.value;var g=Wt(d),v=this.children.get(g);return v?v.get(_n(d)):null},h.prototype.setTree=function(d,g){if(qt(d))return g;var O,v=Wt(d),T=(this.children.get(v)||new h(null)).setTree(_n(d),g);return O=T.isEmpty()?this.children.remove(v):this.children.insert(v,T),new h(this.value,O)},h.prototype.fold=function(d){return this.fold_(on(),d)},h.prototype.fold_=function(d,g){var v={};return this.children.inorderTraversal(function(C,T){v[C]=T.fold_(Tn(d,C),g)}),g(d,this.value,v)},h.prototype.findOnPath=function(d,g){return this.findOnPath_(d,on(),g)},h.prototype.findOnPath_=function(d,g,v){var C=!!this.value&&v(g,this.value);if(C)return C;if(qt(d))return null;var T=Wt(d),O=this.children.get(T);return O?O.findOnPath_(_n(d),Tn(g,T),v):null},h.prototype.foreachOnPath=function(d,g){return this.foreachOnPath_(d,on(),g)},h.prototype.foreachOnPath_=function(d,g,v){if(qt(d))return this;this.value&&v(g,this.value);var C=Wt(d),T=this.children.get(C);return T?T.foreachOnPath_(_n(d),Tn(g,C),v):new h(null)},h.prototype.foreach=function(d){this.foreach_(on(),d)},h.prototype.foreach_=function(d,g){this.children.inorderTraversal(function(v,C){C.foreach_(Tn(d,v),g)}),this.value&&g(d,this.value)},h.prototype.foreachChild=function(d){this.children.inorderTraversal(function(g,v){v.value&&d(g,v.value)})},h}(),mi=function(){function h(d){this.writeTree_=d}return h.empty=function(){return new h(new ki(null))},h}();function uu(h,d,g){if(qt(d))return new mi(new ki(g));var v=h.writeTree_.findRootMostValueAndPath(d);if(null!=v){var C=v.path,T=v.value,O=wr(C,d);return T=T.updateChild(O,g),new mi(h.writeTree_.set(C,T))}var k=new ki(g),j=h.writeTree_.setTree(d,k);return new mi(j)}function cu(h,d,g){var v=h;return jn(g,function(C,T){v=uu(v,Tn(d,C),T)}),v}function K0(h,d){if(qt(d))return mi.empty();var g=h.writeTree_.setTree(d,new ki(null));return new mi(g)}function Hl(h,d){return null!=fa(h,d)}function fa(h,d){var g=h.writeTree_.findRootMostValueAndPath(d);return null!=g?h.writeTree_.get(g.path).getChild(wr(g.path,d)):null}function Dv(h){var d=[],g=h.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(Xe,function(v,C){d.push(new Yt(v,C))}):h.writeTree_.children.inorderTraversal(function(v,C){null!=C.value&&d.push(new Yt(v,C.value))}),d}function da(h,d){if(qt(d))return h;var g=fa(h,d);return new mi(null!=g?new ki(g):h.writeTree_.subtree(d))}function ha(h){return h.writeTree_.isEmpty()}function pa(h,d){return ht(on(),h.writeTree_,d)}function ht(h,d,g){if(null!=d.value)return g.updateChild(h,d.value);var v=null;return d.children.inorderTraversal(function(C,T){".priority"===C?((0,M.hu)(null!==T.value,"Priority writes must always be leaf nodes"),v=T.value):g=ht(Tn(h,C),T,g)}),!g.getChild(h).isEmpty()&&null!==v&&(g=g.updateChild(Tn(h,".priority"),v)),g}function dr(h,d){return Jo(d,h)}function gg(h,d){if(h.snap)return pi(h.path,d);for(var g in h.children)if(h.children.hasOwnProperty(g)&&pi(Tn(h.path,g),d))return!0;return!1}function Ct(h){return h.visible}function Zd(h,d,g){for(var v=mi.empty(),C=0;C<h.length;++C){var T=h[C];if(d(T)){var O=T.path,k=void 0;if(T.snap)pi(g,O)?v=uu(v,k=wr(g,O),T.snap):pi(O,g)&&(k=wr(O,g),v=uu(v,on(),T.snap.getChild(k)));else{if(!T.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(pi(g,O))v=cu(v,k=wr(g,O),T.children);else if(pi(O,g))if(qt(k=wr(O,g)))v=cu(v,on(),T.children);else{var j=(0,M.DV)(T.children,Wt(k));if(j){var H=j.getChild(_n(k));v=uu(v,on(),H)}}}}}return v}function fu(h,d,g,v,C){if(v||C){var j=da(h.visibleWrites,d);return!C&&ha(j)?g:C||null!=g||Hl(j,on())?pa(Zd(h.allWrites,function(ge){return(ge.visible||C)&&(!v||!~v.indexOf(ge.writeId))&&(pi(ge.path,d)||pi(d,ge.path))},d),g||ve.EMPTY_NODE):null}var T=fa(h.visibleWrites,d);if(null!=T)return T;var O=da(h.visibleWrites,d);return ha(O)?g:null!=g||Hl(O,on())?pa(O,g||ve.EMPTY_NODE):null}function ga(h,d,g,v){return fu(h.writeTree,h.treePath,d,g,v)}function Fi(h,d){return function(h,d,g){var v=ve.EMPTY_NODE,C=fa(h.visibleWrites,d);if(C)return C.isLeafNode()||C.forEachChild(Xe,function(k,j){v=v.updateImmediateChild(k,j)}),v;if(g){var T=da(h.visibleWrites,d);return g.forEachChild(Xe,function(k,j){var H=pa(da(T,new hn(k)),j);v=v.updateImmediateChild(k,H)}),Dv(T).forEach(function(k){v=v.updateImmediateChild(k.name,k.node)}),v}return Dv(da(h.visibleWrites,d)).forEach(function(k){v=v.updateImmediateChild(k.name,k.node)}),v}(h.writeTree,h.treePath,d)}function hu(h,d,g,v){return function(h,d,g,v,C){(0,M.hu)(v||C,"Either existingEventSnap or existingServerSnap must exist");var T=Tn(d,g);if(Hl(h.visibleWrites,T))return null;var O=da(h.visibleWrites,T);return ha(O)?C.getChild(g):pa(O,C.getChild(g))}(h.writeTree,h.treePath,d,g,v)}function Yo(h,d){return function(h,d){return fa(h.visibleWrites,d)}(h.writeTree,Tn(h.treePath,d))}function ws(h,d,g){return function(h,d,g,v){var C=Tn(d,g),T=fa(h.visibleWrites,C);return null!=T?T:v.isCompleteForChild(g)?pa(da(h.visibleWrites,C),v.getNode().getImmediateChild(g)):null}(h.writeTree,h.treePath,d,g)}function _c(h,d){return Jo(Tn(h.treePath,d),h.writeTree)}function Jo(h,d){return{treePath:h,writeTree:d}}var Q0=function(){function h(){this.changeMap=new Map}return h.prototype.trackChildChange=function(d){var g=d.type,v=d.childName;(0,M.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");var C=this.changeMap.get(v);if(C){var T=C.type;if("child_added"===g&&"child_removed"===T)this.changeMap.set(v,Ml(v,d.snapshotNode,C.snapshotNode));else if("child_removed"===g&&"child_added"===T)this.changeMap.delete(v);else if("child_removed"===g&&"child_changed"===T)this.changeMap.set(v,Ur(v,C.oldSnap));else if("child_changed"===g&&"child_added"===T)this.changeMap.set(v,gi(v,d.snapshotNode));else{if("child_changed"!==g||"child_changed"!==T)throw(0,M.g5)("Illegal combination of changes: "+d+" occurred after "+C);this.changeMap.set(v,Ml(v,d.snapshotNode,C.oldSnap))}}else this.changeMap.set(v,d)},h.prototype.getChanges=function(){return Array.from(this.changeMap.values())},h}(),Wn=new(function(){function h(){}return h.prototype.getCompleteChild=function(d){return null},h.prototype.getChildAfterChild=function(d,g,v){return null},h}()),ql=function(){function h(d,g,v){void 0===v&&(v=null),this.writes_=d,this.viewCache_=g,this.optCompleteServerCache_=v}return h.prototype.getCompleteChild=function(d){var g=this.viewCache_.eventCache;if(g.isCompleteForChild(d))return g.getNode().getImmediateChild(d);var v=null!=this.optCompleteServerCache_?new Ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ws(this.writes_,d,v)},h.prototype.getChildAfterChild=function(d,g,v){var C=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bs(this.viewCache_),T=function(h,d,g,v,C,T){return function(h,d,g,v,C,T,O){var k,j=da(h.visibleWrites,d),H=fa(j,on());if(null!=H)k=H;else{if(null==g)return[];k=pa(j,g)}if((k=k.withIndex(O)).isEmpty()||k.isLeafNode())return[];for(var W=[],ce=O.getCompare(),ge=T?k.getReverseIteratorFrom(v,O):k.getIteratorFrom(v,O),ke=ge.getNext();ke&&W.length<C;)0!==ce(ke,v)&&W.push(ke),ke=ge.getNext();return W}(h.writeTree,h.treePath,d,g,v,C,T)}(this.writes_,C,g,1,v,d);return 0===T.length?null:T[0]},h}();function Jd(h,d,g,v,C,T){var O=d.eventCache;if(null!=Yo(v,g))return d;var k=void 0,j=void 0;if(qt(g))if((0,M.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var H=bs(d),ce=Fi(v,H instanceof ve?H:ve.EMPTY_NODE);k=h.filter.updateFullNode(d.eventCache.getNode(),ce,T)}else{var ge=ga(v,bs(d));k=h.filter.updateFullNode(d.eventCache.getNode(),ge,T)}else{var ke=Wt(g);if(".priority"===ke){(0,M.hu)(1===na(g),"Can't have a priority with additional path components");var We=O.getNode(),Dt=hu(v,g,We,j=d.serverCache.getNode());k=null!=Dt?h.filter.updatePriority(We,Dt):O.getNode()}else{var yt=_n(g),Bt=void 0;if(O.isCompleteForChild(ke)){j=d.serverCache.getNode();var sr=hu(v,g,O.getNode(),j);Bt=null!=sr?O.getNode().getImmediateChild(ke).updateChild(yt,sr):O.getNode().getImmediateChild(ke)}else Bt=ws(v,ke,d.serverCache);k=null!=Bt?h.filter.updateChild(O.getNode(),ke,Bt,yt,C,T):O.getNode()}}return ua(d,k,O.isFullyInitialized()||qt(g),h.filter.filtersNodes())}function Wl(h,d,g,v,C,T,O,k){var H,j=d.serverCache,W=O?h.filter:h.filter.getIndexedFilter();if(qt(g))H=W.updateFullNode(j.getNode(),v,null);else if(W.filtersNodes()&&!j.isFiltered()){var ce=j.getNode().updateChild(g,v);H=W.updateFullNode(j.getNode(),ce,null)}else{var ge=Wt(g);if(!j.isCompleteForPath(g)&&na(g)>1)return d;var ke=_n(g),Dt=j.getNode().getImmediateChild(ge).updateChild(ke,v);H=".priority"===ge?W.updatePriority(j.getNode(),Dt):W.updateChild(j.getNode(),ge,Dt,ke,Wn,null)}var yt=oo(d,H,j.isFullyInitialized()||qt(g),W.filtersNodes());return Jd(h,yt,g,C,new ql(C,yt,T),k)}function Xd(h,d,g,v,C,T,O){var j,H,k=d.eventCache,W=new ql(C,d,T);if(qt(g))H=h.filter.updateFullNode(d.eventCache.getNode(),v,O),j=ua(d,H,!0,h.filter.filtersNodes());else{var ce=Wt(g);if(".priority"===ce)H=h.filter.updatePriority(d.eventCache.getNode(),v),j=ua(d,H,k.isFullyInitialized(),k.isFiltered());else{var ge=_n(g),ke=k.getNode().getImmediateChild(ce),We=void 0;if(qt(ge))We=v;else{var Dt=W.getCompleteChild(ce);We=null!=Dt?".priority"===ng(ge)&&Dt.getChild(hv(ge)).isEmpty()?Dt:Dt.updateChild(ge,v):ve.EMPTY_NODE}j=ke.equals(We)?d:ua(d,h.filter.updateChild(k.getNode(),ce,We,ge,W,O),k.isFullyInitialized(),h.filter.filtersNodes())}}return j}function Tv(h,d){return h.eventCache.isCompleteForChild(d)}function Z0(h,d,g){return g.foreach(function(v,C){d=d.updateChild(v,C)}),d}function Sv(h,d,g,v,C,T,O,k){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var H,j=d;H=qt(g)?v:new ki(null).setTree(g,v);var W=d.serverCache.getNode();return H.children.inorderTraversal(function(ce,ge){if(W.hasChild(ce)){var We=Z0(0,d.serverCache.getNode().getImmediateChild(ce),ge);j=Wl(h,j,new hn(ce),We,C,T,O,k)}}),H.children.inorderTraversal(function(ce,ge){var ke=!d.serverCache.isCompleteForChild(ce)&&void 0===ge.value;if(!W.hasChild(ce)&&!ke){var Dt=Z0(0,d.serverCache.getNode().getImmediateChild(ce),ge);j=Wl(h,j,new hn(ce),Dt,C,T,O,k)}}),j}var pI=function(){function h(d,g){this.query_=d,this.eventRegistrations_=[];var v=this.query_._queryParams,C=new Nl(v.getIndex()),T=function(h){return h.loadsAllData()?new Nl(h.getIndex()):h.hasLimit()?new qd(h):new ug(h)}(v);this.processor_=function(h){return{filter:h}}(T);var O=g.serverCache,k=g.eventCache,j=C.updateFullNode(ve.EMPTY_NODE,O.getNode(),null),H=T.updateFullNode(ve.EMPTY_NODE,k.getNode(),null),W=new Ni(j,O.isFullyInitialized(),C.filtersNodes()),ce=new Ni(H,k.isFullyInitialized(),T.filtersNodes());this.viewCache_=aa(ce,W),this.eventGenerator_=new Qd(this.query_)}return Object.defineProperty(h.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),h}();function bc(h,d){var g=bs(h.viewCache_);return g&&(h.query._queryParams.loadsAllData()||!qt(d)&&!g.getImmediateChild(Wt(d)).isEmpty())?g.getChild(d):null}function eh(h){return 0===h.eventRegistrations_.length}function Xr(h,d,g){var v=[];if(g){(0,M.hu)(null==d,"A cancel should cancel all event registrations.");var C=h.query._path;h.eventRegistrations_.forEach(function(j){var H=j.createCancelEvent(g,C);H&&v.push(H)})}if(d){for(var T=[],O=0;O<h.eventRegistrations_.length;++O){var k=h.eventRegistrations_[O];if(k.matches(d)){if(d.hasAnyCallback()){T=T.concat(h.eventRegistrations_.slice(O+1));break}}else T.push(k)}h.eventRegistrations_=T}else h.eventRegistrations_=[];return v}function so(h,d,g,v){d.type===jr.MERGE&&null!==d.source.queryId&&((0,M.hu)(bs(h.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(ca(h.viewCache_),"Missing event cache, even though we have a server cache"));var C=h.viewCache_,T=function(h,d,g,v,C){var O,k,T=new Q0;if(g.type===jr.OVERWRITE){var j=g;j.source.fromUser?O=Xd(h,d,j.path,j.snap,v,C,T):((0,M.hu)(j.source.fromServer,"Unknown source."),k=j.source.tagged||d.serverCache.isFiltered()&&!qt(j.path),O=Wl(h,d,j.path,j.snap,v,C,k,T))}else if(g.type===jr.MERGE){var H=g;H.source.fromUser?O=function(h,d,g,v,C,T,O){var k=d;return v.foreach(function(j,H){var W=Tn(g,j);Tv(d,Wt(W))&&(k=Xd(h,k,W,H,C,T,O))}),v.foreach(function(j,H){var W=Tn(g,j);Tv(d,Wt(W))||(k=Xd(h,k,W,H,C,T,O))}),k}(h,d,H.path,H.children,v,C,T):((0,M.hu)(H.source.fromServer,"Unknown source."),k=H.source.tagged||d.serverCache.isFiltered(),O=Sv(h,d,H.path,H.children,v,C,k,T))}else if(g.type===jr.ACK_USER_WRITE){var W=g;O=W.revert?function(h,d,g,v,C,T){var O;if(null!=Yo(v,g))return d;var k=new ql(v,d,C),j=d.eventCache.getNode(),H=void 0;if(qt(g)||".priority"===Wt(g)){var W=void 0;if(d.serverCache.isFullyInitialized())W=ga(v,bs(d));else{var ce=d.serverCache.getNode();(0,M.hu)(ce instanceof ve,"serverChildren would be complete if leaf node"),W=Fi(v,ce)}H=h.filter.updateFullNode(j,W=W,T)}else{var ge=Wt(g),ke=ws(v,ge,d.serverCache);null==ke&&d.serverCache.isCompleteForChild(ge)&&(ke=j.getImmediateChild(ge)),(H=null!=ke?h.filter.updateChild(j,ge,ke,_n(g),k,T):d.eventCache.getNode().hasChild(ge)?h.filter.updateChild(j,ge,ve.EMPTY_NODE,_n(g),k,T):j).isEmpty()&&d.serverCache.isFullyInitialized()&&(O=ga(v,bs(d))).isLeafNode()&&(H=h.filter.updateFullNode(H,O,T))}return O=d.serverCache.isFullyInitialized()||null!=Yo(v,on()),ua(d,H,O,h.filter.filtersNodes())}(h,d,W.path,v,C,T):function(h,d,g,v,C,T,O){if(null!=Yo(C,g))return d;var k=d.serverCache.isFiltered(),j=d.serverCache;if(null!=v.value){if(qt(g)&&j.isFullyInitialized()||j.isCompleteForPath(g))return Wl(h,d,g,j.getNode().getChild(g),C,T,k,O);if(qt(g)){var H=new ki(null);return j.getNode().forEachChild(ro,function(ce,ge){H=H.set(new hn(ce),ge)}),Sv(h,d,g,H,C,T,k,O)}return d}var W=new ki(null);return v.foreach(function(ce,ge){var ke=Tn(g,ce);j.isCompleteForPath(ke)&&(W=W.set(ce,j.getNode().getChild(ke)))}),Sv(h,d,g,W,C,T,k,O)}(h,d,W.path,W.affectedTree,v,C,T)}else{if(g.type!==jr.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+g.type);O=function(h,d,g,v,C){var T=d.serverCache;return Jd(h,oo(d,T.getNode(),T.isFullyInitialized()||qt(g),T.isFiltered()),g,v,Wn,C)}(h,d,g.path,v,T)}var ce=T.getChanges();return function(h,d,g){var v=d.eventCache;if(v.isFullyInitialized()){var C=v.getNode().isLeafNode()||v.getNode().isEmpty(),T=ca(h);(g.length>0||!h.eventCache.isFullyInitialized()||C&&!v.getNode().equals(T)||!v.getNode().getPriority().equals(T.getPriority()))&&g.push(sg(ca(d)))}}(d,O,ce),{viewCache:O,changes:ce}}(h.processor_,C,d,g,v);return function(h,d){(0,M.hu)(d.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(d.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,T.viewCache),(0,M.hu)(T.viewCache.serverCache.isFullyInitialized()||!C.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=T.viewCache,Es(h,T.changes,T.viewCache.eventCache.getNode(),null)}function Es(h,d,g,v){return function(h,d,g,v){var C=[],T=[];return d.forEach(function(O){"child_changed"===O.type&&h.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&T.push(function(h,d){return{type:"child_moved",snapshotNode:d,childName:h}}(O.childName,O.snapshotNode))}),Bl(h,C,"child_removed",d,v,g),Bl(h,C,"child_added",d,v,g),Bl(h,C,"child_moved",T,v,g),Bl(h,C,"child_changed",d,v,g),Bl(h,C,"value",d,v,g),C}(h.eventGenerator_,d,g,v?[v]:h.eventRegistrations_)}var Do,wc,wg=function(){this.views=new Map};function xv(h,d,g,v){var C,T,O=d.source.queryId;if(null!==O){var k=h.views.get(O);return(0,M.hu)(null!=k,"SyncTree gave us an op for an invalid query."),so(k,d,g,v)}var j=[];try{for(var H=Ee(h.views.values()),W=H.next();!W.done;W=H.next())j=j.concat(so(k=W.value,d,g,v))}catch(ce){C={error:ce}}finally{try{W&&!W.done&&(T=H.return)&&T.call(H)}finally{if(C)throw C.error}}return j}function Bn(h,d,g,v,C){var O=h.views.get(d._queryIdentifier);if(!O){var k=ga(g,C?v:null),j=!1;k?j=!0:v instanceof ve?(k=Fi(g,v),j=!1):(k=ve.EMPTY_NODE,j=!1);var H=aa(new Ni(k,j,!1),new Ni(v,C,!1));return new pI(d,H)}return O}function Er(h){var d,g,v=[];try{for(var C=Ee(h.views.values()),T=C.next();!T.done;T=C.next()){var O=T.value;O.query._queryParams.loadsAllData()||v.push(O)}}catch(k){d={error:k}}finally{try{T&&!T.done&&(g=C.return)&&g.call(C)}finally{if(d)throw d.error}}return v}function Cs(h,d){var g,v,C=null;try{for(var T=Ee(h.views.values()),O=T.next();!O.done;O=T.next())C=C||bc(O.value,d)}catch(j){g={error:j}}finally{try{O&&!O.done&&(v=T.return)&&v.call(T)}finally{if(g)throw g.error}}return C}function nh(h,d){return d._queryParams.loadsAllData()?Zl(h):h.views.get(d._queryIdentifier)}function rh(h,d){return null!=nh(h,d)}function Ds(h){return null!=Zl(h)}function Zl(h){var d,g;try{for(var v=Ee(h.views.values()),C=v.next();!C.done;C=v.next()){var T=C.value;if(T.query._queryParams.loadsAllData())return T}}catch(O){d={error:O}}finally{try{C&&!C.done&&(g=v.return)&&g.call(v)}finally{if(d)throw d.error}}return null}var ih=1,Ec=function(d){this.listenProvider_=d,this.syncPointTree_=new ki(null),this.pendingWriteTree_={visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Eg(h,d,g,v,C){return function(h,d,g,v,C){(0,M.hu)(v>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===C&&(C=!0),h.allWrites.push({path:d,snap:g,writeId:v,visible:C}),C&&(h.visibleWrites=uu(h.visibleWrites,d,g)),h.lastWriteId=v}(h.pendingWriteTree_,d,g,v,C),C?Sn(h,new zd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,g)):[]}function _i(h,d,g){void 0===g&&(g=!1);var v=function(h,d){for(var g=0;g<h.allWrites.length;g++){var v=h.allWrites[g];if(v.writeId===d)return v}return null}(h.pendingWriteTree_,d);if(function(h,d){var g=h.allWrites.findIndex(function(H){return H.writeId===d});(0,M.hu)(g>=0,"removeWrite called with nonexistent writeId.");var v=h.allWrites[g];h.allWrites.splice(g,1);for(var C=v.visible,T=!1,O=h.allWrites.length-1;C&&O>=0;){var k=h.allWrites[O];k.visible&&(O>=g&&gg(k,v.path)?C=!1:pi(v.path,k.path)&&(T=!0)),O--}return!!C&&(T?(function(h){h.visibleWrites=Zd(h.allWrites,Ct,on()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(v.snap?h.visibleWrites=K0(h.visibleWrites,v.path):jn(v.children,function(H){h.visibleWrites=K0(h.visibleWrites,Tn(v.path,H))}),!0))}(h.pendingWriteTree_,d)){var T=new ki(null);return null!=v.snap?T=T.set(on(),!0):jn(v.children,function(O){T=T.set(new hn(O),!0)}),Sn(h,new _s(v.path,T,g))}return[]}function bi(h,d,g){return Sn(h,new zd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,g))}function yu(h,d,g,v){var C=d._path,T=h.syncPointTree_.get(C),O=[];if(T&&("default"===d._queryIdentifier||rh(T,d))){var k=function(h,d,g,v){var C,T,O=d._queryIdentifier,k=[],j=[],H=Ds(h);if("default"===O)try{for(var W=Ee(h.views.entries()),ce=W.next();!ce.done;ce=W.next()){var We,ge=Te(ce.value,2),ke=ge[0];j=j.concat(Xr(We=ge[1],g,v)),eh(We)&&(h.views.delete(ke),We.query._queryParams.loadsAllData()||k.push(We.query))}}catch(Dt){C={error:Dt}}finally{try{ce&&!ce.done&&(T=W.return)&&T.call(W)}finally{if(C)throw C.error}}else(We=h.views.get(O))&&(j=j.concat(Xr(We,g,v)),eh(We)&&(h.views.delete(O),We.query._queryParams.loadsAllData()||k.push(We.query)));return H&&!Ds(h)&&k.push(new((0,M.hu)(Do,"Reference.ts has not been loaded"),Do)(d._repo,d._path)),{removed:k,events:j}}(T,d,g,v);(function(h){return 0===h.views.size})(T)&&(h.syncPointTree_=h.syncPointTree_.remove(C));var j=k.removed;O=k.events;var H=-1!==j.findIndex(function(sr){return sr._queryParams.loadsAllData()}),W=h.syncPointTree_.findOnPath(C,function(sr,Di){return Ds(Di)});if(H&&!W){var ce=h.syncPointTree_.subtree(C);if(!ce.isEmpty())for(var ge=function(h){return h.fold(function(d,g,v){if(g&&Ds(g))return[Zl(g)];var T=[];return g&&(T=Er(g)),jn(v,function(O,k){T=T.concat(k)}),T})}(ce),ke=0;ke<ge.length;++ke){var We=ge[ke],Dt=We.query,yt=Ts(h,We);h.listenProvider_.startListening(wi(Dt),Ss(h,Dt),yt.hashFn,yt.onComplete)}}!W&&j.length>0&&!v&&(H?h.listenProvider_.stopListening(wi(d),null):j.forEach(function(sr){var Di=h.queryToTagMap.get(As(sr));h.listenProvider_.stopListening(wi(sr),Di)})),function(h,d){for(var g=0;g<d.length;++g){var v=d[g];if(!v._queryParams.loadsAllData()){var C=As(v),T=h.queryToTagMap.get(C);h.queryToTagMap.delete(C),h.tagToQueryMap.delete(T)}}}(h,j)}return O}function Dn(h,d,g){var v=d._path,C=null,T=!1;h.syncPointTree_.foreachOnPath(v,function(Dt,yt){var Bt=wr(Dt,v);C=C||Cs(yt,Bt),T=T||Ds(yt)});var k,O=h.syncPointTree_.get(v);O?(T=T||Ds(O),C=C||Cs(O,on())):(O=new wg,h.syncPointTree_=h.syncPointTree_.set(v,O)),null!=C?k=!0:(k=!1,C=ve.EMPTY_NODE,h.syncPointTree_.subtree(v).foreachChild(function(Dt,yt){var Bt=Cs(yt,on());Bt&&(C=C.updateImmediateChild(Dt,Bt))}));var H=rh(O,d);if(!H&&!d._queryParams.loadsAllData()){var W=As(d);(0,M.hu)(!h.queryToTagMap.has(W),"View does not exist, but we have a tag");var ce=ih++;h.queryToTagMap.set(W,ce),h.tagToQueryMap.set(ce,W)}var ke=function(h,d,g,v,C,T){var O=Bn(h,d,v,C,T);return h.views.has(d._queryIdentifier)||h.views.set(d._queryIdentifier,O),function(h,d){h.eventRegistrations_.push(d)}(O,g),function(h,d){var g=h.viewCache_.eventCache,v=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(Xe,function(T,O){v.push(gi(T,O))}),g.isFullyInitialized()&&v.push(sg(g.getNode())),Es(h,v,g.getNode(),d)}(O,g)}(O,d,g,dr(h.pendingWriteTree_,v),C,k);if(!H&&!T){var We=nh(O,d);ke=ke.concat(function(h,d,g){var v=d._path,C=Ss(h,d),T=Ts(h,g),O=h.listenProvider_.startListening(wi(d),C,T.hashFn,T.onComplete),k=h.syncPointTree_.subtree(v);if(C)(0,M.hu)(!Ds(k.value),"If we're adding a query, it shouldn't be shadowed");else for(var j=k.fold(function(ce,ge,ke){if(!qt(ce)&&ge&&Ds(ge))return[Zl(ge).query];var We=[];return ge&&(We=We.concat(Er(ge).map(function(Dt){return Dt.query}))),jn(ke,function(Dt,yt){We=We.concat(yt)}),We}),H=0;H<j.length;++H){var W=j[H];h.listenProvider_.stopListening(wi(W),Ss(h,W))}return O}(h,d,We))}return ke}function es(h,d,g){var C=h.pendingWriteTree_,T=h.syncPointTree_.findOnPath(d,function(O,k){var H=Cs(k,wr(O,d));if(H)return H});return fu(C,d,T,g,!0)}function Sn(h,d){return Jl(d,h.syncPointTree_,null,dr(h.pendingWriteTree_,on()))}function Jl(h,d,g,v){if(qt(h.path))return sh(h,d,g,v);var C=d.get(on());null==g&&null!=C&&(g=Cs(C,on()));var T=[],O=Wt(h.path),k=h.operationForChild(O),j=d.children.get(O);if(j&&k){var H=g?g.getImmediateChild(O):null,W=_c(v,O);T=T.concat(Jl(k,j,H,W))}return C&&(T=T.concat(xv(C,h,v,g))),T}function sh(h,d,g,v){var C=d.get(on());null==g&&null!=C&&(g=Cs(C,on()));var T=[];return d.children.inorderTraversal(function(O,k){var j=g?g.getImmediateChild(O):null,H=_c(v,O),W=h.operationForChild(O);W&&(T=T.concat(sh(W,k,j,H)))}),C&&(T=T.concat(xv(C,h,v,g))),T}function Ts(h,d){var g=d.query,v=Ss(h,g);return{hashFn:function(){return(function(h){return h.viewCache_.serverCache.getNode()}(d)||ve.EMPTY_NODE).hash()},onComplete:function(C){if("ok"===C)return v?function(h,d,g){var v=Io(h,g);if(v){var C=Xl(v),T=C.path,O=C.queryId,k=wr(T,d);return Cg(h,T,new vc(Wd(O),k))}return[]}(h,g._path,v):function(h,d){return Sn(h,new vc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(h,g._path);var T=function(h,d){var g="Unknown Error";"too_big"===h?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?g="Client doesn't have permission to access the desired data.":"unavailable"===h&&(g="The service is unavailable");var v=new Error(h+" at "+d._path.toString()+": "+g);return v.code=h.toUpperCase(),v}(C,g);return yu(h,g,null,T)}}}function Ss(h,d){var g=As(d);return h.queryToTagMap.get(g)}function As(h){return h._path.toString()+"$"+h._queryIdentifier}function Io(h,d){return h.tagToQueryMap.get(d)}function Xl(h){var d=h.indexOf("$");return(0,M.hu)(-1!==d&&d<h.length-1,"Bad queryKey."),{queryId:h.substr(d+1),path:new hn(h.substr(0,d))}}function Cg(h,d,g){var v=h.syncPointTree_.get(d);return(0,M.hu)(v,"Missing sync point for query tag that we're tracking"),xv(v,g,dr(h.pendingWriteTree_,d),null)}function wi(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new((0,M.hu)(wc,"Reference.ts has not been loaded"),wc)(h._repo,h._path):h}var Dg=function(){function h(d){this.node_=d}return h.prototype.getImmediateChild=function(d){return new h(this.node_.getImmediateChild(d))},h.prototype.node=function(){return this.node_},h}(),tf=function(){function h(d,g){this.syncTree_=d,this.path_=g}return h.prototype.getImmediateChild=function(d){var g=Tn(this.path_,d);return new h(this.syncTree_,g)},h.prototype.node=function(){return es(this.syncTree_,this.path_)},h}(),ah=function(h,d,g){return h&&"object"==typeof h?((0,M.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?kv(h[".sv"],d,g):"object"==typeof h[".sv"]?Ig(h[".sv"],d):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},kv=function(h,d,g){switch(h){case"timestamp":return g.timestamp;default:(0,M.hu)(!1,"Unexpected server value: "+h)}},Ig=function(h,d,g){h.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));var v=h.increment;"number"!=typeof v&&(0,M.hu)(!1,"Unexpected increment value: "+v);var C=d.node();if((0,M.hu)(null!=C,"Expected ChildrenNode.EMPTY_NODE for nulls"),!C.isLeafNode())return v;var O=C.getValue();return"number"!=typeof O?v:O+v},ma=function(h,d,g,v){return rf(d,new tf(g,h),v)},ya=function(h,d,g){return rf(h,new Dg(d),g)};function rf(h,d,g){var T,v=h.getPriority().val(),C=ah(v,d.getImmediateChild(".priority"),g);if(h.isLeafNode()){var O=h,k=ah(O.getValue(),d,g);return k!==O.getValue()||C!==O.getPriority().val()?new tu(k,En(C)):h}var j=h;return T=j,C!==j.getPriority().val()&&(T=T.updatePriority(new tu(C))),j.forEachChild(Xe,function(H,W){var ce=rf(W,d.getImmediateChild(H),g);ce!==W&&(T=T.updateImmediateChild(H,ce))}),T}var Tg=function(d,g,v){void 0===d&&(d=""),void 0===g&&(g=null),void 0===v&&(v={children:{},childCount:0}),this.name=d,this.parent=g,this.node=v};function ao(h,d){for(var g=d instanceof hn?d:new hn(d),v=h,C=Wt(g);null!==C;){var T=(0,M.DV)(v.node.children,C)||{children:{},childCount:0};v=new Tg(C,v,T),C=Wt(g=_n(g))}return v}function or(h){return h.node.value}function Sg(h,d){h.node.value=d,va(h)}function Cc(h){return h.node.childCount>0}function of(h,d){jn(h.node.children,function(g,v){d(new Tg(g,h,v))})}function Dc(h,d,g,v){g&&!v&&d(h),of(h,function(C){Dc(C,d,!0,v)}),g&&v&&d(h)}function Ui(h){return new hn(null===h.parent?h.name:Ui(h.parent)+"/"+h.name)}function va(h){null!==h.parent&&function(h,d,g){var v=function(h){return void 0===or(h)&&!Cc(h)}(g),C=(0,M.r3)(h.node.children,d);v&&C?(delete h.node.children[d],h.node.childCount--,va(h)):!v&&!C&&(h.node.children[d]=g.node,h.node.childCount++,va(h))}(h.parent,h.name,h)}var J0=/[\[\].#$\/\u0000-\u001F\u007F]/,sf=/[\[\].#$\u0000-\u001F\u007F]/,Ic=10485760,Tc=function(h){return"string"==typeof h&&0!==h.length&&!J0.test(h)},uh=function(h){return"string"==typeof h&&0!==h.length&&!sf.test(h)},ji=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!ys(h)||h&&"object"==typeof h&&(0,M.r3)(h,".sv")},co=function(h,d,g,v){v&&void 0===d||Sc((0,M.gK)(h,"value"),d,g)},Sc=function(h,d,g){var v=g instanceof hn?new ra(g,h):g;if(void 0===d)throw new Error(h+"contains undefined "+ia(v));if("function"==typeof d)throw new Error(h+"contains a function "+ia(v)+" with contents = "+d.toString());if(ys(d))throw new Error(h+"contains "+d.toString()+" "+ia(v));if("string"==typeof d&&d.length>Ic/3&&(0,M.ug)(d)>Ic)throw new Error(h+"contains a string greater than "+Ic+" utf8 bytes "+ia(v)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var C=!1,T=!1;if(jn(d,function(O,k){if(".value"===O)C=!0;else if(".priority"!==O&&".sv"!==O&&(T=!0,!Tc(O)))throw new Error(h+" contains an invalid key ("+O+") "+ia(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(h,d){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(d),h.byteLength_+=(0,M.ug)(d),Tl(h)})(v,O),Sc(h,k,v),function(h){var d=h.parts_.pop();h.byteLength_-=(0,M.ug)(d),h.parts_.length>0&&(h.byteLength_-=1)}(v)}),C&&T)throw new Error(h+' contains ".value" child '+ia(v)+" in addition to actual children.")}},xg=function(h,d,g,v){if(!v||void 0!==d){var C=(0,M.gK)(h,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(C+" must be an object containing the children to replace.");var T=[];jn(d,function(O,k){var j=new hn(O);if(Sc(C,k,Tn(g,j)),".priority"===ng(j)&&!ji(k))throw new Error(C+"contains an invalid value for '"+j.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(j)}),function(h,d){var g,v;for(g=0;g<d.length;g++)for(var C=Dl(v=d[g]),T=0;T<C.length;T++)if((".priority"!==C[T]||T!==C.length-1)&&!Tc(C[T]))throw new Error(h+"contains an invalid key ("+C[T]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(q0);var O=null;for(g=0;g<d.length;g++){if(v=d[g],null!==O&&pi(O,v))throw new Error(h+"contains a path "+O.toString()+" that is ancestor of another path "+v.toString());O=v}}(C,T)}},af=function(h,d,g){if(!g||void 0!==d){if(ys(d))throw new Error((0,M.gK)(h,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ji(d))throw new Error((0,M.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},So=function(h,d,g){if(!g||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)(h,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},At=function(h,d,g,v){if(!(v&&void 0===g||Tc(g)))throw new Error((0,M.gK)(h,d)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vu=function(h,d,g,v){if(!(v&&void 0===g||uh(g)))throw new Error((0,M.gK)(h,d)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ei=function(h,d){if(".info"===Wt(d))throw new Error(h+" failed = Can't modify data under /.info/")},uf=function(h,d){var g=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Tc(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==g.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),uh(h)}(g))throw new Error((0,M.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Uv=function(h,d,g,v){if((!v||void 0!==g)&&"boolean"!=typeof g)throw new Error((0,M.gK)(h,d)+"must be a boolean.")},jv=function(){this.eventLists_=[],this.recursionDepth_=0};function Ac(h,d){for(var g=null,v=0;v<d.length;v++){var C=d[v],T=C.getPath();null!==g&&!Il(T,g.path)&&(h.eventLists_.push(g),g=null),null===g&&(g={events:[],path:T}),g.events.push(C)}g&&h.eventLists_.push(g)}function Vi(h,d,g){Ac(h,g),ch(h,function(v){return Il(v,d)})}function Ci(h,d,g){Ac(h,g),ch(h,function(v){return pi(v,d)||pi(d,v)})}function ch(h,d){h.recursionDepth_++;for(var g=!0,v=0;v<h.eventLists_.length;v++){var C=h.eventLists_[v];C&&(d(C.path)?(Pg(h.eventLists_[v]),h.eventLists_[v]=null):g=!1)}g&&(h.eventLists_=[]),h.recursionDepth_--}function Pg(h){for(var d=0;d<h.events.length;d++){var g=h.events[d];if(null!==g){h.events[d]=null;var v=g.getEventRunner();Rt&&Mt("event: "+g.toString()),Zn(v)}}}var X0="repo_interrupt",ei=function(){function h(d,g,v,C){this.repoInfo_=d,this.forceRestClient_=g,this.authTokenProvider_=v,this.appCheckProvider_=C,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nr(),this.transactionQueueTree_=new Tg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return h.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},h}();function lo(h){var g=h.infoData_.getNode(new hn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function Ao(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:lo(h)})}function cf(h,d,g,v,C){h.dataUpdateCount++;var T=new hn(d);g=h.interceptServerDataCallback_?h.interceptServerDataCallback_(d,g):g;var O=[];if(C)if(v){var k=(0,M.UI)(g,function(ge){return En(ge)});O=function(h,d,g,v){var C=Io(h,v);if(C){var T=Xl(C),O=T.path,k=T.queryId,j=wr(O,d),H=ki.fromObject(g);return Cg(h,O,new Kd(Wd(k),j,H))}return[]}(h.serverSyncTree_,T,k,C)}else{var j=En(g);O=function(h,d,g,v){var C=Io(h,v);if(null!=C){var T=Xl(C),O=T.path,k=T.queryId,j=wr(O,d);return Cg(h,O,new zd(Wd(k),j,g))}return[]}(h.serverSyncTree_,T,j,C)}else if(v){var H=(0,M.UI)(g,function(ge){return En(ge)});O=function(h,d,g){var v=ki.fromObject(g);return Sn(h,new Kd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,v))}(h.serverSyncTree_,T,H)}else{var W=En(g);O=bi(h.serverSyncTree_,T,W)}var ce=T;O.length>0&&(ce=Du(h,T)),Ci(h.eventQueue_,ce,O)}function lf(h,d){lh(h,"connected",d),!1===d&&function(h){Cu(h,"onDisconnectEvents");var d=Ao(h),g=nr();dg(h.onDisconnect_,on(),function(C,T){var O=ma(C,T,h.serverSyncTree_,d);Mi(g,C,O)});var v=[];dg(g,on(),function(C,T){v=v.concat(bi(h.serverSyncTree_,C,T));var O=Ug(h,C);Du(h,O)}),h.onDisconnect_=nr(),Ci(h.eventQueue_,on(),v)}(h)}function lh(h,d,g){var v=new hn("/.info/"+d),C=En(g);h.infoData_.updateSnapshot(v,C);var T=bi(h.infoSyncTree_,v,C);Ci(h.eventQueue_,v,T)}function ff(h){return h.nextWriteId_++}function fo(h,d,g,v,C){Cu(h,"set",{path:d.toString(),value:g,priority:v});var T=Ao(h),O=En(g,v),k=es(h.serverSyncTree_,d),j=ya(O,k,T),H=ff(h),W=Eg(h.serverSyncTree_,d,j,H,!0);Ac(h.eventQueue_,W),h.server_.put(d.toString(),O.val(!0),function(ge,ke){var We="ok"===ge;We||gn("set at "+d+" failed: "+ge);var Dt=_i(h.serverSyncTree_,H,!We);Ci(h.eventQueue_,d,Dt),sn(0,C,ge,ke)});var ce=Ug(h,d);Du(h,ce),Ci(h.eventQueue_,ce,[])}function tw(h,d,g){h.server_.onDisconnectCancel(d.toString(),function(v,C){"ok"===v&&Mn(h.onDisconnect_,d),sn(0,g,v,C)})}function ts(h,d,g,v){var C=En(g);h.server_.onDisconnectPut(d.toString(),C.val(!0),function(T,O){"ok"===T&&Mi(h.onDisconnect_,d,C),sn(0,v,T,O)})}function dh(h,d,g){var v;v=".info"===Wt(d._path)?yu(h.infoSyncTree_,d,g):yu(h.serverSyncTree_,d,g),Vi(h.eventQueue_,d._path,v)}function wu(h){h.persistentConnection_&&h.persistentConnection_.interrupt(X0)}function Cu(h){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var v="";h.persistentConnection_&&(v=h.persistentConnection_.id+":"),Mt.apply(void 0,Ve([v],Te(d)))}function sn(h,d,g,v){d&&Zn(function(){if("ok"===g)d(null);else{var C=(g||"error").toUpperCase(),T=C;v&&(T+=": "+v);var O=new Error(T);O.code=C,d(O)}})}function pf(h,d,g){return es(h.serverSyncTree_,d,g)||ve.EMPTY_NODE}function _a(h,d){if(void 0===d&&(d=h.transactionQueueTree_),d||ph(h,d),or(d)){var g=Fg(h,d);(0,M.hu)(g.length>0,"Sending zero length transaction queue"),g.every(function(C){return 0===C.status})&&function(h,d,g){for(var v=g.map(function(ge){return ge.currentWriteId}),C=pf(h,d,v),T=C,O=C.hash(),k=0;k<g.length;k++){var j=g[k];(0,M.hu)(0===j.status,"tryToSendTransactionQueue_: items in queue should all be run."),j.status=1,j.retryCount++;var H=wr(d,j.path);T=T.updateChild(H,j.currentOutputSnapshotRaw)}var W=T.val(!0),ce=d;h.server_.put(ce.toString(),W,function(ge){Cu(h,"transaction put response",{path:ce.toString(),status:ge});var ke=[];if("ok"===ge){for(var We=[],Dt=function(Bt){g[Bt].status=2,ke=ke.concat(_i(h.serverSyncTree_,g[Bt].currentWriteId)),g[Bt].onComplete&&We.push(function(){return g[Bt].onComplete(null,!0,g[Bt].currentOutputSnapshotResolved)}),g[Bt].unwatcher()},yt=0;yt<g.length;yt++)Dt(yt);for(ph(h,ao(h.transactionQueueTree_,d)),_a(h,h.transactionQueueTree_),Ci(h.eventQueue_,d,ke),yt=0;yt<We.length;yt++)Zn(We[yt])}else{if("datastale"===ge)for(yt=0;yt<g.length;yt++)g[yt].status=3===g[yt].status?4:0;else for(gn("transaction at "+ce.toString()+" failed: "+ge),yt=0;yt<g.length;yt++)g[yt].status=4,g[yt].abortReason=ge;Du(h,d)}},O)}(h,Ui(d),g)}else Cc(d)&&of(d,function(C){_a(h,C)})}function Du(h,d){var g=Oc(h,d),v=Ui(g);return function(h,d,g){if(0!==d.length){for(var v=[],C=[],O=d.filter(function(H){return 0===H.status}).map(function(H){return H.currentWriteId}),k=function(H){var ke,W=d[H],ce=wr(g,W.path),ge=!1;if((0,M.hu)(null!==ce,"rerunTransactionsUnderNode_: relativePath should not be null."),4===W.status)ge=!0,ke=W.abortReason,C=C.concat(_i(h.serverSyncTree_,W.currentWriteId,!0));else if(0===W.status)if(W.retryCount>=25)ge=!0,ke="maxretry",C=C.concat(_i(h.serverSyncTree_,W.currentWriteId,!0));else{var We=pf(h,W.path,O);W.currentInputSnapshot=We;var Dt=d[H].update(We.val());if(void 0!==Dt){Sc("transaction failed: Data returned ",Dt,W.path);var yt=En(Dt);"object"==typeof Dt&&null!=Dt&&(0,M.r3)(Dt,".priority")||(yt=yt.updatePriority(We.getPriority()));var sr=W.currentWriteId,Di=Ao(h),Cf=ya(yt,We,Di);W.currentOutputSnapshotRaw=yt,W.currentOutputSnapshotResolved=Cf,W.currentWriteId=ff(h),O.splice(O.indexOf(sr),1),C=(C=C.concat(Eg(h.serverSyncTree_,W.path,Cf,W.currentWriteId,W.applyLocally))).concat(_i(h.serverSyncTree_,sr,!0))}else ge=!0,ke="nodata",C=C.concat(_i(h.serverSyncTree_,W.currentWriteId,!0))}Ci(h.eventQueue_,g,C),C=[],ge&&(d[H].status=2,setTimeout(d[H].unwatcher,Math.floor(0)),d[H].onComplete&&v.push("nodata"===ke?function(){return d[H].onComplete(null,!1,d[H].currentInputSnapshot)}:function(){return d[H].onComplete(new Error(ke),!1,null)}))},j=0;j<d.length;j++)k(j);for(ph(h,h.transactionQueueTree_),j=0;j<v.length;j++)Zn(v[j]);_a(h,h.transactionQueueTree_)}}(h,Fg(h,g),v),v}function Oc(h,d){var g,v=h.transactionQueueTree_;for(g=Wt(d);null!==g&&void 0===or(v);)v=ao(v,g),g=Wt(d=_n(d));return v}function Fg(h,d){var g=[];return Lg(h,d,g),g.sort(function(v,C){return v.order-C.order}),g}function Lg(h,d,g){var v=or(d);if(v)for(var C=0;C<v.length;C++)g.push(v[C]);of(d,function(T){Lg(h,T,g)})}function ph(h,d){var g=or(d);if(g){for(var v=0,C=0;C<g.length;C++)2!==g[C].status&&(g[v]=g[C],v++);g.length=v,Sg(d,g.length>0?g:void 0)}of(d,function(T){ph(h,T)})}function Ug(h,d){var g=Ui(Oc(h,d)),v=ao(h.transactionQueueTree_,d);return function(h,d,g){for(var v=h.parent;null!==v;){if(d(v))return!0;v=v.parent}}(v,function(C){ba(h,C)}),ba(h,v),Dc(v,function(C){ba(h,C)}),g}function ba(h,d){var g=or(d);if(g){for(var v=[],C=[],T=-1,O=0;O<g.length;O++)3===g[O].status||(1===g[O].status?((0,M.hu)(T===O-1,"All SENT items should be at beginning of queue."),T=O,g[O].status=3,g[O].abortReason="set"):((0,M.hu)(0===g[O].status,"Unexpected transaction status in abort"),g[O].unwatcher(),C=C.concat(_i(h.serverSyncTree_,g[O].currentWriteId,!0)),g[O].onComplete&&v.push(g[O].onComplete.bind(null,new Error("set"),!1,null))));for(-1===T?Sg(d,void 0):g.length=T+1,Ci(h.eventQueue_,Ui(d),C),O=0;O<v.length;O++)Zn(v[O])}}var Iu=function(h,d){var g=Oo(h),v=g.namespace;return"firebase.com"===g.domain&&Un(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==g.domain&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wa(g.host,g.secure,v,d,"ws"===g.scheme||"wss"===g.scheme,"",v!==g.subdomain),path:new hn(g.pathString)}},Oo=function(h){var d="",g="",v="",C="",T="",O=!0,k="https",j=443;if("string"==typeof h){var H=h.indexOf("//");H>=0&&(k=h.substring(0,H-1),h=h.substring(H+2));var W=h.indexOf("/");-1===W&&(W=h.length);var ce=h.indexOf("?");-1===ce&&(ce=h.length),d=h.substring(0,Math.min(W,ce)),W<ce&&(C=function(h){for(var d="",g=h.split("/"),v=0;v<g.length;v++)if(g[v].length>0){var C=g[v];try{C=decodeURIComponent(C.replace(/\+/g," "))}catch(T){}d+="/"+C}return d}(h.substring(W,ce)));var ge=function(h){var d,g,v={};"?"===h.charAt(0)&&(h=h.substring(1));try{for(var C=Ee(h.split("&")),T=C.next();!T.done;T=C.next()){var O=T.value;if(0!==O.length){var k=O.split("=");2===k.length?v[decodeURIComponent(k[0])]=decodeURIComponent(k[1]):gn("Invalid query segment '"+O+"' in query '"+h+"'")}}}catch(j){d={error:j}}finally{try{T&&!T.done&&(g=C.return)&&g.call(C)}finally{if(d)throw d.error}}return v}(h.substring(Math.min(h.length,ce)));(H=d.indexOf(":"))>=0?(O="https"===k||"wss"===k,j=parseInt(d.substring(H+1),10)):H=d.length;var ke=d.slice(0,H);if("localhost"===ke.toLowerCase())g="localhost";else if(ke.split(".").length<=2)g=ke;else{var We=d.indexOf(".");v=d.substring(0,We).toLowerCase(),g=d.substring(We+1),T=v}"ns"in ge&&(T=ge.ns)}return{host:d,port:j,domain:g,subdomain:v,secure:O,scheme:k,pathString:C,namespace:T}},Kn=function(){function h(d,g,v,C){this.eventType=d,this.eventRegistration=g,this.snapshot=v,this.prevName=C}return h.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},h.prototype.getEventType=function(){return this.eventType},h.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},h.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Pz)(this.snapshot.exportVal())},h}(),wa=function(){function h(d,g,v){this.eventRegistration=d,this.error=g,this.path=v}return h.prototype.getPath=function(){return this.path},h.prototype.getEventType=function(){return"cancel"},h.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},h.prototype.toString=function(){return this.path.toString()+":cancel"},h}(),Pc=function(){function h(d,g){this.snapshotCallback=d,this.cancelCallback=g}return h.prototype.onValue=function(d,g){this.snapshotCallback.call(null,d,g)},h.prototype.onCancel=function(d){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(h.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),h.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},h}(),Hv=function(){function h(d,g){this._repo=d,this._path=g}return h.prototype.cancel=function(){var d=new M.BH;return tw(this._repo,this._path,d.wrapCallback(function(){})),d.promise},h.prototype.remove=function(){Ei("OnDisconnect.remove",this._path);var d=new M.BH;return ts(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},h.prototype.set=function(d){Ei("OnDisconnect.set",this._path),co("OnDisconnect.set",d,this._path,!1);var g=new M.BH;return ts(this._repo,this._path,d,g.wrapCallback(function(){})),g.promise},h.prototype.setWithPriority=function(d,g){Ei("OnDisconnect.setWithPriority",this._path),co("OnDisconnect.setWithPriority",d,this._path,!1),af("OnDisconnect.setWithPriority",g,!1);var v=new M.BH;return function(h,d,g,v,C){var T=En(g,v);h.server_.onDisconnectPut(d.toString(),T.val(!0),function(O,k){"ok"===O&&Mi(h.onDisconnect_,d,T),sn(0,C,O,k)})}(this._repo,this._path,d,g,v.wrapCallback(function(){})),v.promise},h.prototype.update=function(d){Ei("OnDisconnect.update",this._path),xg("OnDisconnect.update",d,this._path,!1);var g=new M.BH;return function(h,d,g,v){if((0,M.xb)(g))return Mt("onDisconnect().update() called with empty data.  Don't do anything."),void sn(0,v,"ok",void 0);h.server_.onDisconnectMerge(d.toString(),g,function(C,T){"ok"===C&&jn(g,function(O,k){var j=En(k);Mi(h.onDisconnect_,Tn(d,O),j)}),sn(0,v,C,T)})}(this._repo,this._path,d,g.wrapCallback(function(){})),g.promise},h}(),Dr=function(){function h(d,g,v,C){this._repo=d,this._path=g,this._queryParams=v,this._orderByCalled=C}return Object.defineProperty(h.prototype,"key",{get:function(){return qt(this._path)?null:ng(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ref",{get:function(){return new ho(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_queryIdentifier",{get:function(){var d=ou(this._queryParams),g=Zr(d);return"{}"===g?"default":g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_queryObject",{get:function(){return ou(this._queryParams)},enumerable:!1,configurable:!0}),h.prototype.isEqual=function(d){if(!((d=(0,M.m9)(d))instanceof h))return!1;var g=this._repo===d._repo,v=Il(this._path,d._path);return g&&v&&this._queryIdentifier===d._queryIdentifier},h.prototype.toJSON=function(){return this.toString()},h.prototype.toString=function(){return this._repo.toString()+function(h){for(var d="",g=h.pieceNum_;g<h.pieces_.length;g++)""!==h.pieces_[g]&&(d+="/"+encodeURIComponent(String(h.pieces_[g])));return d||"/"}(this._path)},h}();function Tu(h,d){if(!0===h._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function xs(h){var d=null,g=null;if(h.hasStart()&&(d=h.getIndexStartValue()),h.hasEnd()&&(g=h.getIndexEndValue()),h.getIndex()===ro){var v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",C="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==mn)throw new Error(v);if("string"!=typeof d)throw new Error(C)}if(h.hasEnd()){if(h.getIndexEndName()!==Ar)throw new Error(v);if("string"!=typeof g)throw new Error(C)}}else if(h.getIndex()===Xe){if(null!=d&&!ji(d)||null!=g&&!ji(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(h.getIndex()instanceof Qo||h.getIndex()===iu,"unknown index type."),null!=d&&"object"==typeof d||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ps(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ho=function(h){function d(g,v){return h.call(this,g,v,new kl,!1)||this}return ye(d,h),Object.defineProperty(d.prototype,"parent",{get:function(){var g=hv(this._path);return null===g?null:new d(this._repo,g)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var g=this;null!==g.parent;)g=g.parent;return g},enumerable:!1,configurable:!0}),d}(Dr),Ea=function(){function h(d,g,v){this._node=d,this.ref=g,this._index=v}return Object.defineProperty(h.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),h.prototype.child=function(d){var g=new hn(d),v=ns(this.ref,d);return new h(this._node.getChild(g),v,Xe)},h.prototype.exists=function(){return!this._node.isEmpty()},h.prototype.exportVal=function(){return this._node.val(!0)},h.prototype.forEach=function(d){var g=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(C,T){return d(new h(T,ns(g.ref,C),Xe))})},h.prototype.hasChild=function(d){var g=new hn(d);return!this._node.getChild(g).isEmpty()},h.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},h.prototype.toJSON=function(){return this.exportVal()},h.prototype.val=function(){return this._node.val()},h}();function gh(h,d){return(h=(0,M.m9)(h))._checkNotDeleted("ref"),void 0!==d?ns(h._root,d):h._root}function gf(h,d){(h=(0,M.m9)(h))._checkNotDeleted("refFromURL");var g=Iu(d,h._repo.repoInfo_.nodeAdmin);uf("refFromURL",g);var v=g.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&v.host!==h._repo.repoInfo_.host&&Un("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+h._repo.repoInfo_.host+")"),gh(h,g.path.toString())}function ns(h,d){return null===Wt((h=(0,M.m9)(h))._path)?((g=d)&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),vu("child","path",g,!1)):vu("child","path",d,!1),new ho(h._repo,Tn(h._path,d));var g}function jg(h,d){h=(0,M.m9)(h),Ei("push",h._path),co("push",d,h._path,!0);var O,g=lo(h._repo),v=Rl(g),C=ns(h,v),T=ns(h,v);return O=null!=d?Rc(T,d).then(function(){return T}):Promise.resolve(T),C.then=O.then.bind(O),C.catch=O.then.bind(O,void 0),C}function Su(h){return Ei("remove",h._path),Rc(h,null)}function Rc(h,d){h=(0,M.m9)(h),Ei("set",h._path),co("set",d,h._path,!1);var g=new M.BH;return fo(h._repo,h._path,d,null,g.wrapCallback(function(){})),g.promise}function Gv(h,d){h=(0,M.m9)(h),Ei("setPriority",h._path),af("setPriority",d,!1);var g=new M.BH;return fo(h._repo,Tn(h._path,".priority"),d,null,g.wrapCallback(function(){})),g.promise}function nw(h,d,g){if(Ei("setWithPriority",h._path),co("setWithPriority",d,h._path,!1),af("setWithPriority",g,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";var v=new M.BH;return fo(h._repo,h._path,d,g,v.wrapCallback(function(){})),v.promise}function Vg(h,d){xg("update",d,h._path,!1);var g=new M.BH;return function(h,d,g,v){Cu(h,"update",{path:d.toString(),value:g});var C=!0,T=Ao(h),O={};if(jn(g,function(H,W){C=!1,O[H]=ma(Tn(d,H),En(W),h.serverSyncTree_,T)}),C)Mt("update() called with empty data.  Don't do anything."),sn(0,v,"ok",void 0);else{var k=ff(h),j=function(h,d,g,v){!function(h,d,g,v){(0,M.hu)(v>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:d,children:g,writeId:v,visible:!0}),h.visibleWrites=cu(h.visibleWrites,d,g),h.lastWriteId=v}(h.pendingWriteTree_,d,g,v);var C=ki.fromObject(g);return Sn(h,new Kd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,C))}(h.serverSyncTree_,d,O,k);Ac(h.eventQueue_,j),h.server_.merge(d.toString(),g,function(H,W){var ce="ok"===H;ce||gn("update at "+d+" failed: "+H);var ge=_i(h.serverSyncTree_,k,!ce),ke=ge.length>0?Du(h,d):d;Ci(h.eventQueue_,ke,ge),sn(0,v,H,W)}),jn(g,function(H){var W=Ug(h,Tn(d,H));Du(h,W)}),Ci(h.eventQueue_,d,[])}}(h._repo,h._path,d,g.wrapCallback(function(){})),g.promise}function Ca(h){return function(h,d){var g=function(h,d){var g=d._path,v=null;h.syncPointTree_.foreachOnPath(g,function(H,W){var ce=wr(H,g);v=v||Cs(W,ce)});var C=h.syncPointTree_.get(g);C?v=v||Cs(C,on()):(C=new wg,h.syncPointTree_=h.syncPointTree_.set(g,C));var T=null!=v,O=T?new Ni(v,!0,!1):null;return function(h){return ca(h.viewCache_)}(Bn(C,d,dr(h.pendingWriteTree_,d._path),T?O.getNode():ve.EMPTY_NODE,T))}(h.serverSyncTree_,d);return null!=g?Promise.resolve(g):h.server_.get(d).then(function(v){var C=En(v).withIndex(d._queryParams.getIndex()),T=bi(h.serverSyncTree_,d._path,C);return Vi(h.eventQueue_,d._path,T),Promise.resolve(C)},function(v){return Cu(h,"get for query "+(0,M.Pz)(d)+" failed: "+v),Promise.reject(new Error(v))})}((h=(0,M.m9)(h))._repo,h).then(function(d){return new Ea(d,new ho(h._repo,h._path),h._queryParams.getIndex())})}var Au=function(){function h(d){this.callbackContext=d}return h.prototype.respondsTo=function(d){return"value"===d},h.prototype.createEvent=function(d,g){var v=g._queryParams.getIndex();return new Kn("value",this,new Ea(d.snapshotNode,new ho(g._repo,g._path),v))},h.prototype.getEventRunner=function(d){var g=this;return"cancel"===d.getEventType()?function(){return g.callbackContext.onCancel(d.error)}:function(){return g.callbackContext.onValue(d.snapshot,null)}},h.prototype.createCancelEvent=function(d,g){return this.callbackContext.hasCancelCallback?new wa(this,d,g):null},h.prototype.matches=function(d){return d instanceof h&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},h.prototype.hasAnyCallback=function(){return null!==this.callbackContext},h}(),mf=function(){function h(d,g){this.eventType=d,this.callbackContext=g}return h.prototype.respondsTo=function(d){var g="children_added"===d?"child_added":d;return this.eventType===("children_removed"===g?"child_removed":g)},h.prototype.createCancelEvent=function(d,g){return this.callbackContext.hasCancelCallback?new wa(this,d,g):null},h.prototype.createEvent=function(d,g){(0,M.hu)(null!=d.childName,"Child events should have a childName.");var v=ns(new ho(g._repo,g._path),d.childName),C=g._queryParams.getIndex();return new Kn(d.type,this,new Ea(d.snapshotNode,v,C),d.prevName)},h.prototype.getEventRunner=function(d){var g=this;return"cancel"===d.getEventType()?function(){return g.callbackContext.onCancel(d.error)}:function(){return g.callbackContext.onValue(d.snapshot,d.prevName)}},h.prototype.matches=function(d){return d instanceof h&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},h.prototype.hasAnyCallback=function(){return!!this.callbackContext},h}();function po(h,d,g,v,C){var T;if("object"==typeof v&&(T=void 0,C=v),"function"==typeof v&&(T=v),C&&C.onlyOnce){var O=g,k=function(W,ce){dh(h._repo,h,H),O(W,ce)};k.userCallback=g.userCallback,k.context=g.context,g=k}var j=new Pc(g,T||void 0),H="value"===d?new Au(j):new mf(d,j);return function(h,d,g){var v;v=".info"===Wt(d._path)?Dn(h.infoSyncTree_,d,g):Dn(h.serverSyncTree_,d,g),Vi(h.eventQueue_,d._path,v)}(h._repo,h,H),function(){return dh(h._repo,h,H)}}function yf(h,d,g,v){return po(h,"value",d,g,v)}function Bg(h,d,g,v){return po(h,"child_added",d,g,v)}function vf(h,d,g,v){return po(h,"child_changed",d,g,v)}function Hg(h,d,g,v){return po(h,"child_moved",d,g,v)}function Gg(h,d,g,v){return po(h,"child_removed",d,g,v)}function Mc(h,d,g){var v=null,C=g?new Pc(g):null;"value"===d?v=new Au(C):d&&(v=new mf(d,C)),dh(h._repo,h,v)}var Nn=function(){},Ou=function(h){function d(g,v){var C=h.call(this)||this;return C._value=g,C._key=v,C}return ye(d,h),d.prototype._apply=function(g){co("endAt",this._value,g._path,!0);var v=Ul(g._queryParams,this._value,this._key);if(Ps(v),xs(v),g._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Dr(g._repo,g._path,v,g._orderByCalled)},d}(Nn);function qv(h,d){return At("endAt","key",d,!0),new Ou(h,d)}var mh=function(h){function d(g,v){var C=h.call(this)||this;return C._value=g,C._key=v,C}return ye(d,h),d.prototype._apply=function(g){co("endBefore",this._value,g._path,!1);var v=function(h,d,g){var C;return h.index_===ro?("string"==typeof d&&(d=Ri(d)),C=Ul(h,d,g)):C=Ul(h,d,null==g?mn:Ri(g)),C.endBeforeSet_=!0,C}(g._queryParams,this._value,this._key);if(Ps(v),xs(v),g._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Dr(g._repo,g._path,v,g._orderByCalled)},d}(Nn);function qg(h,d){return At("endBefore","key",d,!0),new mh(h,d)}var $g=function(h){function d(g,v){var C=h.call(this)||this;return C._value=g,C._key=v,C}return ye(d,h),d.prototype._apply=function(g){co("startAt",this._value,g._path,!0);var v=Fl(g._queryParams,this._value,this._key);if(Ps(v),xs(v),g._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Dr(g._repo,g._path,v,g._orderByCalled)},d}(Nn);function yh(h,d){return void 0===h&&(h=null),At("startAt","key",d,!0),new $g(h,d)}var $v=function(h){function d(g,v){var C=h.call(this)||this;return C._value=g,C._key=v,C}return ye(d,h),d.prototype._apply=function(g){co("startAfter",this._value,g._path,!1);var v=function(h,d,g){var v;return h.index_===ro?("string"==typeof d&&(d=tr(d)),v=Fl(h,d,g)):v=Fl(h,d,null==g?Ar:tr(g)),v.startAfterSet_=!0,v}(g._queryParams,this._value,this._key);if(Ps(v),xs(v),g._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Dr(g._repo,g._path,v,g._orderByCalled)},d}(Nn);function Wv(h,d){return At("startAfter","key",d,!0),new $v(h,d)}var Wg=function(h){function d(g){var v=h.call(this)||this;return v._limit=g,v}return ye(d,h),d.prototype._apply=function(g){if(g._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Dr(g._repo,g._path,function(h,d){var g=h.copy();return g.limitSet_=!0,g.limit_=d,g.viewFrom_="l",g}(g._queryParams,this._limit),g._orderByCalled)},d}(Nn);function xu(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wg(h)}var Bi=function(h){function d(g){var v=h.call(this)||this;return v._limit=g,v}return ye(d,h),d.prototype._apply=function(g){if(g._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Dr(g._repo,g._path,function(h,d){var g=h.copy();return g.limitSet_=!0,g.limit_=d,g.viewFrom_="r",g}(g._queryParams,this._limit),g._orderByCalled)},d}(Nn);function Da(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Bi(h)}var rw=function(h){function d(g){var v=h.call(this)||this;return v._path=g,v}return ye(d,h),d.prototype._apply=function(g){Tu(g,"orderByChild");var v=new hn(this._path);if(qt(v))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var C=new Qo(v),T=mc(g._queryParams,C);return xs(T),new Dr(g._repo,g._path,T,!0)},d}(Nn);function Rs(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vu("orderByChild","path",h,!1),new rw(h)}var iw=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),d.prototype._apply=function(g){Tu(g,"orderByKey");var v=mc(g._queryParams,ro);return xs(v),new Dr(g._repo,g._path,v,!0)},d}(Nn);function xo(){return new iw}var vh=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),d.prototype._apply=function(g){Tu(g,"orderByPriority");var v=mc(g._queryParams,Xe);return xs(v),new Dr(g._repo,g._path,v,!0)},d}(Nn);function _h(){return new vh}var Nc=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return ye(d,h),d.prototype._apply=function(g){Tu(g,"orderByValue");var v=mc(g._queryParams,iu);return xs(v),new Dr(g._repo,g._path,v,!0)},d}(Nn);function Pu(){return new Nc}var Ia=function(h){function d(g,v){var C=h.call(this)||this;return C._value=g,C._key=v,C}return ye(d,h),d.prototype._apply=function(g){if(co("equalTo",this._value,g._path,!1),g._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(g._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ou(this._value,this._key)._apply(new $g(this._value,this._key)._apply(g))},d}(Nn);function bh(h,d){return At("equalTo","key",d,!0),new Ia(h,d)}function Hi(h){for(var d,g,v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];var T=(0,M.m9)(h);try{for(var O=Ee(v),k=O.next();!k.done;k=O.next()){var j=k.value;T=j._apply(T)}}catch(H){d={error:H}}finally{try{k&&!k.done&&(g=O.return)&&g.call(O)}finally{if(d)throw d.error}}return T}(function(h){(0,M.hu)(!Do,"__referenceConstructor has already been defined"),Do=h})(ho),function(h){(0,M.hu)(!wc,"__referenceConstructor has already been defined"),wc=h}(ho);var Ta={},ti=!1;function Ms(h,d,g,v,C){var T=v||h.options.databaseURL;void 0===T&&(h.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mt("Using default host for project ",h.options.projectId),T=h.options.projectId+"-default-rtdb.firebaseio.com");var j,O=Iu(T,C),k=O.repoInfo,H=void 0;"undefined"!=typeof process&&(H=process.env.FIREBASE_DATABASE_EMULATOR_HOST),H?(j=!0,k=(O=Iu(T="http://"+H+"?ns="+k.namespace,C)).repoInfo):j=!O.repoInfo.secure;var W=C&&j?new Tt(Tt.OWNER):new Et(h.name,h.options,d);uf("Invalid Firebase Database URL",O),qt(O.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");var ce=function(h,d,g,v){var C=Ta[d.name];C||(Ta[d.name]=C={});var T=C[h.toURLString()];return T&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new ei(h,ti,g,v),C[h.toURLString()]=T,T}(k,h,W,new Gt(h.name,g));return new Eh(ce,h)}var Eh=function(){function h(d,g){this._repoInternal=d,this.app=g,this.type="database",this._instanceStarted=!1}return Object.defineProperty(h.prototype,"_repo",{get:function(){return this._instanceStarted||(function(h,d,g){if(h.stats_=Fr(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new bv(h.repoInfo_,function(v,C,T,O){cf(h,v,C,T,O)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(function(){return lf(h,!0)},0);else{if(null!=g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Pz)(g)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}h.persistentConnection_=new Co(h.repoInfo_,d,function(v,C,T,O){cf(h,v,C,T,O)},function(v){lf(h,v)},function(v){!function(h,d){jn(d,function(g,v){lh(h,g,v)})}(h,v)},h.authTokenProvider_,h.appCheckProvider_,g),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(function(v){h.server_.refreshAuthToken(v)}),h.appCheckProvider_.addTokenChangeListener(function(v){h.server_.refreshAppCheckToken(v.token)}),h.statsReporter_=function(h,d){var g=h.toString();return kr[g]||(kr[g]=d()),kr[g]}(h.repoInfo_,function(){return new jl(h.stats_,h.server_)}),h.infoData_=new wv,h.infoSyncTree_=new Ec({startListening:function(v,C,T,O){var k=[],j=h.infoData_.getNode(v._path);return j.isEmpty()||(k=bi(h.infoSyncTree_,v._path,j),setTimeout(function(){O("ok")},0)),k},stopListening:function(){}}),lh(h,"connected",!1),h.serverSyncTree_=new Ec({startListening:function(v,C,T,O){return h.server_.listen(v,T,C,function(k,j){var H=O(k,j);Ci(h.eventQueue_,v._path,H)}),[]},stopListening:function(v,C){h.server_.unlisten(v,C)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ho(this._repo,on())),this._rootInternal},enumerable:!1,configurable:!0}),h.prototype._delete=function(){return null!==this._rootInternal&&(function(h,d){var g=Ta[d];(!g||g[h.key]!==h)&&Un("Database "+d+"("+h.repoInfo_+") has already been deleted."),wu(h),delete g[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},h.prototype._checkNotDeleted=function(d){null===this._rootInternal&&Un("Cannot call "+d+" on a deleted database.")},h}();function Zv(h){(h=(0,M.m9)(h))._checkNotDeleted("goOffline"),wu(h._repo)}function _f(h){(h=(0,M.m9)(h))._checkNotDeleted("goOnline"),function(h){h.persistentConnection_&&h.persistentConnection_.resume(X0)}(h._repo)}var zg={".sv":"timestamp"},Ch=function(){function h(d,g){this.committed=d,this.snapshot=g}return h.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},h}();function Mu(h,d,g){var v;if(h=(0,M.m9)(h),Ei("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";var C=null===(v=null==g?void 0:g.applyLocally)||void 0===v||v,T=new M.BH,k=yf(h,function(){});return function(h,d,g,v,C,T){Cu(h,"transaction on "+d);var O={path:d,update:g,onComplete:v,status:null,order:xt(),applyLocally:T,retryCount:0,unwatcher:C,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},k=pf(h,d,void 0);O.currentInputSnapshot=k;var j=O.update(k.val());if(void 0===j)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{Sc("transaction failed: Data returned ",j,O.path),O.status=0;var H=ao(h.transactionQueueTree_,d),W=or(H)||[];W.push(O),Sg(H,W);var ce=void 0;"object"==typeof j&&null!==j&&(0,M.r3)(j,".priority")?(ce=(0,M.DV)(j,".priority"),(0,M.hu)(ji(ce),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ce=(es(h.serverSyncTree_,d)||ve.EMPTY_NODE).getPriority().val();var ke=Ao(h),We=En(j,ce),Dt=ya(We,k,ke);O.currentOutputSnapshotRaw=We,O.currentOutputSnapshotResolved=Dt,O.currentWriteId=ff(h);var yt=Eg(h.serverSyncTree_,d,Dt,O.currentWriteId,O.applyLocally);Ci(h.eventQueue_,d,yt),_a(h,h.transactionQueueTree_)}}(h._repo,h._path,d,function(j,H,W){var ce=null;j?T.reject(j):(ce=new Ea(W,new ho(h._repo,h._path),Xe),T.resolve(new Ch(H,ce)))},k,C),T.promise}var Dh=function(){function h(d){this._delegate=d}return h.prototype.cancel=function(d){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",d,!0);var g=this._delegate.cancel();return d&&g.then(function(){return d(null)},function(v){return d(v)}),g},h.prototype.remove=function(d){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",d,!0);var g=this._delegate.remove();return d&&g.then(function(){return d(null)},function(v){return d(v)}),g},h.prototype.set=function(d,g){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",g,!0);var v=this._delegate.set(d);return g&&v.then(function(){return g(null)},function(C){return g(C)}),v},h.prototype.setWithPriority=function(d,g,v){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",v,!0);var C=this._delegate.setWithPriority(d,g);return v&&C.then(function(){return v(null)},function(T){return v(T)}),C},h.prototype.update=function(d,g){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var v={},C=0;C<d.length;++C)v[""+C]=d[C];d=v,gn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",g,!0);var T=this._delegate.update(d);return g&&T.then(function(){return g(null)},function(O){return g(O)}),T},h}(),Ih=function(){function h(d,g){this.committed=d,this.snapshot=g}return h.prototype.toJSON=function(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},h}(),Lc=function(){function h(d,g){this._database=d,this._delegate=g}return h.prototype.val=function(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},h.prototype.exportVal=function(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},h.prototype.toJSON=function(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},h.prototype.exists=function(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},h.prototype.child=function(d){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),d=String(d),vu("DataSnapshot.child","path",d,!1),new h(this._database,this._delegate.child(d))},h.prototype.hasChild=function(d){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),vu("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},h.prototype.getPriority=function(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},h.prototype.forEach=function(d){var g=this;return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(v){return d(new h(g._database,v))})},h.prototype.hasChildren=function(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(h.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),h.prototype.numChildren=function(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},h.prototype.getRef=function(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ns(this._database,this._delegate.ref)},Object.defineProperty(h.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),h}(),Qg=function(){function h(d,g){this.database=d,this._delegate=g}return h.prototype.on=function(d,g,v,C){var O,T=this;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",g,!1);var k=h.getCancelAndContextArgs_("Query.on",v,C),j=function(W,ce){g.call(k.context,new Lc(T.database,W),ce)};j.userCallback=g,j.context=k.context;var H=null===(O=k.cancel)||void 0===O?void 0:O.bind(k.context);switch(d){case"value":return yf(this._delegate,j,H),g;case"child_added":return Bg(this._delegate,j,H),g;case"child_removed":return Gg(this._delegate,j,H),g;case"child_changed":return vf(this._delegate,j,H),g;case"child_moved":return Hg(this._delegate,j,H),g;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},h.prototype.off=function(d,g,v){if((0,M.Dv)("Query.off",0,3,arguments.length),So("Query.off",d,!0),(0,M.Wj)("Query.off","callback",g,!0),(0,M.lb)("Query.off","context",v,!0),g){var C=function(){};C.userCallback=g,C.context=v,Mc(this._delegate,d,C)}else Mc(this._delegate,d)},h.prototype.get=function(){var d=this;return Ca(this._delegate).then(function(g){return new Lc(d.database,g)})},h.prototype.once=function(d,g,v,C){var T=this;(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",g,!0);var O=h.getCancelAndContextArgs_("Query.once",v,C),k=new M.BH,j=function(W,ce){var ge=new Lc(T.database,W);g&&g.call(O.context,ge,ce),k.resolve(ge)};j.userCallback=g,j.context=O.context;var H=function(W){O.cancel&&O.cancel.call(O.context,W),k.reject(W)};switch(d){case"value":yf(this._delegate,j,H,{onlyOnce:!0});break;case"child_added":Bg(this._delegate,j,H,{onlyOnce:!0});break;case"child_removed":Gg(this._delegate,j,H,{onlyOnce:!0});break;case"child_changed":vf(this._delegate,j,H,{onlyOnce:!0});break;case"child_moved":Hg(this._delegate,j,H,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return k.promise},h.prototype.limitToFirst=function(d){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new h(this.database,Hi(this._delegate,xu(d)))},h.prototype.limitToLast=function(d){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new h(this.database,Hi(this._delegate,Da(d)))},h.prototype.orderByChild=function(d){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new h(this.database,Hi(this._delegate,Rs(d)))},h.prototype.orderByKey=function(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new h(this.database,Hi(this._delegate,xo()))},h.prototype.orderByPriority=function(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new h(this.database,Hi(this._delegate,_h()))},h.prototype.orderByValue=function(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new h(this.database,Hi(this._delegate,Pu()))},h.prototype.startAt=function(d,g){return void 0===d&&(d=null),(0,M.Dv)("Query.startAt",0,2,arguments.length),new h(this.database,Hi(this._delegate,yh(d,g)))},h.prototype.startAfter=function(d,g){return void 0===d&&(d=null),(0,M.Dv)("Query.startAfter",0,2,arguments.length),new h(this.database,Hi(this._delegate,Wv(d,g)))},h.prototype.endAt=function(d,g){return void 0===d&&(d=null),(0,M.Dv)("Query.endAt",0,2,arguments.length),new h(this.database,Hi(this._delegate,qv(d,g)))},h.prototype.endBefore=function(d,g){return void 0===d&&(d=null),(0,M.Dv)("Query.endBefore",0,2,arguments.length),new h(this.database,Hi(this._delegate,qg(d,g)))},h.prototype.equalTo=function(d,g){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new h(this.database,Hi(this._delegate,bh(d,g)))},h.prototype.toString=function(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},h.prototype.toJSON=function(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},h.prototype.isEqual=function(d){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(d instanceof h)){var g="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(g)}return this._delegate.isEqual(d._delegate)},h.getCancelAndContextArgs_=function(d,g,v){var C={cancel:void 0,context:void 0};if(g&&v)C.cancel=g,(0,M.Wj)(d,"cancel",C.cancel,!0),C.context=v,(0,M.lb)(d,"context",C.context,!0);else if(g)if("object"==typeof g&&null!==g)C.context=g;else{if("function"!=typeof g)throw new Error((0,M.gK)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");C.cancel=g}return C},Object.defineProperty(h.prototype,"ref",{get:function(){return new Ns(this.database,new ho(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),h}(),Ns=function(h){function d(g,v){var C=h.call(this,g,new Dr(v._repo,v._path,new kl,!1))||this;return C.database=g,C._delegate=v,C}return ye(d,h),d.prototype.getKey=function(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(g){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof g&&(g=String(g)),new d(this.database,ns(this._delegate,g))},d.prototype.getParent=function(){(0,M.Dv)("Reference.parent",0,0,arguments.length);var g=this._delegate.parent;return g?new d(this.database,g):null},d.prototype.getRoot=function(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(g,v){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",v,!0);var C=Rc(this._delegate,g);return v&&C.then(function(){return v(null)},function(T){return v(T)}),C},d.prototype.update=function(g,v){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(g)){for(var C={},T=0;T<g.length;++T)C[""+T]=g[T];g=C,gn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ei("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",v,!0);var O=Vg(this._delegate,g);return v&&O.then(function(){return v(null)},function(k){return v(k)}),O},d.prototype.setWithPriority=function(g,v,C){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",C,!0);var T=nw(this._delegate,g,v);return C&&T.then(function(){return C(null)},function(O){return C(O)}),T},d.prototype.remove=function(g){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",g,!0);var v=Su(this._delegate);return g&&v.then(function(){return g(null)},function(C){return g(C)}),v},d.prototype.transaction=function(g,v,C){var T=this;(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",g,!1),(0,M.Wj)("Reference.transaction","onComplete",v,!0),Uv("Reference.transaction","applyLocally",C,!0);var O=Mu(this._delegate,g,{applyLocally:C}).then(function(k){return new Ih(k.committed,new Lc(T.database,k.snapshot))});return v&&O.then(function(k){return v(null,k.committed,k.snapshot)},function(k){return v(k,!1,null)}),O},d.prototype.setPriority=function(g,v){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",v,!0);var C=Gv(this._delegate,g);return v&&C.then(function(){return v(null)},function(T){return v(T)}),C},d.prototype.push=function(g,v){var C=this;(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",v,!0);var T=jg(this._delegate,g),O=T.then(function(j){return new d(C.database,j)});v&&O.then(function(){return v(null)},function(j){return v(j)});var k=new d(this.database,T);return k.then=O.then.bind(O),k.catch=O.catch.bind(O,void 0),k},d.prototype.onDisconnect=function(){return Ei("Reference.onDisconnect",this._delegate._path),new Dh(new Hv(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(Qg),Uc=function(){function h(d,g){var v=this;this._delegate=d,this.app=g,this.INTERNAL={delete:function(){return v._delegate._delete()}}}return h.prototype.useEmulator=function(d,g,v){void 0===v&&(v={}),function(h,d,g,v){void 0===v&&(v={}),(h=(0,M.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");var C=h._repoInternal,T=void 0;if(C.repoInfo_.nodeAdmin)v.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Tt(Tt.OWNER);else if(v.mockUserToken){var O="string"==typeof v.mockUserToken?v.mockUserToken:(0,M.Sg)(v.mockUserToken,h.app.options.projectId);T=new Tt(O)}!function(h,d,g,v){h.repoInfo_=new Wa(d+":"+g,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams),v&&(h.authTokenProvider_=v)}(C,d,g,T)}(this._delegate,d,g,v)},h.prototype.ref=function(d){if((0,M.Dv)("database.ref",0,1,arguments.length),d instanceof Ns){var g=gf(this._delegate,d.toString());return new Ns(this,g)}return g=gh(this._delegate,d),new Ns(this,g)},h.prototype.refFromURL=function(d){var g="database.refFromURL";(0,M.Dv)(g,1,1,arguments.length);var v=gf(this._delegate,d);return new Ns(this,v)},h.prototype.goOffline=function(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),Zv(this._delegate)},h.prototype.goOnline=function(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),_f(this._delegate)},h.ServerValue={TIMESTAMP:zg,increment:function(d){return function(h){return{".sv":{increment:h}}}(d)}},h}(),Sh=Object.freeze({__proto__:null,forceLongPolling:function(){ta.forceDisallow(),ea.forceAllow()},forceWebSockets:function(){ea.forceDisallow()},isWebSocketsAvailable:function(){return ta.isAvailable()},setSecurityDebugCallback:function(h,d){h._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(h,d){!function(h,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var g;d?(h.statsListener_||(h.statsListener_=new hg(h.stats_)),g=h.statsListener_.get()):g=h.stats_.get();var v=Object.keys(g).reduce(function(C,T){return Math.max(T.length,C)},0);jn(g,function(C,T){for(var O=C,k=C.length;k<v+2;k++)O+=" ";console.log(O+T)})}}(h._delegate._repo,d)},statsIncrementCounter:function(h,d){!function(h,d){h.stats_.incrementCounter(d),function(h,d){h.statsToReport_[d]=!0}(h.statsReporter_,d)}(h._delegate._repo,d)},dataUpdateCount:function(h){return h._delegate._repo.dataUpdateCount},interceptServerData:function(h,d){return function(h,d){h.interceptServerDataCallback_=d}(h._delegate._repo,d)},initStandalone:function(h){var d=h.app,g=h.url,C=h.customAuthImpl,T=h.namespace,O=h.nodeAdmin,k=void 0!==O&&O;fe(h.version);var j=new me.zt("auth-internal",new me.H0("database-standalone"));return j.setComponent(new me.wA("auth-internal",function(){return C},"PRIVATE")),{instance:new Uc(Ms(d,j,void 0,g,k),d),namespace:T}}}),Jg=Co;Co.prototype.simpleListen=function(h,d){this.sendRequest("q",{p:h},d)},Co.prototype.echo=function(h,d){this.sendRequest("echo",{d:h},d)};var Oh=Object.freeze({__proto__:null,DataConnection:Jg,RealTimeConnection:eg,hijackHash:function(h){var d=Co.prototype.put;return Co.prototype.put=function(g,v,C,T){void 0!==T&&(T=h()),d.call(this,g,v,C,T)},function(){Co.prototype.put=d}},ConnectionTarget:Wa,queryIdentifier:function(h){return h._delegate._queryIdentifier},forceRestClient:function(h){!function(h){ti=h}(h)}}),Vc=Uc.ServerValue;!function(h){fe(h.SDK_VERSION);var d=h.INTERNAL.registerComponent(new me.wA("database",function(g,v){var C=v.instanceIdentifier,T=g.getProvider("app").getImmediate(),O=g.getProvider("auth-internal"),k=g.getProvider("app-check-internal");return new Uc(Ms(T,O,k,C),T)},"PUBLIC").setServiceProps({Reference:Ns,Query:Qg,Database:Uc,DataSnapshot:Lc,enableLogging:wn,INTERNAL:Sh,ServerValue:Vc,TEST_ACCESS:Oh}).setMultipleInstances(!0));h.registerVersion("@firebase/database","0.11.0"),(0,M.Yr)()&&(dt.exports=d)}(_.Z)},300:(dt,Me,$)=>{"use strict";function _(){for(var V=0,te=0,ue=arguments.length;te<ue;te++)V+=arguments[te].length;var Ee=Array(V),Te=0;for(te=0;te<ue;te++)for(var ze=arguments[te],qe=0,Ve=ze.length;qe<Ve;qe++,Te++)Ee[Te]=ze[qe];return Ee}$.d(Me,{in:()=>Ce,Yd:()=>J,Ub:()=>z,Am:()=>X});var me,M=[],Ce=(()=>{return(V=Ce||(Ce={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",Ce;var V})(),ye={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},oe=Ce.INFO,De=((me={})[Ce.DEBUG]="log",me[Ce.VERBOSE]="log",me[Ce.INFO]="info",me[Ce.WARN]="warn",me[Ce.ERROR]="error",me),ee=function(V,te){for(var ue=[],Ee=2;Ee<arguments.length;Ee++)ue[Ee-2]=arguments[Ee];if(!(te<V.logLevel)){var Te=(new Date).toISOString(),ze=De[te];if(!ze)throw new Error("Attempted to log a message with an invalid logType (value: "+te+")");console[ze].apply(console,_(["["+Te+"]  "+V.name+":"],ue))}},J=function(){function V(te){this.name=te,this._logLevel=oe,this._logHandler=ee,this._userLogHandler=null,M.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(te){if(!(te in Ce))throw new TypeError('Invalid value "'+te+'" assigned to `logLevel`');this._logLevel=te},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(te){this._logLevel="string"==typeof te?ye[te]:te},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(te){this._userLogHandler=te},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var te=[],ue=0;ue<arguments.length;ue++)te[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,_([this,Ce.DEBUG],te)),this._logHandler.apply(this,_([this,Ce.DEBUG],te))},V.prototype.log=function(){for(var te=[],ue=0;ue<arguments.length;ue++)te[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,_([this,Ce.VERBOSE],te)),this._logHandler.apply(this,_([this,Ce.VERBOSE],te))},V.prototype.info=function(){for(var te=[],ue=0;ue<arguments.length;ue++)te[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,_([this,Ce.INFO],te)),this._logHandler.apply(this,_([this,Ce.INFO],te))},V.prototype.warn=function(){for(var te=[],ue=0;ue<arguments.length;ue++)te[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,_([this,Ce.WARN],te)),this._logHandler.apply(this,_([this,Ce.WARN],te))},V.prototype.error=function(){for(var te=[],ue=0;ue<arguments.length;ue++)te[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,_([this,Ce.ERROR],te)),this._logHandler.apply(this,_([this,Ce.ERROR],te))},V}();function z(V){M.forEach(function(te){te.setLogLevel(V)})}function X(V,te){for(var ue=function(qe){var Ve=null;te&&te.level&&(Ve=ye[te.level]),qe.userLogHandler=null===V?null:function(nt,Ft){for(var Lt=[],Gn=2;Gn<arguments.length;Gn++)Lt[Gn-2]=arguments[Gn];var Fn=Lt.map(function(cr){if(null==cr)return null;if("string"==typeof cr)return cr;if("number"==typeof cr||"boolean"==typeof cr)return cr.toString();if(cr instanceof Error)return cr.message;try{return JSON.stringify(cr)}catch(Ys){return null}}).filter(function(cr){return cr}).join(" ");Ft>=(null!=Ve?Ve:nt.logLevel)&&V({level:Ce[Ft].toLowerCase(),message:Fn,args:Lt,type:nt.name})}},Ee=0,Te=M;Ee<Te.length;Ee++)ue(Te[Ee])}},3701:(dt,Me,$)=>{"use strict";$.d(Me,{BH:()=>Pe,LL:()=>Js,ZR:()=>er,gQ:()=>qn,zI:()=>mt,hu:()=>ct,g5:()=>it,US:()=>Qe,h$:()=>Ln,$s:()=>Fr,r3:()=>Ue,Sg:()=>st,ne:()=>Vn,p$:()=>pe,ZB:()=>_e,gK:()=>Xs,m9:()=>_r,z$:()=>xt,GJ:()=>Ze,jU:()=>Rt,ru:()=>ln,d:()=>Mt,xb:()=>Ht,w1:()=>yr,hl:()=>Ga,uI:()=>Ut,UG:()=>ft,Yr:()=>Un,b$:()=>wn,G6:()=>gn,Mn:()=>Eo,w9:()=>Ne,cI:()=>In,UI:()=>Zn,xO:()=>Gt,DV:()=>rt,ug:()=>El,dS:()=>Wa,Pz:()=>jn,Dv:()=>vs,Wj:()=>cc,lb:()=>$a,eu:()=>ys});var _=function(N,U){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Z){G.__proto__=Z}||function(G,Z){for(var Y in Z)Object.prototype.hasOwnProperty.call(Z,Y)&&(G[Y]=Z[Y])})(N,U)},M=function(){return(M=Object.assign||function(U){for(var G,Z=1,Y=arguments.length;Z<Y;Z++)for(var ae in G=arguments[Z])Object.prototype.hasOwnProperty.call(G,ae)&&(U[ae]=G[ae]);return U}).apply(this,arguments)},ct=function(N,U){if(!N)throw it(U)},it=function(N){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+N)},Ke=function(N){for(var U=[],G=0,Z=0;Z<N.length;Z++){var Y=N.charCodeAt(Z);Y<128?U[G++]=Y:Y<2048?(U[G++]=Y>>6|192,U[G++]=63&Y|128):55296==(64512&Y)&&Z+1<N.length&&56320==(64512&N.charCodeAt(Z+1))?(Y=65536+((1023&Y)<<10)+(1023&N.charCodeAt(++Z)),U[G++]=Y>>18|240,U[G++]=Y>>12&63|128,U[G++]=Y>>6&63|128,U[G++]=63&Y|128):(U[G++]=Y>>12|224,U[G++]=Y>>6&63|128,U[G++]=63&Y|128)}return U},Qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(N,U){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[],Y=0;Y<N.length;Y+=3){var ae=N[Y],Be=Y+1<N.length,Je=Be?N[Y+1]:0,Vt=Y+2<N.length,et=Vt?N[Y+2]:0,Zt=(15&Je)<<2|et>>6,Lr=63&et;Vt||(Lr=64,Be||(Zt=64)),Z.push(G[ae>>2],G[(3&ae)<<4|Je>>4],G[Zt],G[Lr])}return Z.join("")},encodeString:function(N,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(N):this.encodeByteArray(Ke(N),U)},decodeString:function(N,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(N):function(N){for(var U=[],G=0,Z=0;G<N.length;){var Y=N[G++];if(Y<128)U[Z++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var ae=N[G++];U[Z++]=String.fromCharCode((31&Y)<<6|63&ae)}else if(Y>239&&Y<365){var Vt=((7&Y)<<18|(63&(ae=N[G++]))<<12|(63&(Be=N[G++]))<<6|63&N[G++])-65536;U[Z++]=String.fromCharCode(55296+(Vt>>10)),U[Z++]=String.fromCharCode(56320+(1023&Vt))}else{ae=N[G++];var Be=N[G++];U[Z++]=String.fromCharCode((15&Y)<<12|(63&ae)<<6|63&Be)}}return U.join("")}(this.decodeStringToByteArray(N,U))},decodeStringToByteArray:function(N,U){this.init_();for(var G=U?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[],Y=0;Y<N.length;){var ae=G[N.charAt(Y++)],Je=Y<N.length?G[N.charAt(Y)]:0,et=++Y<N.length?G[N.charAt(Y)]:64,yn=++Y<N.length?G[N.charAt(Y)]:64;if(++Y,null==ae||null==Je||null==et||null==yn)throw Error();Z.push(ae<<2|Je>>4),64!==et&&(Z.push(Je<<4&240|et>>2),64!==yn&&Z.push(et<<6&192|yn))}return Z},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}},Ln=function(N){var U=Ke(N);return Qe.encodeByteArray(U,!0)},fe=function(N){return Ln(N).replace(/\./g,"")},se=function(N){try{return Qe.decodeString(N,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function pe(N){return _e(void 0,N)}function _e(N,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return U}for(var Z in U)!U.hasOwnProperty(Z)||!Se(Z)||(N[Z]=_e(N[Z],U[Z]));return N}function Se(N){return"__proto__"!==N}var Pe=function(){function N(){var U=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(G,Z){U.resolve=G,U.reject=Z})}return N.prototype.wrapCallback=function(U){var G=this;return function(Z,Y){Z?G.reject(Z):G.resolve(Y),"function"==typeof U&&(G.promise.catch(function(){}),1===U.length?U(Z):U(Z,Y))}},N}();function st(N,U){if(N.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Z=U||"demo-project",Y=N.iat||0,ae=N.sub||N.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Be=M({iss:"https://securetoken.google.com/"+Z,aud:Z,iat:Y,exp:Y+3600,auth_time:Y,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},N);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Be)),""].join(".")}function xt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(N){return!1}}function Rt(){return"object"==typeof self&&self.self===self}function ln(){var N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mt(){return xt().indexOf("Electron/")>=0}function yr(){var N=xt();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function Eo(){return xt().indexOf("MSAppHost/")>=0}function Un(){return!1}function gn(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ga(){return"indexedDB"in self&&null!=indexedDB}function ys(){return new Promise(function(N,U){try{var G=!0,Z="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(Z);Y.onsuccess=function(){Y.result.close(),G||self.indexedDB.deleteDatabase(Z),N(!0)},Y.onupgradeneeded=function(){G=!1},Y.onerror=function(){var ae;U((null===(ae=Y.error)||void 0===ae?void 0:ae.message)||"")}}catch(ae){U(ae)}})}function mt(){return!(!navigator||!navigator.cookieEnabled)}var er=function(N){function U(G,Z,Y){var ae=N.call(this,Z)||this;return ae.code=G,ae.customData=Y,ae.name="FirebaseError",Object.setPrototypeOf(ae,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(ae,Js.prototype.create),ae}return function(N,U){if("function"!=typeof U&&null!==U)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function G(){this.constructor=N}_(N,U),N.prototype=null===U?Object.create(U):(G.prototype=U.prototype,new G)}(U,N),U}(Error),Js=function(){function N(U,G,Z){this.service=U,this.serviceName=G,this.errors=Z}return N.prototype.create=function(U){for(var G=[],Z=1;Z<arguments.length;Z++)G[Z-1]=arguments[Z];var Y=G[0]||{},ae=this.service+"/"+U,Be=this.errors[U],Je=Be?Go(Be,Y):"Error",Vt=this.serviceName+": "+Je+" ("+ae+").",et=new er(ae,Vt,Y);return et},N}();function Go(N,U){return N.replace(Zr,function(G,Z){var Y=U[Z];return null!=Y?String(Y):"<"+Z+"?>"})}var Zr=/\{\$([^}]+)}/g;function In(N){return JSON.parse(N)}function jn(N){return JSON.stringify(N)}var he=function(N){var U={},G={},Z={},Y="";try{var ae=N.split(".");U=In(se(ae[0])||""),G=In(se(ae[1])||""),Y=ae[2],Z=G.d||{},delete G.d}catch(Be){}return{header:U,claims:G,data:Z,signature:Y}},Ne=function(N){var G=he(N).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Ze=function(N){var U=he(N).claims;return"object"==typeof U&&!0===U.admin};function Ue(N,U){return Object.prototype.hasOwnProperty.call(N,U)}function rt(N,U){if(Object.prototype.hasOwnProperty.call(N,U))return N[U]}function Ht(N){for(var U in N)if(Object.prototype.hasOwnProperty.call(N,U))return!1;return!0}function Zn(N,U,G){var Z={};for(var Y in N)Object.prototype.hasOwnProperty.call(N,Y)&&(Z[Y]=U.call(G,N[Y],Y,N));return Z}function Gt(N){for(var U=[],G=function(Vt,et){Array.isArray(et)?et.forEach(function(tt){U.push(encodeURIComponent(Vt)+"="+encodeURIComponent(tt))}):U.push(encodeURIComponent(Vt)+"="+encodeURIComponent(et))},Z=0,Y=Object.entries(N);Z<Y.length;Z++){var ae=Y[Z];G(ae[0],ae[1])}return U.length?"&"+U.join("&"):""}var qn=function(){function N(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}return N.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},N.prototype.compress_=function(U,G){G||(G=0);var Z=this.W_;if("string"==typeof U)for(var Y=0;Y<16;Y++)Z[Y]=U.charCodeAt(G)<<24|U.charCodeAt(G+1)<<16|U.charCodeAt(G+2)<<8|U.charCodeAt(G+3),G+=4;else for(Y=0;Y<16;Y++)Z[Y]=U[G]<<24|U[G+1]<<16|U[G+2]<<8|U[G+3],G+=4;for(Y=16;Y<80;Y++)Z[Y]=4294967295&((ae=Z[Y-3]^Z[Y-8]^Z[Y-14]^Z[Y-16])<<1|ae>>>31);var yn,Zt,Be=this.chain_[0],Je=this.chain_[1],Vt=this.chain_[2],et=this.chain_[3],tt=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(yn=et^Je&(Vt^et),Zt=1518500249):(yn=Je^Vt^et,Zt=1859775393):Y<60?(yn=Je&Vt|et&(Je|Vt),Zt=2400959708):(yn=Je^Vt^et,Zt=3395469782);var ae=(Be<<5|Be>>>27)+yn+tt+Zt+Z[Y]&4294967295;tt=et,et=Vt,Vt=4294967295&(Je<<30|Je>>>2),Je=Be,Be=ae}this.chain_[0]=this.chain_[0]+Be&4294967295,this.chain_[1]=this.chain_[1]+Je&4294967295,this.chain_[2]=this.chain_[2]+Vt&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+tt&4294967295},N.prototype.update=function(U,G){if(null!=U){void 0===G&&(G=U.length);for(var Z=G-this.blockSize,Y=0,ae=this.buf_,Be=this.inbuf_;Y<G;){if(0===Be)for(;Y<=Z;)this.compress_(U,Y),Y+=this.blockSize;if("string"==typeof U){for(;Y<G;)if(ae[Be]=U.charCodeAt(Y),++Y,++Be===this.blockSize){this.compress_(ae),Be=0;break}}else for(;Y<G;)if(ae[Be]=U[Y],++Y,++Be===this.blockSize){this.compress_(ae),Be=0;break}}this.inbuf_=Be,this.total_+=G}},N.prototype.digest=function(){var U=[],G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Z=this.blockSize-1;Z>=56;Z--)this.buf_[Z]=255&G,G/=256;this.compress_(this.buf_);var Y=0;for(Z=0;Z<5;Z++)for(var ae=24;ae>=0;ae-=8)U[Y]=this.chain_[Z]>>ae&255,++Y;return U},N}();function Vn(N,U){var G=new fn(N,U);return G.subscribe.bind(G)}var fn=function(){function N(U,G){var Z=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(function(){U(Z)}).catch(function(Y){Z.error(Y)})}return N.prototype.next=function(U){this.forEachObserver(function(G){G.next(U)})},N.prototype.error=function(U){this.forEachObserver(function(G){G.error(U)}),this.close(U)},N.prototype.complete=function(){this.forEachObserver(function(U){U.complete()}),this.close()},N.prototype.subscribe=function(U,G,Z){var ae,Y=this;if(void 0===U&&void 0===G&&void 0===Z)throw new Error("Missing Observer.");void 0===(ae=function(N,U){if("object"!=typeof N||null===N)return!1;for(var G=0,Z=["next","error","complete"];G<Z.length;G++){var Y=Z[G];if(Y in N&&"function"==typeof N[Y])return!0}return!1}(U)?U:{next:U,error:G,complete:Z}).next&&(ae.next=$n),void 0===ae.error&&(ae.error=$n),void 0===ae.complete&&(ae.complete=$n);var Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?ae.error(Y.finalError):ae.complete()}catch(Je){}}),this.observers.push(ae),Be},N.prototype.unsubscribeOne=function(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},N.prototype.forEachObserver=function(U){if(!this.finalized)for(var G=0;G<this.observers.length;G++)this.sendOne(G,U)},N.prototype.sendOne=function(U,G){var Z=this;this.task.then(function(){if(void 0!==Z.observers&&void 0!==Z.observers[U])try{G(Z.observers[U])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},N.prototype.close=function(U){var G=this;this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(function(){G.observers=void 0,G.onNoObservers=void 0}))},N}();function $n(){}var vs=function(N,U,G,Z){var Y;if(Z<U?Y="at least "+U:Z>G&&(Y=0===G?"none":"no more than "+G),Y)throw new Error(N+" failed: Was called with "+Z+(1===Z?" argument.":" arguments.")+" Expects "+Y+".")};function Xs(N,U){return N+" failed: "+U+" argument "}function cc(N,U,G,Z){if((!Z||G)&&"function"!=typeof G)throw new Error(Xs(N,U)+"must be a valid function.")}function $a(N,U,G,Z){if((!Z||G)&&("object"!=typeof G||null===G))throw new Error(Xs(N,U)+"must be a valid context object.")}var Wa=function(N){for(var U=[],G=0,Z=0;Z<N.length;Z++){var Y=N.charCodeAt(Z);if(Y>=55296&&Y<=56319){var ae=Y-55296;Z++,ct(Z<N.length,"Surrogate pair missing trail surrogate."),Y=65536+(ae<<10)+(N.charCodeAt(Z)-56320)}Y<128?U[G++]=Y:Y<2048?(U[G++]=Y>>6|192,U[G++]=63&Y|128):Y<65536?(U[G++]=Y>>12|224,U[G++]=Y>>6&63|128,U[G++]=63&Y|128):(U[G++]=Y>>18|240,U[G++]=Y>>12&63|128,U[G++]=Y>>6&63|128,U[G++]=63&Y|128)}return U},El=function(N){for(var U=0,G=0;G<N.length;G++){var Z=N.charCodeAt(G);Z<128?U++:Z<2048?U+=2:Z>=55296&&Z<=56319?(U+=4,G++):U+=3}return U};function Fr(N,U,G){void 0===U&&(U=1e3),void 0===G&&(G=2);var Z=U*Math.pow(G,N),Y=Math.round(.5*Z*(Math.random()-.5)*2);return Math.min(144e5,Z+Y)}function _r(N){return N&&N._delegate?N._delegate:N}},2329:(dt,Me,$)=>{"use strict";$.d(Me,{Z:()=>_.Z});var _=$(6232),M="8.10.0";_.Z.registerVersion("firebase",M,"app"),_.Z.SDK_VERSION=M},7574:(dt,Me,$)=>{"use strict";$.d(Me,{y:()=>X});var _=$(7393),M=$(9181),Ce=$(6490),oe=$(6554),De=$(4487);var z=$(2494);let X=(()=>{class te{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const Te=new te;return Te.source=this,Te.operator=Ee,Te}subscribe(Ee,Te,ze){const{operator:qe}=this,Ve=function(te,ue,Ee){if(te){if(te instanceof _.L)return te;if(te[M.b])return te[M.b]()}return te||ue||Ee?new _.L(te,ue,Ee):new _.L(Ce.c)}(Ee,Te,ze);if(Ve.add(qe?qe.call(Ve,this.source):this.source||z.v.useDeprecatedSynchronousErrorHandling&&!Ve.syncErrorThrowable?this._subscribe(Ve):this._trySubscribe(Ve)),z.v.useDeprecatedSynchronousErrorHandling&&Ve.syncErrorThrowable&&(Ve.syncErrorThrowable=!1,Ve.syncErrorThrown))throw Ve.syncErrorValue;return Ve}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Te){z.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=Te),function(te){for(;te;){const{closed:ue,destination:Ee,isStopped:Te}=te;if(ue||Te)return!1;te=Ee&&Ee instanceof _.L?Ee:null}return!0}(Ee)?Ee.error(Te):console.warn(Te)}}forEach(Ee,Te){return new(Te=V(Te))((ze,qe)=>{let Ve;Ve=this.subscribe(nt=>{try{Ee(nt)}catch(Ft){qe(Ft),Ve&&Ve.unsubscribe()}},qe,ze)})}_subscribe(Ee){const{source:Te}=this;return Te&&Te.subscribe(Ee)}[oe.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(te){return 0===te.length?De.y:1===te.length?te[0]:function(Ee){return te.reduce((Te,ze)=>ze(Te),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=V(Ee))((Te,ze)=>{let qe;this.subscribe(Ve=>qe=Ve,Ve=>ze(Ve),()=>Te(qe))})}}return te.create=ue=>new te(ue),te})();function V(te){if(te||(te=z.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(dt,Me,$)=>{"use strict";$.d(Me,{c:()=>M});var _=$(2494),me=$(4449);const M={closed:!0,next(Ce){},error(Ce){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,me.z)(Ce)},complete(){}}},9765:(dt,Me,$)=>{"use strict";$.d(Me,{Yc:()=>De,xQ:()=>ee});var _=$(7574),me=$(7393),M=$(5319),Ce=$(7971),ye=$(8858),oe=$(9181);class De extends me.L{constructor(X){super(X),this.destination=X}}let ee=(()=>{class z extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new De(this)}lift(V){const te=new J(this,this);return te.operator=V,te}next(V){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:te}=this,ue=te.length,Ee=te.slice();for(let Te=0;Te<ue;Te++)Ee[Te].next(V)}}error(V){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:te}=this,ue=te.length,Ee=te.slice();for(let Te=0;Te<ue;Te++)Ee[Te].error(V);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:V}=this,te=V.length,ue=V.slice();for(let Ee=0;Ee<te;Ee++)ue[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new Ce.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new Ce.N;return this.hasError?(V.error(this.thrownError),M.w.EMPTY):this.isStopped?(V.complete(),M.w.EMPTY):(this.observers.push(V),new ye.W(this,V))}asObservable(){const V=new _.y;return V.source=this,V}}return z.create=(X,V)=>new J(X,V),z})();class J extends ee{constructor(X,V){super(),this.destination=X,this.source=V}next(X){const{destination:V}=this;V&&V.next&&V.next(X)}error(X){const{destination:V}=this;V&&V.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:V}=this;return V?this.source.subscribe(X):M.w.EMPTY}}},8858:(dt,Me,$)=>{"use strict";$.d(Me,{W:()=>me});var _=$(5319);class me extends _.w{constructor(Ce,ye){super(),this.subject=Ce,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,ye=Ce.observers;if(this.subject=null,!ye||0===ye.length||Ce.isStopped||Ce.closed)return;const oe=ye.indexOf(this.subscriber);-1!==oe&&ye.splice(oe,1)}}},7393:(dt,Me,$)=>{"use strict";$.d(Me,{L:()=>De});var _=$(9105),me=$(6490),M=$(5319),Ce=$(9181),ye=$(2494),oe=$(4449);class De extends M.w{constructor(z,X,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=me.c;break;case 1:if(!z){this.destination=me.c;break}if("object"==typeof z){z instanceof De?(this.syncErrorThrowable=z.syncErrorThrowable,this.destination=z,z.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,z));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,z,X,V)}}[Ce.b](){return this}static create(z,X,V){const te=new De(z,X,V);return te.syncErrorThrowable=!1,te}next(z){this.isStopped||this._next(z)}error(z){this.isStopped||(this.isStopped=!0,this._error(z))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(z){this.destination.next(z)}_error(z){this.destination.error(z),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:z}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=z,this}}class ee extends De{constructor(z,X,V,te){super(),this._parentSubscriber=z;let ue,Ee=this;(0,_.m)(X)?ue=X:X&&(ue=X.next,V=X.error,te=X.complete,X!==me.c&&(Ee=Object.create(X),(0,_.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=ue,this._error=V,this._complete=te}next(z){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;ye.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,z)&&this.unsubscribe():this.__tryOrUnsub(this._next,z)}}error(z){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:V}=ye.v;if(this._error)V&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,z),this.unsubscribe()):(this.__tryOrUnsub(this._error,z),this.unsubscribe());else if(X.syncErrorThrowable)V?(X.syncErrorValue=z,X.syncErrorThrown=!0):(0,oe.z)(z),this.unsubscribe();else{if(this.unsubscribe(),V)throw z;(0,oe.z)(z)}}}complete(){if(!this.isStopped){const{_parentSubscriber:z}=this;if(this._complete){const X=()=>this._complete.call(this._context);ye.v.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?(this.__tryOrSetError(z,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(z,X){try{z.call(this._context,X)}catch(V){if(this.unsubscribe(),ye.v.useDeprecatedSynchronousErrorHandling)throw V;(0,oe.z)(V)}}__tryOrSetError(z,X,V){if(!ye.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,V)}catch(te){return ye.v.useDeprecatedSynchronousErrorHandling?(z.syncErrorValue=te,z.syncErrorThrown=!0,!0):((0,oe.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:z}=this;this._context=null,this._parentSubscriber=null,z.unsubscribe()}}},5319:(dt,Me,$)=>{"use strict";$.d(Me,{w:()=>oe});var _=$(9796),me=$(1555),M=$(9105);const ye=(()=>{function ee(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((z,X)=>`${X+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return ee.prototype=Object.create(Error.prototype),ee})();class oe{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:z,_ctorUnsubscribe:X,_unsubscribe:V,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,z instanceof oe)z.remove(this);else if(null!==z)for(let ue=0;ue<z.length;++ue)z[ue].remove(this);if((0,M.m)(V)){X&&(this._unsubscribe=void 0);try{V.call(this)}catch(ue){J=ue instanceof ye?De(ue.errors):[ue]}}if((0,_.k)(te)){let ue=-1,Ee=te.length;for(;++ue<Ee;){const Te=te[ue];if((0,me.K)(Te))try{Te.unsubscribe()}catch(ze){J=J||[],ze instanceof ye?J=J.concat(De(ze.errors)):J.push(ze)}}}if(J)throw new ye(J)}add(J){let z=J;if(!J)return oe.EMPTY;switch(typeof J){case"function":z=new oe(J);case"object":if(z===this||z.closed||"function"!=typeof z.unsubscribe)return z;if(this.closed)return z.unsubscribe(),z;if(!(z instanceof oe)){const te=z;z=new oe,z._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:X}=z;if(null===X)z._parentOrParents=this;else if(X instanceof oe){if(X===this)return z;z._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return z;X.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[z]:V.push(z),z}remove(J){const z=this._subscriptions;if(z){const X=z.indexOf(J);-1!==X&&z.splice(X,1)}}}var ee;function De(ee){return ee.reduce((J,z)=>J.concat(z instanceof ye?z.errors:z),[])}oe.EMPTY=((ee=new oe).closed=!0,ee)},2494:(dt,Me,$)=>{"use strict";$.d(Me,{v:()=>me});let _=!1;const me={Promise:void 0,set useDeprecatedSynchronousErrorHandling(M){if(M){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=M},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(dt,Me,$)=>{"use strict";$.d(Me,{IY:()=>Ce,Ds:()=>oe,ft:()=>ee});var _=$(7393),me=$(7574),M=$(7444);class Ce extends _.L{constructor(z){super(),this.parent=z}_next(z){this.parent.notifyNext(z)}_error(z){this.parent.notifyError(z),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends _.L{notifyNext(z){this.destination.next(z)}notifyError(z){this.destination.error(z)}notifyComplete(){this.destination.complete()}}function ee(J,z){if(!z.closed)return J instanceof me.y?J.subscribe(z):(0,M.s)(J)(z)}},2441:(dt,Me,$)=>{"use strict";$.d(Me,{c:()=>ye,N:()=>oe});var _=$(9765),me=$(7574),M=$(5319),Ce=$(1307);class ye extends me.y{constructor(X,V){super(),this.source=X,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new M.w,X.add(this.source.subscribe(new De(this.getSubject(),this))),X.closed&&(this._connection=null,X=M.w.EMPTY)),X}refCount(){return(0,Ce.x)()(this)}}const oe=(()=>{const z=ye.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:z._subscribe},_isComplete:{value:z._isComplete,writable:!0},getSubject:{value:z.getSubject},connect:{value:z.connect},refCount:{value:z.refCount}}})();class De extends _.Yc{constructor(X,V){super(X),this.connectable=V}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const V=X._connection;X._refCount=0,X._subject=null,X._connection=null,V&&V.unsubscribe()}}}},9193:(dt,Me,$)=>{"use strict";$.d(Me,{E:()=>me,c:()=>M});var _=$(7574);const me=new _.y(ye=>ye.complete());function M(ye){return ye?function(ye){return new _.y(oe=>ye.schedule(()=>oe.complete()))}(ye):me}},4402:(dt,Me,$)=>{"use strict";$.d(Me,{D:()=>Ee});var _=$(7574),me=$(7444),M=$(5319),Ce=$(6554),De=$(4087),ee=$(377),X=$(4072),V=$(9489);function Ee(Te,ze){return ze?function(Te,ze){if(null!=Te){if(function(Te){return Te&&"function"==typeof Te[Ce.L]}(Te))return function(Te,ze){return new _.y(qe=>{const Ve=new M.w;return Ve.add(ze.schedule(()=>{const nt=Te[Ce.L]();Ve.add(nt.subscribe({next(Ft){Ve.add(ze.schedule(()=>qe.next(Ft)))},error(Ft){Ve.add(ze.schedule(()=>qe.error(Ft)))},complete(){Ve.add(ze.schedule(()=>qe.complete()))}}))})),Ve})}(Te,ze);if((0,X.t)(Te))return function(Te,ze){return new _.y(qe=>{const Ve=new M.w;return Ve.add(ze.schedule(()=>Te.then(nt=>{Ve.add(ze.schedule(()=>{qe.next(nt),Ve.add(ze.schedule(()=>qe.complete()))}))},nt=>{Ve.add(ze.schedule(()=>qe.error(nt)))}))),Ve})}(Te,ze);if((0,V.z)(Te))return(0,De.r)(Te,ze);if(function(Te){return Te&&"function"==typeof Te[ee.hZ]}(Te)||"string"==typeof Te)return function(Te,ze){if(!Te)throw new Error("Iterable cannot be null");return new _.y(qe=>{const Ve=new M.w;let nt;return Ve.add(()=>{nt&&"function"==typeof nt.return&&nt.return()}),Ve.add(ze.schedule(()=>{nt=Te[ee.hZ](),Ve.add(ze.schedule(function(){if(qe.closed)return;let Ft,Lt;try{const Gn=nt.next();Ft=Gn.value,Lt=Gn.done}catch(Gn){return void qe.error(Gn)}Lt?qe.complete():(qe.next(Ft),this.schedule())}))})),Ve})}(Te,ze)}throw new TypeError((null!==Te&&typeof Te||Te)+" is not observable")}(Te,ze):Te instanceof _.y?Te:new _.y((0,me.s)(Te))}},6693:(dt,Me,$)=>{"use strict";$.d(Me,{n:()=>Ce});var _=$(7574),me=$(5015),M=$(4087);function Ce(ye,oe){return oe?(0,M.r)(ye,oe):new _.y((0,me.V)(ye))}},6682:(dt,Me,$)=>{"use strict";$.d(Me,{T:()=>ye});var _=$(7574),me=$(4869),M=$(3282),Ce=$(6693);function ye(...oe){let De=Number.POSITIVE_INFINITY,ee=null,J=oe[oe.length-1];return(0,me.K)(J)?(ee=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(De=oe.pop())):"number"==typeof J&&(De=oe.pop()),null===ee&&1===oe.length&&oe[0]instanceof _.y?oe[0]:(0,M.J)(De)((0,Ce.n)(oe,ee))}},5917:(dt,Me,$)=>{"use strict";$.d(Me,{of:()=>Ce});var _=$(4869),me=$(6693),M=$(4087);function Ce(...ye){let oe=ye[ye.length-1];return(0,_.K)(oe)?(ye.pop(),(0,M.r)(ye,oe)):(0,me.n)(ye)}},8002:(dt,Me,$)=>{"use strict";$.d(Me,{U:()=>me});var _=$(7393);function me(ye,oe){return function(ee){if("function"!=typeof ye)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new M(ye,oe))}}class M{constructor(oe,De){this.project=oe,this.thisArg=De}call(oe,De){return De.subscribe(new Ce(oe,this.project,this.thisArg))}}class Ce extends _.L{constructor(oe,De,ee){super(oe),this.project=De,this.count=0,this.thisArg=ee||this}_next(oe){let De;try{De=this.project.call(this.thisArg,oe,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(De)}}},3282:(dt,Me,$)=>{"use strict";$.d(Me,{J:()=>M});var _=$(9773),me=$(4487);function M(Ce=Number.POSITIVE_INFINITY){return(0,_.zg)(me.y,Ce)}},9773:(dt,Me,$)=>{"use strict";$.d(Me,{zg:()=>Ce});var _=$(8002),me=$(4402),M=$(5345);function Ce(ee,J,z=Number.POSITIVE_INFINITY){return"function"==typeof J?X=>X.pipe(Ce((V,te)=>(0,me.D)(ee(V,te)).pipe((0,_.U)((ue,Ee)=>J(V,ue,te,Ee))),z)):("number"==typeof J&&(z=J),X=>X.lift(new ye(ee,z)))}class ye{constructor(J,z=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=z}call(J,z){return z.subscribe(new oe(J,this.project,this.concurrent))}}class oe extends M.Ds{constructor(J,z,X=Number.POSITIVE_INFINITY){super(J),this.project=z,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let z;const X=this.index++;try{z=this.project(J,X)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(z)}_innerSub(J){const z=new M.IY(this),X=this.destination;X.add(z);const V=(0,M.ft)(J,z);V!==z&&X.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(dt,Me,$)=>{"use strict";$.d(Me,{ht:()=>X,QV:()=>J});var _=$(7393),me=$(9193),M=$(5917),Ce=$(7574);class ee{constructor(ue,Ee,Te){this.kind=ue,this.value=Ee,this.error=Te,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Ee,Te){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Ee&&Ee(this.error);case"C":return Te&&Te()}}accept(ue,Ee,Te){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Ee,Te)}toObservable(){switch(this.kind){case"N":return(0,M.of)(this.value);case"E":return te=this.error,new Ce.y(Ee=>Ee.error(te));case"C":return(0,me.c)()}var te;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ee("N",ue):ee.undefinedValueNotification}static createError(ue){return new ee("E",void 0,ue)}static createComplete(){return ee.completeNotification}}function J(te,ue=0){return function(Te){return Te.lift(new z(te,ue))}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0);class z{constructor(ue,Ee=0){this.scheduler=ue,this.delay=Ee}call(ue,Ee){return Ee.subscribe(new X(ue,this.scheduler,this.delay))}}class X extends _.L{constructor(ue,Ee,Te=0){super(ue),this.scheduler=Ee,this.delay=Te}static dispatch(ue){const{notification:Ee,destination:Te}=ue;Ee.observe(Te),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(X.dispatch,this.delay,new V(ue,this.destination)))}_next(ue){this.scheduleMessage(ee.createNext(ue))}_error(ue){this.scheduleMessage(ee.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(ee.createComplete()),this.unsubscribe()}}class V{constructor(ue,Ee){this.notification=ue,this.destination=Ee}}},1307:(dt,Me,$)=>{"use strict";$.d(Me,{x:()=>me});var _=$(7393);function me(){return function(oe){return oe.lift(new M(oe))}}class M{constructor(oe){this.connectable=oe}call(oe,De){const{connectable:ee}=this;ee._refCount++;const J=new Ce(oe,ee),z=De.subscribe(J);return J.closed||(J.connection=ee.connect()),z}}class Ce extends _.L{constructor(oe,De){super(oe),this.connectable=De}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const De=oe._refCount;if(De<=0)return void(this.connection=null);if(oe._refCount=De-1,De>1)return void(this.connection=null);const{connection:ee}=this,J=oe._connection;this.connection=null,J&&(!ee||J===ee)&&J.unsubscribe()}}},8819:(dt,Me,$)=>{"use strict";$.d(Me,{B:()=>De});var _=$(2441);var Ce=$(1307),ye=$(9765);function oe(){return new ye.xQ}function De(){return ee=>(0,Ce.x)()(function(ee,J){return function(X){let V;V="function"==typeof ee?ee:function(){return ee};const te=Object.create(X,_.N);return te.source=X,te.subjectFactory=V,te}}(oe)(ee))}},3101:(dt,Me,$)=>{"use strict";$.d(Me,{R:()=>ze});var _=$(7574);let me=1;const M=Promise.resolve(),Ce={};function ye(Ve){return Ve in Ce&&(delete Ce[Ve],!0)}const oe={setImmediate(Ve){const nt=me++;return Ce[nt]=!0,M.then(()=>ye(nt)&&Ve()),nt},clearImmediate(Ve){ye(Ve)}};var ee=$(6465),z=$(6102);const te=new class extends z.v{flush(nt){this.active=!0,this.scheduled=void 0;const{actions:Ft}=this;let Lt,Gn=-1,Fn=Ft.length;nt=nt||Ft.shift();do{if(Lt=nt.execute(nt.state,nt.delay))break}while(++Gn<Fn&&(nt=Ft.shift()));if(this.active=!1,Lt){for(;++Gn<Fn&&(nt=Ft.shift());)nt.unsubscribe();throw Lt}}}(class extends ee.o{constructor(nt,Ft){super(nt,Ft),this.scheduler=nt,this.work=Ft}requestAsyncId(nt,Ft,Lt=0){return null!==Lt&&Lt>0?super.requestAsyncId(nt,Ft,Lt):(nt.actions.push(this),nt.scheduled||(nt.scheduled=oe.setImmediate(nt.flush.bind(nt,null))))}recycleAsyncId(nt,Ft,Lt=0){if(null!==Lt&&Lt>0||null===Lt&&this.delay>0)return super.recycleAsyncId(nt,Ft,Lt);0===nt.actions.length&&(oe.clearImmediate(Ft),nt.scheduled=void 0)}});var ue=$(9796);class Te extends _.y{constructor(nt,Ft=0,Lt=te){var Ve;super(),this.source=nt,this.delayTime=Ft,this.scheduler=Lt,(!(!(0,ue.k)(Ve=Ft)&&Ve-parseFloat(Ve)+1>=0)||Ft<0)&&(this.delayTime=0),(!Lt||"function"!=typeof Lt.schedule)&&(this.scheduler=te)}static create(nt,Ft=0,Lt=te){return new Te(nt,Ft,Lt)}static dispatch(nt){const{source:Ft,subscriber:Lt}=nt;return this.add(Ft.subscribe(Lt))}_subscribe(nt){return this.scheduler.schedule(Te.dispatch,this.delayTime,{source:this.source,subscriber:nt})}}function ze(Ve,nt=0){return function(Lt){return Lt.lift(new qe(Ve,nt))}}class qe{constructor(nt,Ft){this.scheduler=nt,this.delay=Ft}call(nt,Ft){return new Te(Ft,this.delay,this.scheduler).subscribe(nt)}}},3342:(dt,Me,$)=>{"use strict";$.d(Me,{b:()=>Ce});var _=$(7393);function me(){}var M=$(9105);function Ce(De,ee,J){return function(X){return X.lift(new ye(De,ee,J))}}class ye{constructor(ee,J,z){this.nextOrObserver=ee,this.error=J,this.complete=z}call(ee,J){return J.subscribe(new oe(ee,this.nextOrObserver,this.error,this.complete))}}class oe extends _.L{constructor(ee,J,z,X){super(ee),this._tapNext=me,this._tapError=me,this._tapComplete=me,this._tapError=z||me,this._tapComplete=X||me,(0,M.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||me,this._tapError=J.error||me,this._tapComplete=J.complete||me)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(J){return void this.destination.error(J)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(J){return void this.destination.error(J)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4087:(dt,Me,$)=>{"use strict";$.d(Me,{r:()=>M});var _=$(7574),me=$(5319);function M(Ce,ye){return new _.y(oe=>{const De=new me.w;let ee=0;return De.add(ye.schedule(function(){ee!==Ce.length?(oe.next(Ce[ee++]),oe.closed||De.add(this.schedule())):oe.complete()})),De})}},6465:(dt,Me,$)=>{"use strict";$.d(Me,{o:()=>M});var _=$(5319);class me extends _.w{constructor(ye,oe){super()}schedule(ye,oe=0){return this}}class M extends me{constructor(ye,oe){super(ye,oe),this.scheduler=ye,this.work=oe,this.pending=!1}schedule(ye,oe=0){if(this.closed)return this;this.state=ye;const De=this.id,ee=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ee,De,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ee,this.id,oe),this}requestAsyncId(ye,oe,De=0){return setInterval(ye.flush.bind(ye,this),De)}recycleAsyncId(ye,oe,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return oe;clearInterval(oe)}execute(ye,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(ye,oe);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,oe){let ee,De=!1;try{this.work(ye)}catch(J){De=!0,ee=!!J&&J||new Error(J)}if(De)return this.unsubscribe(),ee}_unsubscribe(){const ye=this.id,oe=this.scheduler,De=oe.actions,ee=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&De.splice(ee,1),null!=ye&&(this.id=this.recycleAsyncId(oe,ye,null)),this.delay=null}}},6102:(dt,Me,$)=>{"use strict";$.d(Me,{v:()=>me});let _=(()=>{class M{constructor(ye,oe=M.now){this.SchedulerAction=ye,this.now=oe}schedule(ye,oe=0,De){return new this.SchedulerAction(this,ye).schedule(De,oe)}}return M.now=()=>Date.now(),M})();class me extends _{constructor(Ce,ye=_.now){super(Ce,()=>me.delegate&&me.delegate!==this?me.delegate.now():ye()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,ye=0,oe){return me.delegate&&me.delegate!==this?me.delegate.schedule(Ce,ye,oe):super.schedule(Ce,ye,oe)}flush(Ce){const{actions:ye}=this;if(this.active)return void ye.push(Ce);let oe;this.active=!0;do{if(oe=Ce.execute(Ce.state,Ce.delay))break}while(Ce=ye.shift());if(this.active=!1,oe){for(;Ce=ye.shift();)Ce.unsubscribe();throw oe}}}},3637:(dt,Me,$)=>{"use strict";$.d(Me,{z:()=>M});var _=$(6465);const M=new($(6102).v)(_.o)},7771:(dt,Me,$)=>{"use strict";$.d(Me,{c:()=>oe,N:()=>ye});var _=$(6465),M=$(6102);const ye=new class extends M.v{}(class extends _.o{constructor(ee,J){super(ee,J),this.scheduler=ee,this.work=J}schedule(ee,J=0){return J>0?super.schedule(ee,J):(this.delay=J,this.state=ee,this.scheduler.flush(this),this)}execute(ee,J){return J>0||this.closed?super.execute(ee,J):this._execute(ee,J)}requestAsyncId(ee,J,z=0){return null!==z&&z>0||null===z&&this.delay>0?super.requestAsyncId(ee,J,z):ee.flush(this)}}),oe=ye},377:(dt,Me,$)=>{"use strict";$.d(Me,{hZ:()=>me});const me="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(dt,Me,$)=>{"use strict";$.d(Me,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(dt,Me,$)=>{"use strict";$.d(Me,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(dt,Me,$)=>{"use strict";$.d(Me,{N:()=>me});const me=(()=>{function M(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return M.prototype=Object.create(Error.prototype),M})()},4449:(dt,Me,$)=>{"use strict";function _(me){setTimeout(()=>{throw me},0)}$.d(Me,{z:()=>_})},4487:(dt,Me,$)=>{"use strict";function _(me){return me}$.d(Me,{y:()=>_})},9796:(dt,Me,$)=>{"use strict";$.d(Me,{k:()=>_});const _=Array.isArray||(me=>me&&"number"==typeof me.length)},9489:(dt,Me,$)=>{"use strict";$.d(Me,{z:()=>_});const _=me=>me&&"number"==typeof me.length&&"function"!=typeof me},9105:(dt,Me,$)=>{"use strict";function _(me){return"function"==typeof me}$.d(Me,{m:()=>_})},1555:(dt,Me,$)=>{"use strict";function _(me){return null!==me&&"object"==typeof me}$.d(Me,{K:()=>_})},4072:(dt,Me,$)=>{"use strict";function _(me){return!!me&&"function"!=typeof me.subscribe&&"function"==typeof me.then}$.d(Me,{t:()=>_})},4869:(dt,Me,$)=>{"use strict";function _(me){return me&&"function"==typeof me.schedule}$.d(Me,{K:()=>_})},7444:(dt,Me,$)=>{"use strict";$.d(Me,{s:()=>X});var _=$(5015),me=$(4449),Ce=$(377),oe=$(6554),ee=$(9489),J=$(4072),z=$(1555);const X=V=>{if(V&&"function"==typeof V[oe.L])return(V=>te=>{const ue=V[oe.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(te)})(V);if((0,ee.z)(V))return(0,_.V)(V);if((0,J.t)(V))return(V=>te=>(V.then(ue=>{te.closed||(te.next(ue),te.complete())},ue=>te.error(ue)).then(null,me.z),te))(V);if(V&&"function"==typeof V[Ce.hZ])return(V=>te=>{const ue=V[Ce.hZ]();for(;;){let Ee;try{Ee=ue.next()}catch(Te){return te.error(Te),te}if(Ee.done){te.complete();break}if(te.next(Ee.value),te.closed)break}return"function"==typeof ue.return&&te.add(()=>{ue.return&&ue.return()}),te})(V);{const ue=`You provided ${(0,z.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(dt,Me,$)=>{"use strict";$.d(Me,{V:()=>_});const _=me=>M=>{for(let Ce=0,ye=me.length;Ce<ye&&!M.closed;Ce++)M.next(me[Ce]);M.complete()}},9028:function(dt){dt.exports=function(Me){var $={};function _(me){if($[me])return $[me].exports;var M=$[me]={exports:{},id:me,loaded:!1};return Me[me].call(M.exports,M,M.exports,_),M.loaded=!0,M.exports}return _.m=Me,_.c=$,_.p="",_(0)}([function(Me,$,_){"use strict";Object.defineProperty($,"__esModule",{value:!0});var me=function(){function De(ee,J){for(var z=0;z<J.length;z++){var X=J[z];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,X.key,X)}}return function(ee,J,z){return J&&De(ee.prototype,J),z&&De(ee,z),ee}}();var Ce=_(1),ye=_(3),oe=function(){function De(ee,J){(function(De,ee){if(!(De instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,De),Ce.initializer.load(this,J,ee),this.begin()}return me(De,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var J=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,J&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var J=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){J.currentElContent&&0!==J.currentElContent.length?J.backspace(J.currentElContent,J.currentElContent.length):J.typewrite(J.strings[J.sequence[J.arrayPos]],J.strPos)},this.startDelay)}},{key:"typewrite",value:function(J,z){var X=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var V=this.humanizer(this.typeSpeed),te=1;!0!==this.pause.status?this.timeout=setTimeout(function(){z=ye.htmlParser.typeHtmlChars(J,z,X);var ue=0,Ee=J.substr(z);if("^"===Ee.charAt(0)&&/^\^\d+/.test(Ee)){var Te=1;Te+=(Ee=/\d+/.exec(Ee)[0]).length,ue=parseInt(Ee),X.temporaryPause=!0,X.options.onTypingPaused(X.arrayPos,X),J=J.substring(0,z)+J.substring(z+Te),X.toggleBlinking(!0)}if("`"===Ee.charAt(0)){for(;"`"!==J.substr(z+te).charAt(0)&&(te++,!(z+te>J.length)););var ze=J.substring(0,z),qe=J.substring(ze.length+1,z+te),Ve=J.substring(z+te+1);J=ze+qe+Ve,te--}X.timeout=setTimeout(function(){X.toggleBlinking(!1),z>=J.length?X.doneTyping(J,z):X.keepTyping(J,z,te),X.temporaryPause&&(X.temporaryPause=!1,X.options.onTypingResumed(X.arrayPos,X))},ue)},V):this.setPauseStatus(J,z,!0)}},{key:"keepTyping",value:function(J,z,X){0===z&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var V=J.substr(0,z+=X);this.replaceText(V),this.typewrite(J,z)}},{key:"doneTyping",value:function(J,z){var X=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),(this.arrayPos!==this.strings.length-1||(this.complete(),!1!==this.loop&&this.curLoop!==this.loopCount))&&(this.timeout=setTimeout(function(){X.backspace(J,z)},this.backDelay))}},{key:"backspace",value:function(J,z){var X=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var V=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){z=ye.htmlParser.backSpaceHtmlChars(J,z,X);var te=J.substr(0,z);if(X.replaceText(te),X.smartBackspace){var ue=X.strings[X.arrayPos+1];X.stopNum=ue&&te===ue.substr(0,z)?z:0}z>X.stopNum?(z--,X.backspace(J,z)):z<=X.stopNum&&(X.arrayPos++,X.arrayPos===X.strings.length?(X.arrayPos=0,X.options.onLastStringBackspaced(),X.shuffleStringsIfNeeded(),X.begin()):X.typewrite(X.strings[X.sequence[X.arrayPos]],z))},V)}else this.setPauseStatus(J,z,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(J,z,X){this.pause.typewrite=X,this.pause.curString=J,this.pause.curStrPos=z}},{key:"toggleBlinking",value:function(J){!this.cursor||this.pause.status||this.cursorBlinking!==J&&(this.cursorBlinking=J,J?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(J){return Math.round(Math.random()*J/2)+J}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var J=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){J.arrayPos++,J.replaceText(""),J.strings.length>J.arrayPos?J.typewrite(J.strings[J.sequence[J.arrayPos]],0):(J.typewrite(J.strings[0],0),J.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(J){this.attr?this.el.setAttribute(this.attr,J):this.isInput?this.el.value=J:"html"===this.contentType?this.el.innerHTML=J:this.el.textContent=J}},{key:"bindFocusEvents",value:function(){var J=this;!this.isInput||(this.el.addEventListener("focus",function(z){J.stop()}),this.el.addEventListener("blur",function(z){J.el.value&&0!==J.el.value.length||J.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),De}();$.default=oe,Me.exports=$.default},function(Me,$,_){"use strict";Object.defineProperty($,"__esModule",{value:!0});var me=Object.assign||function(z){for(var X=1;X<arguments.length;X++){var V=arguments[X];for(var te in V)Object.prototype.hasOwnProperty.call(V,te)&&(z[te]=V[te])}return z},M=function(){function z(X,V){for(var te=0;te<V.length;te++){var ue=V[te];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(X,ue.key,ue)}}return function(X,V,te){return V&&z(X.prototype,V),te&&z(X,te),X}}();var z,De=(z=_(2))&&z.__esModule?z:{default:z},ee=function(){function z(){!function(z,X){if(!(z instanceof X))throw new TypeError("Cannot call a class as a function")}(this,z)}return M(z,[{key:"load",value:function(V,te,ue){if(V.el="string"==typeof ue?document.querySelector(ue):ue,V.options=me({},De.default,te),V.isInput="input"===V.el.tagName.toLowerCase(),V.attr=V.options.attr,V.bindInputFocusEvents=V.options.bindInputFocusEvents,V.showCursor=!V.isInput&&V.options.showCursor,V.cursorChar=V.options.cursorChar,V.cursorBlinking=!0,V.elContent=V.attr?V.el.getAttribute(V.attr):V.el.textContent,V.contentType=V.options.contentType,V.typeSpeed=V.options.typeSpeed,V.startDelay=V.options.startDelay,V.backSpeed=V.options.backSpeed,V.smartBackspace=V.options.smartBackspace,V.backDelay=V.options.backDelay,V.fadeOut=V.options.fadeOut,V.fadeOutClass=V.options.fadeOutClass,V.fadeOutDelay=V.options.fadeOutDelay,V.isPaused=!1,V.strings=V.options.strings.map(function(Ve){return Ve.trim()}),V.stringsElement="string"==typeof V.options.stringsElement?document.querySelector(V.options.stringsElement):V.options.stringsElement,V.stringsElement){V.strings=[],V.stringsElement.style.display="none";var Ee=Array.prototype.slice.apply(V.stringsElement.children),Te=Ee.length;if(Te)for(var ze=0;ze<Te;ze+=1)V.strings.push(Ee[ze].innerHTML.trim())}for(var ze in V.strPos=0,V.arrayPos=0,V.stopNum=0,V.loop=V.options.loop,V.loopCount=V.options.loopCount,V.curLoop=0,V.shuffle=V.options.shuffle,V.sequence=[],V.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},V.typingComplete=!1,V.strings)V.sequence[ze]=ze;V.currentElContent=this.getCurrentElContent(V),V.autoInsertCss=V.options.autoInsertCss,this.appendAnimationCss(V)}},{key:"getCurrentElContent",value:function(V){return V.attr?V.el.getAttribute(V.attr):V.isInput?V.el.value:"html"===V.contentType?V.el.innerHTML:V.el.textContent}},{key:"appendAnimationCss",value:function(V){var te="data-typed-js-css";if(V.autoInsertCss&&(V.showCursor||V.fadeOut)&&!document.querySelector("["+te+"]")){var ue=document.createElement("style");ue.type="text/css",ue.setAttribute(te,!0);var Ee="";V.showCursor&&(Ee+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),V.fadeOut&&(Ee+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==ue.length&&(ue.innerHTML=Ee,document.body.appendChild(ue))}}}]),z}();$.default=ee;var J=new ee;$.initializer=J},function(Me,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(M){},onComplete:function(M){},preStringTyped:function(M,Ce){},onStringTyped:function(M,Ce){},onLastStringBackspaced:function(M){},onTypingPaused:function(M,Ce){},onTypingResumed:function(M,Ce){},onReset:function(M){},onStop:function(M,Ce){},onStart:function(M,Ce){},onDestroy:function(M){}},Me.exports=$.default},function(Me,$){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function ye(oe,De){for(var ee=0;ee<De.length;ee++){var J=De[ee];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(oe,J.key,J)}}return function(oe,De,ee){return De&&ye(oe.prototype,De),ee&&ye(oe,ee),oe}}();var M=function(){function ye(){!function(ye,oe){if(!(ye instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,ye)}return _(ye,[{key:"typeHtmlChars",value:function(De,ee,J){if("html"!==J.contentType)return ee;var z=De.substr(ee).charAt(0);if("<"===z||"&"===z){var X;for(X="<"===z?">":";";De.substr(ee+1).charAt(0)!==X&&!(1+ ++ee>De.length););ee++}return ee}},{key:"backSpaceHtmlChars",value:function(De,ee,J){if("html"!==J.contentType)return ee;var z=De.substr(ee).charAt(0);if(">"===z||";"===z){var X;for(X=">"===z?"<":"&";De.substr(ee-1).charAt(0)!==X&&!(--ee<0););ee--}return ee}}]),ye}();$.default=M;var Ce=new M;$.htmlParser=Ce}])},9113:(dt,Me,$)=>{"use strict";var _=$(7716);let me=null;function M(){return me}const De=new _.OlP("DocumentToken");let ee=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,_.Yz7)({factory:J,token:t,providedIn:"platform"}),t})();function J(){return(0,_.LFG)(X)}const z=new _.OlP("Location Initialized");let X=(()=>{class t extends ee{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(i){const a=M().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){const a=M().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,a,c){V()?this._history.pushState(i,a,c):this.location.hash=c}replaceState(i,a,c){V()?this._history.replaceState(i,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De))},t.\u0275prov=(0,_.Yz7)({factory:te,token:t,providedIn:"platform"}),t})();function V(){return!!window.history.pushState}function te(){return new X((0,_.LFG)(De))}function ue(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function Ee(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function Te(t){return t&&"?"!==t[0]?"?"+t:t}let ze=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,_.Yz7)({factory:qe,token:t,providedIn:"root"}),t})();function qe(t){const e=(0,_.LFG)(De).location;return new nt((0,_.LFG)(ee),e&&e.origin||"")}const Ve=new _.OlP("appBaseHref");let nt=(()=>{class t extends ze{constructor(i,a){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ue(this._baseHref,i)}path(i=!1){const a=this._platformLocation.pathname+Te(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,f){const y=this.prepareExternalUrl(c+Te(f));this._platformLocation.pushState(i,a,y)}replaceState(i,a,c,f){const y=this.prepareExternalUrl(c+Te(f));this._platformLocation.replaceState(i,a,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ee),_.LFG(Ve,8))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Ft=(()=>{class t extends ze{constructor(i,a){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(i){const a=ue(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,c,f){let y=this.prepareExternalUrl(c+Te(f));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(i,a,y)}replaceState(i,a,c,f){let y=this.prepareExternalUrl(c+Te(f));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(i,a,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ee),_.LFG(Ve,8))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Lt=(()=>{class t{constructor(i,a){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=Ee(cr(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+Te(a))}normalize(i){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,cr(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._platformStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Te(a)),c)}replaceState(i,a="",c=null){this._platformStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Te(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ze),_.LFG(ee))},t.normalizeQueryParams=Te,t.joinWithSlash=ue,t.stripTrailingSlash=Ee,t.\u0275prov=(0,_.Yz7)({factory:Gn,token:t,providedIn:"root"}),t})();function Gn(){return new Lt((0,_.LFG)(ze),(0,_.LFG)(ee))}function cr(t){return t.replace(/\/index.html$/,"")}var ct=(()=>((ct=ct||{})[ct.Zero=0]="Zero",ct[ct.One=1]="One",ct[ct.Two=2]="Two",ct[ct.Few=3]="Few",ct[ct.Many=4]="Many",ct[ct.Other=5]="Other",ct))();const Un=_.kL8;class yn{}let Lr=(()=>{class t extends yn{constructor(i){super(),this.locale=i}getPluralCategory(i,a){switch(Un(a||this.locale)(i)){case ct.Zero:return"zero";case ct.One:return"one";case ct.Two:return"two";case ct.Few:return"few";case ct.Many:return"many";default:return"other"}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.soG))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function br(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const a=i.indexOf("="),[c,f]=-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)];if(c.trim()===e)return decodeURIComponent(f)}return null}class eo{constructor(e,i,a,c){this.$implicit=e,this.ngForOf=i,this.index=a,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dn=(()=>{class t{constructor(i,a,c){this._viewContainer=i,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const a=[];i.forEachOperation((c,f,y)=>{if(null==c.previousIndex){const b=this._viewContainer.createEmbeddedView(this._template,new eo(null,this._ngForOf,-1,-1),null===y?void 0:y),D=new Qa(c,b);a.push(D)}else if(null==y)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const b=this._viewContainer.get(f);this._viewContainer.move(b,y);const D=new Qa(c,b);a.push(D)}});for(let c=0;c<a.length;c++)this._perViewChange(a[c].view,a[c].record);for(let c=0,f=this._viewContainer.length;c<f;c++){const y=this._viewContainer.get(c);y.context.index=c,y.context.count=f,y.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,a){i.context.$implicit=a.item}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},t.\u0275dir=_.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Qa{constructor(e,i){this.record=e,this.view=i}}let Za=(()=>{class t{constructor(i,a){this._viewContainer=i,this._context=new Md,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Ya("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Ya("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(_.s_b),_.Y36(_.Rgc))},t.\u0275dir=_.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Md{constructor(){this.$implicit=null,this.ngIf=null}}function Ya(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,_.AaK)(e)}'.`)}let kd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[{provide:yn,useClass:Lr}]}),t})();function Sl(t){return"browser"===t}function Fd(t){return"server"===t}let Ud=(()=>{class t{}return t.\u0275prov=(0,_.Yz7)({token:t,providedIn:"root",factory:()=>new jd((0,_.LFG)(De),window)}),t})();class jd{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const a=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const f=c.shadowRoot;if(f){const y=f.getElementById(e)||f.querySelector(`[name="${e}"]`);if(y)return y}c=a.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),a=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],c-f[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Co(this.window.history)||Co(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Co(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Al{}class ro extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new ro,me||(me=t)}onAndCancel(e,i,a){return e.addEventListener(i,a,!1),()=>{e.removeEventListener(i,a,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=(Wo=Wo||document.querySelector("base"),Wo?Wo.getAttribute("href"):null);return null==i?null:function(t){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",t);const e=Pn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){Wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return br(document.cookie,e)}}let Pn,Wo=null;const mv=new _.OlP("TRANSITION_ID"),Yr=[{provide:_.ip1,useFactory:function(t,e,i){return()=>{i.get(_.CZH).donePromise.then(()=>{const a=M(),c=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let f=0;f<c.length;f++)a.remove(c[f])})}},deps:[mv,De,_.zs3],multi:!0}];class Vd{static init(){(0,_.VLi)(new Vd)}addToWindow(e){_.dqk.getAngularTestability=(a,c=!0)=>{const f=e.findTestabilityInTree(a,c);if(null==f)throw new Error("Could not find testability for element.");return f},_.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(a=>{const c=_.dqk.getAllAngularTestabilities();let f=c.length,y=!1;const b=function(D){y=y||D,f--,0==f&&a(y)};c.forEach(function(D){D.whenStable(b)})})}findTestabilityInTree(e,i,a){if(null==i)return null;const c=e.getTestability(i);return null!=c?c:a?M().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let Ol=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const Ko=new _.OlP("EventManagerPlugins");let ve=(()=>{class t{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}addGlobalEventListener(i,a,c){return this._findPluginFor(a).addGlobalEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){const a=this._eventNameToPlugin.get(i);if(a)return a;const c=this._plugins;for(let f=0;f<c.length;f++){const y=c[f];if(y.supports(i))return this._eventNameToPlugin.set(i,y),y}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Ko),_.LFG(_.R0b))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();class Jt{constructor(e){this._doc=e}addGlobalEventListener(e,i,a){const c=M().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,a)}}let ru=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(i){const a=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Rn=(()=>{class t extends ru{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,a,c){i.forEach(f=>{const y=this._doc.createElement("style");y.textContent=f,c.push(a.appendChild(y))})}addHost(i){const a=[];this._addStylesToHost(this._stylesSet,i,a),this._hostNodes.set(i,a)}removeHost(i){const a=this._hostNodes.get(i);a&&a.forEach(En),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(i,c,a)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(En))}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function En(t){M().remove(t)}const Qo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pi=/%COMP%/g;function tr(t,e,i){for(let a=0;a<e.length;a++){let c=e[a];Array.isArray(c)?tr(t,c,i):(c=c.replace(Pi,t),i.push(c))}return i}function Ri(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gi=(()=>{class t{constructor(i,a,c){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ur(i)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;switch(a.encapsulation){case _.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new ug(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(i),c}case 1:case _.ifc.ShadowDom:return new qd(this.eventManager,this.sharedStylesHost,i,a);default:if(!this.rendererByCompId.has(a.id)){const c=tr(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ve),_.LFG(Rn),_.LFG(_.AFp))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();class Ur{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,i){return i?document.createElementNS(Qo[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,a){e&&e.insertBefore(i,a)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error(`The selector "${e}" did not match any elements`);return i||(a.textContent=""),a}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,a,c){if(c){i=c+":"+i;const f=Qo[c];f?e.setAttributeNS(f,i,a):e.setAttribute(i,a)}else e.setAttribute(i,a)}removeAttribute(e,i,a){if(a){const c=Qo[a];c?e.removeAttributeNS(c,i):e.removeAttribute(`${a}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,a,c){c&(_.JOm.DashCase|_.JOm.Important)?e.style.setProperty(i,a,c&_.JOm.Important?"important":""):e.style[i]=a}removeStyle(e,i,a){a&_.JOm.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,a){e[i]=a}setValue(e,i){e.nodeValue=i}listen(e,i,a){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,Ri(a)):this.eventManager.addEventListener(e,i,Ri(a))}}class ug extends Ur{constructor(e,i,a,c){super(e),this.component=a;const f=tr(c+"-"+a.id,a.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Pi,c+"-"+a.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Pi,t)}(c+"-"+a.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const a=super.createElement(e,i);return super.setAttribute(a,this.contentAttr,""),a}}class qd extends Ur{constructor(e,i,a,c){super(e),this.sharedStylesHost=i,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=tr(c.id,c.styles,[]);for(let y=0;y<f.length;y++){const b=document.createElement("style");b.textContent=f[y],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,a){return super.insertBefore(this.nodeOrShadowRoot(e),i,a)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kl=(()=>{class t extends Jt{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const ou=["alt","control","meta","shift"],wv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hg={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pg=(()=>{class t extends Jt{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,a,c){const f=t.parseEventName(a),y=t.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(i,f.domEventName,y))}static parseEventName(i){const a=i.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const f=t._normalizeKey(a.pop());let y="";if(ou.forEach(D=>{const S=a.indexOf(D);S>-1&&(a.splice(S,1),y+=D+".")}),y+=f,0!=a.length||0===f.length)return null;const b={};return b.domEventName=c,b.fullKey=y,b}static getEventFullKey(i){let a="",c=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nr.hasOwnProperty(e)&&(e=nr[e]))}return wv[e]||e}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),ou.forEach(f=>{f!=c&&hg[f](i)&&(a+=f+".")}),a+=c,a}static eventCallback(i,a,c){return f=>{t.getEventFullKey(f)===i&&c.runGuarded(()=>a(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const Ni=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function(){ro.makeCurrent(),Vd.init()},multi:!0},{provide:De,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),Qd=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:Ko,useClass:kl,multi:!0,deps:[De,_.R0b,_.Lbi]},{provide:Ko,useClass:pg,multi:!0,deps:[De]},[],{provide:gi,useClass:gi,deps:[ve,Rn,_.AFp]},{provide:_.FYo,useExisting:gi},{provide:ru,useExisting:Rn},{provide:Rn,useClass:Rn,deps:[De]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:ve,useClass:ve,deps:[Ko,_.R0b]},{provide:Al,useClass:Ol,deps:[]},[]];let Cv=(()=>{class t{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:t,providers:[{provide:_.AFp,useValue:i.appId},{provide:mv,useExisting:_.AFp},Yr]}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(t,12))},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:Qd,imports:[kd,_.hGG]}),t})();function aa(){return new ua((0,_.LFG)(De))}let ua=(()=>{class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De))},t.\u0275prov=(0,_.Yz7)({factory:aa,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var ht=$(5917),dr=$(7574),rr=$(9773);function lu(t,e){return(0,rr.zg)(t,e,1)}var Vr=$(7393);function yi(t,e){return function(a){return a.lift(new gg(t,e))}}class gg{constructor(e,i){this.predicate=e,this.thisArg=i}call(e,i){return i.subscribe(new mg(e,this.predicate,this.thisArg))}}class mg extends Vr.L{constructor(e,i,a){super(e),this.predicate=i,this.thisArg=a,this.count=0}_next(e){let i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(a){return void this.destination.error(a)}i&&this.destination.next(e)}}var Ct=$(8002);class Zd{}class fu{}class vi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(i=>{const a=i.indexOf(":");if(a>0){const c=i.slice(0,a),f=c.toLowerCase(),y=i.slice(a+1).trim();this.maybeSetNormalizedName(c,f),this.headers.has(f)?this.headers.get(f).push(y):this.headers.set(f,[y])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(i=>{let a=e[i];const c=i.toLowerCase();"string"==typeof a&&(a=[a]),a.length>0&&(this.headers.set(c,a),this.maybeSetNormalizedName(i,c))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof vi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){const i=new vi;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof vi?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){const i=e.name.toLowerCase();switch(e.op){case"a":case"s":let a=e.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(e.name,i);const c=("a"===e.op?this.headers.get(i):void 0)||[];c.push(...a),this.headers.set(i,c);break;case"d":const f=e.value;if(f){let y=this.headers.get(i);if(!y)return;y=y.filter(b=>-1===f.indexOf(b)),0===y.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,y)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}}class Iv{encodeKey(e){return _g(e)}encodeValue(e){return _g(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vg=/%(\d[a-f0-9])/gi,du={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _g(t){return encodeURIComponent(t).replace(vg,(e,i)=>{var a;return null!==(a=du[i])&&void 0!==a?a:e})}function ga(t){return`${t}`}class Fi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Iv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(c=>{const f=c.indexOf("="),[y,b]=-1==f?[e.decodeKey(c),""]:[e.decodeKey(c.slice(0,f)),e.decodeValue(c.slice(f+1))],D=i.get(y)||[];D.push(b),i.set(y,D)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{const a=e.fromObject[i];this.map.set(i,Array.isArray(a)?a:[a])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){const i=[];return Object.keys(e).forEach(a=>{const c=e[a];Array.isArray(c)?c.forEach(f=>{i.push({param:a,value:f,op:"a"})}):i.push({param:a,value:c,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const i=this.encoder.encodeKey(e);return this.map.get(e).map(a=>i+"="+this.encoder.encodeValue(a)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const i=new Fi({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const i=("a"===e.op?this.map.get(e.param):void 0)||[];i.push(ga(e.value)),this.map.set(e.param,i);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let a=this.map.get(e.param)||[];const c=a.indexOf(ga(e.value));-1!==c&&a.splice(c,1),a.length>0?this.map.set(e.param,a):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Yo{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function ws(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function _c(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Jo(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Gl{constructor(e,i,a,c){let f;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==a?a:null,f=c):f=a,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new vi),this.context||(this.context=new Yo),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=i;else{const b=i.indexOf("?");this.urlWithParams=i+(-1===b?"?":b<i.length-1?"&":"")+y}}else this.params=new Fi,this.urlWithParams=i}serializeBody(){return null===this.body?null:ws(this.body)||_c(this.body)||Jo(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Fi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jo(this.body)?null:_c(this.body)?this.body.type||null:ws(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var i;const a=e.method||this.method,c=e.url||this.url,f=e.responseType||this.responseType,y=void 0!==e.body?e.body:this.body,b=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,D=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let S=e.headers||this.headers,x=e.params||this.params;const R=null!==(i=e.context)&&void 0!==i?i:this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((L,q)=>L.set(q,e.setHeaders[q]),S)),e.setParams&&(x=Object.keys(e.setParams).reduce((L,q)=>L.set(q,e.setParams[q]),x)),new Gl(a,c,y,{params:x,headers:S,context:R,reportProgress:D,responseType:f,withCredentials:b})}}var Wn=(()=>((Wn=Wn||{})[Wn.Sent=0]="Sent",Wn[Wn.UploadProgress=1]="UploadProgress",Wn[Wn.ResponseHeader=2]="ResponseHeader",Wn[Wn.DownloadProgress=3]="DownloadProgress",Wn[Wn.Response=4]="Response",Wn[Wn.User=5]="User",Wn))();class ql{constructor(e,i=200,a="OK"){this.headers=e.headers||new vi,this.status=void 0!==e.status?e.status:i,this.statusText=e.statusText||a,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Yd extends ql{constructor(e={}){super(e),this.type=Wn.ResponseHeader}clone(e={}){return new Yd({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Cn extends ql{constructor(e={}){super(e),this.type=Wn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Cn({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bg extends ql{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $l(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Jd=(()=>{class t{constructor(i){this.handler=i}request(i,a,c={}){let f;if(i instanceof Gl)f=i;else{let D,S;D=c.headers instanceof vi?c.headers:new vi(c.headers),c.params&&(S=c.params instanceof Fi?c.params:new Fi({fromObject:c.params})),f=new Gl(i,a,void 0!==c.body?c.body:null,{headers:D,context:c.context,params:S,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const y=(0,ht.of)(f).pipe(lu(D=>this.handler.handle(D)));if(i instanceof Gl||"events"===c.observe)return y;const b=y.pipe(yi(D=>D instanceof Cn));switch(c.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return b.pipe((0,Ct.U)(D=>{if(null!==D.body&&!(D.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return D.body}));case"blob":return b.pipe((0,Ct.U)(D=>{if(null!==D.body&&!(D.body instanceof Blob))throw new Error("Response is not a Blob.");return D.body}));case"text":return b.pipe((0,Ct.U)(D=>{if(null!==D.body&&"string"!=typeof D.body)throw new Error("Response is not a string.");return D.body}));case"json":default:return b.pipe((0,Ct.U)(D=>D.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(i,a={}){return this.request("DELETE",i,a)}get(i,a={}){return this.request("GET",i,a)}head(i,a={}){return this.request("HEAD",i,a)}jsonp(i,a){return this.request("JSONP",i,{params:(new Fi).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,a={}){return this.request("OPTIONS",i,a)}patch(i,a,c={}){return this.request("PATCH",i,$l(c,a))}post(i,a,c={}){return this.request("POST",i,$l(c,a))}put(i,a,c={}){return this.request("PUT",i,$l(c,a))}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Zd))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();class Wl{constructor(e,i){this.next=e,this.interceptor=i}handle(e){return this.interceptor.intercept(e,this.next)}}const Xd=new _.OlP("HTTP_INTERCEPTORS");let Tv=(()=>{class t{intercept(i,a){return a.handle(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const ir=/^\)\]\}',?\n/;let bc=(()=>{class t{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dr.y(a=>{const c=this.xhrFactory.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((q,K)=>c.setRequestHeader(q,K.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const q=i.detectContentTypeHeader();null!==q&&c.setRequestHeader("Content-Type",q)}if(i.responseType){const q=i.responseType.toLowerCase();c.responseType="json"!==q?q:"text"}const f=i.serializeBody();let y=null;const b=()=>{if(null!==y)return y;const q=1223===c.status?204:c.status,K=c.statusText||"OK",ie=new vi(c.getAllResponseHeaders()),Ie=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||i.url;return y=new Yd({headers:ie,status:q,statusText:K,url:Ie}),y},D=()=>{let{headers:q,status:K,statusText:ie,url:Ie}=b(),Ae=null;204!==K&&(Ae=void 0===c.response?c.responseText:c.response),0===K&&(K=Ae?200:0);let He=K>=200&&K<300;if("json"===i.responseType&&"string"==typeof Ae){const Le=Ae;Ae=Ae.replace(ir,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(gt){Ae=Le,He&&(He=!1,Ae={error:gt,text:Ae})}}He?(a.next(new Cn({body:Ae,headers:q,status:K,statusText:ie,url:Ie||void 0})),a.complete()):a.error(new bg({error:Ae,headers:q,status:K,statusText:ie,url:Ie||void 0}))},S=q=>{const{url:K}=b(),ie=new bg({error:q,status:c.status||0,statusText:c.statusText||"Unknown Error",url:K||void 0});a.error(ie)};let x=!1;const R=q=>{x||(a.next(b()),x=!0);let K={type:Wn.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(K.total=q.total),"text"===i.responseType&&!!c.responseText&&(K.partialText=c.responseText),a.next(K)},L=q=>{let K={type:Wn.UploadProgress,loaded:q.loaded};q.lengthComputable&&(K.total=q.total),a.next(K)};return c.addEventListener("load",D),c.addEventListener("error",S),c.addEventListener("timeout",S),c.addEventListener("abort",S),i.reportProgress&&(c.addEventListener("progress",R),null!==f&&c.upload&&c.upload.addEventListener("progress",L)),c.send(f),a.next({type:Wn.Sent}),()=>{c.removeEventListener("error",S),c.removeEventListener("abort",S),c.removeEventListener("load",D),c.removeEventListener("timeout",S),i.reportProgress&&(c.removeEventListener("progress",R),null!==f&&c.upload&&c.upload.removeEventListener("progress",L)),c.readyState!==c.DONE&&c.abort()}})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Al))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const eh=new _.OlP("XSRF_COOKIE_NAME"),th=new _.OlP("XSRF_HEADER_NAME");class Xr{}let so=(()=>{class t{constructor(i,a,c){this.doc=i,this.platform=a,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=br(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(De),_.LFG(_.Lbi),_.LFG(eh))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),gu=(()=>{class t{constructor(i,a){this.tokenService=i,this.headerName=a}intercept(i,a){const c=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||c.startsWith("http://")||c.startsWith("https://"))return a.handle(i);const f=this.tokenService.getToken();return null!==f&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,f)})),a.handle(i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Xr),_.LFG(th))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Es=(()=>{class t{constructor(i,a){this.backend=i,this.injector=a,this.chain=null}handle(i){if(null===this.chain){const a=this.injector.get(Xd,[]);this.chain=a.reduceRight((c,f)=>new Wl(c,f),this.backend)}return this.chain.handle(i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(fu),_.LFG(_.zs3))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Av=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:gu,useClass:Tv}]}}static withOptions(i={}){return{ngModule:t,providers:[i.cookieName?{provide:eh,useValue:i.cookieName}:[],i.headerName?{provide:th,useValue:i.headerName}:[]]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[gu,{provide:Xd,useExisting:gu,multi:!0},{provide:Xr,useClass:so},{provide:eh,useValue:"XSRF-TOKEN"},{provide:th,useValue:"X-XSRF-TOKEN"}]}),t})(),Ov=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[Jd,{provide:Zd,useClass:Es},bc,{provide:fu,useExisting:bc}],imports:[[Av.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Bn=$(4402),zn=$(9765),Ql=$(7971);class Er extends zn.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return i&&!i.closed&&e.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ql.N;return this._value}next(e){super.next(this._value=e)}}var Cs=$(4869),nh=$(9796);class rh extends Vr.L{notifyNext(e,i,a,c,f){this.destination.next(i)}notifyError(e,i){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ds extends Vr.L{constructor(e,i,a){super(),this.parent=e,this.outerValue=i,this.outerIndex=a,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Zl=$(7444);function wc(t,e,i,a,c=new Ds(t,i,a)){if(!c.closed)return e instanceof dr.y?e.subscribe(c):(0,Zl.s)(e)(c)}var Pv=$(6693);const mu={};class Ec{constructor(e){this.resultSelector=e}call(e,i){return i.subscribe(new Eg(e,this.resultSelector))}}class Eg extends rh{constructor(e,i){super(e),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(mu),this.observables.push(e)}_complete(){const e=this.observables,i=e.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let a=0;a<i;a++)this.add(wc(this,e[a],void 0,a))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,i,a){const c=this.values,y=this.toRespond?c[a]===mu?--this.toRespond:this.toRespond:0;c[a]=i,0===y&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(e){let i;try{i=this.resultSelector.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(i)}}const _i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var bi=$(3282);function oh(...t){return(0,bi.J)(1)((0,ht.of)(...t))}var Xo=$(9193);function yu(t){return new dr.y(e=>{let i;try{i=t()}catch(c){return void e.error(c)}return(i?(0,Bn.D)(i):(0,Xo.c)()).subscribe(e)})}var Y0=$(2441),Is=$(5345);function Dn(t,e){return"function"==typeof e?i=>i.pipe(Dn((a,c)=>(0,Bn.D)(t(a,c)).pipe((0,Ct.U)((f,y)=>e(a,f,c,y))))):i=>i.lift(new es(t))}class es{constructor(e){this.project=e}call(e,i){return i.subscribe(new Mv(e,this.project))}}class Mv extends Is.Ds{constructor(e,i){super(e),this.project=i,this.index=0}_next(e){let i;const a=this.index++;try{i=this.project(e,a)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(e){const i=this.innerSubscription;i&&i.unsubscribe();const a=new Is.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,Is.ft)(e,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Jl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function sh(t){return e=>0===t?(0,Xo.c)():e.lift(new Ts(t))}class Ts{constructor(e){if(this.total=e,this.total<0)throw new Jl}call(e,i){return i.subscribe(new Ss(e,this.total))}}class Ss extends Vr.L{constructor(e,i){super(e),this.total=i,this.count=0}_next(e){const i=this.total,a=++this.count;a<=i&&(this.destination.next(e),a===i&&(this.destination.complete(),this.unsubscribe()))}}function As(...t){const e=t[t.length-1];return(0,Cs.K)(e)?(t.pop(),i=>oh(t,i,e)):i=>oh(t,i)}function Io(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new Xl(t,e,i))}}class Xl{constructor(e,i,a=!1){this.accumulator=e,this.seed=i,this.hasSeed=a}call(e,i){return i.subscribe(new Cg(e,this.accumulator,this.seed,this.hasSeed))}}class Cg extends Vr.L{constructor(e,i,a,c){super(e),this.accumulator=i,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const i=this.index++;let a;try{a=this.accumulator(this.seed,e,i)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function Li(t){return function(i){const a=new wi(t),c=i.lift(a);return a.caught=c}}class wi{constructor(e){this.selector=e}call(e,i){return i.subscribe(new ef(e,this.selector,this.caught))}}class ef extends Is.Ds{constructor(e,i,a){super(e),this.selector=i,this.caught=a}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new Is.IY(this);this.add(a);const c=(0,Is.ft)(i,a);c!==a&&this.add(c)}}}function To(t){return function(i){return 0===t?(0,Xo.c)():i.lift(new Nv(t))}}class Nv{constructor(e){if(this.total=e,this.total<0)throw new Jl}call(e,i){return i.subscribe(new Dg(e,this.total))}}class Dg extends Vr.L{constructor(e,i){super(e),this.total=i,this.ring=new Array,this.count=0}_next(e){const i=this.ring,a=this.total,c=this.count++;i.length<a?i.push(e):i[c%a]=e}_complete(){const e=this.destination;let i=this.count;if(i>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<a;f++){const y=i++%a;e.next(c[y])}}e.complete()}}function tf(t=kv){return e=>e.lift(new nf(t))}class nf{constructor(e){this.errorFactory=e}call(e,i){return i.subscribe(new ah(e,this.errorFactory))}}class ah extends Vr.L{constructor(e,i){super(e),this.errorFactory=i,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(i){e=i}this.destination.error(e)}}}function kv(){return new _i}function Ig(t=null){return e=>e.lift(new ma(t))}class ma{constructor(e){this.defaultValue=e}call(e,i){return i.subscribe(new ya(e,this.defaultValue))}}class ya extends Vr.L{constructor(e,i){super(e),this.defaultValue=i,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var rf=$(4487);function ao(t,e){const i=arguments.length>=2;return a=>a.pipe(t?yi((c,f)=>t(c,f,a)):rf.y,sh(1),i?Ig(e):tf(()=>new _i))}var or=$(3342),Sg=$(1307),Cc=$(5319);class of{constructor(e){this.callback=e}call(e,i){return i.subscribe(new Dc(e,this.callback))}}class Dc extends Vr.L{constructor(e,i){super(e),this.add(new Cc.w(i))}}class uo{constructor(e,i){this.id=e,this.url=i}}class Ui extends uo{constructor(e,i,a="imperative",c=null){super(e,i),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class va extends uo{constructor(e,i,a){super(e,i),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ag extends uo{constructor(e,i,a){super(e,i),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class J0 extends uo{constructor(e,i,a){super(e,i),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sf extends uo{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic extends uo{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc extends uo{constructor(e,i,a,c,f){super(e,i),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uh extends uo{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Og extends uo{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class co{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lv{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xg{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class af{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(e,i,a){this.routerEvent=e,this.position=i,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class vu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function _u(t){return new vu(t)}const Ei="ngNavigationCancelingError";function uf(t){const e=Error("NavigationCancelingError: "+t);return e[Ei]=!0,e}function jv(t,e,i){const a=i.path.split("/");if(a.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||a.length<t.length))return null;const c={};for(let f=0;f<a.length;f++){const y=a[f],b=t[f];if(y.startsWith(":"))c[y.substring(1)]=b;else if(y!==b.path)return null}return{consumed:t.slice(0,a.length),posParams:c}}function Vi(t,e){const i=t?Object.keys(t):void 0,a=e?Object.keys(e):void 0;if(!i||!a||i.length!=a.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!Ci(t[c],e[c]))return!1;return!0}function Ci(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),a=[...e].sort();return i.every((c,f)=>a[f]===c)}return t===e}function ch(t){return Array.prototype.concat.apply([],t)}function Pg(t){return t.length>0?t[t.length-1]:null}function Cr(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function ei(t){return(0,_.CqO)(t)?t:(0,_.QGY)(t)?(0,Bn.D)(Promise.resolve(t)):(0,ht.of)(t)}const lo={exact:function lf(t,e,i){if(!ts(t.segments,e.segments)||!bu(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const a in e.children)if(!t.children[a]||!lf(t.children[a],e.children[a],i))return!1;return!0},subset:lh},Ao={exact:function(t,e){return Vi(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Ci(t[i],e[i]))},ignored:()=>!0};function cf(t,e,i){return lo[i.paths](t.root,e.root,i.matrixParams)&&Ao[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function lh(t,e,i){return ff(t,e,e.segments,i)}function ff(t,e,i,a){if(t.segments.length>i.length){const c=t.segments.slice(0,i.length);return!(!ts(c,i)||e.hasChildren()||!bu(c,i,a))}if(t.segments.length===i.length){if(!ts(t.segments,i)||!bu(t.segments,i,a))return!1;for(const c in e.children)if(!t.children[c]||!lh(t.children[c],e.children[c],a))return!1;return!0}{const c=i.slice(0,t.segments.length),f=i.slice(t.segments.length);return!!(ts(t.segments,c)&&bu(t.segments,c,a)&&t.children[At])&&ff(t.children[At],e,f,a)}}function bu(t,e,i){return e.every((a,c)=>Ao[i](t[c].parameters,a.parameters))}class fo{constructor(e,i,a){this.root=e,this.queryParams=i,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_u(this.queryParams)),this._queryParamMap}toString(){return dh.serialize(this)}}class zt{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Cr(i,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wu(this)}}class df{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=_u(this.parameters)),this._parameterMap}toString(){return _a(this)}}function ts(t,e){return t.length===e.length&&t.every((i,a)=>i.path===e[a].path)}class fh{}class Ng{parse(e){const i=new ba(e);return new fo(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){var t;return`${`/${Os(e.root,!0)}`}${function(t){const e=Object.keys(t).map(i=>{const a=t[i];return Array.isArray(a)?a.map(c=>`${Eu(i)}=${Eu(c)}`).join("&"):`${Eu(i)}=${Eu(a)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const dh=new Ng;function wu(t){return t.segments.map(e=>_a(e)).join("/")}function Os(t,e){if(!t.hasChildren())return wu(t);if(e){const i=t.children[At]?Os(t.children[At],!1):"",a=[];return Cr(t.children,(c,f)=>{f!==At&&a.push(`${f}:${Os(c,!1)}`)}),a.length>0?`${i}(${a.join("//")})`:i}{const i=function(t,e){let i=[];return Cr(t.children,(a,c)=>{c===At&&(i=i.concat(e(a,c)))}),Cr(t.children,(a,c)=>{c!==At&&(i=i.concat(e(a,c)))}),i}(t,(a,c)=>c===At?[Os(t.children[At],!1)]:[`${c}:${Os(a,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[At]?`${wu(t)}/${i[0]}`:`${wu(t)}/(${i.join("//")})`}}function hh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(t){return hh(t).replace(/%3B/gi,";")}function sn(t){return hh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hf(t){return decodeURIComponent(t)}function pf(t){return hf(t.replace(/\+/g,"%20"))}function _a(t){return`${sn(t.path)}${function(t){return Object.keys(t).map(e=>`;${sn(e)}=${sn(t[e])}`).join("")}(t.parameters)}`}const Bv=/^[^\/()?;=#]+/;function Oc(t){const e=t.match(Bv);return e?e[0]:""}const Fg=/^[^=?&#]+/,ph=/^[^?&#]+/;class ba{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(a[At]=new zt(e,i)),a}parseSegment(){const e=Oc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new df(hf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=Oc(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const c=Oc(this.remaining);c&&(a=c,this.capture(a))}e[hf(i)]=hf(a)}parseQueryParam(e){const i=function(t){const e=t.match(Fg);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const y=function(t){const e=t.match(ph);return e?e[0]:""}(this.remaining);y&&(a=y,this.capture(a))}const c=pf(i),f=pf(a);if(e.hasOwnProperty(c)){let y=e[c];Array.isArray(y)||(y=[y],e[c]=y),y.push(f)}else e[c]=f}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Oc(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):e&&(f=At);const y=this.parseChildren();i[f]=1===Object.keys(y).length?y[At]:new zt([],y),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Or{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=xc(e,this._root);return i?i.children.map(a=>a.value):[]}firstChild(e){const i=xc(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=Iu(e,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return Iu(e,this._root).map(i=>i.value)}}function xc(t,e){if(t===e.value)return e;for(const i of e.children){const a=xc(t,i);if(a)return a}return null}function Iu(t,e){if(t===e.value)return[e];for(const i of e.children){const a=Iu(t,i);if(a.length)return a.unshift(e),a}return[]}class Oo{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function Kn(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class wa extends Or{constructor(e,i){super(e),this.snapshot=i,Ea(this,e)}toString(){return this.snapshot.toString()}}function Pc(t,e){const i=function(t,e){const y=new Ps([],{},{},"",{},At,e,null,t.root,-1,{});return new ho("",new Oo(y,[]))}(t,e),a=new Er([new df("",{})]),c=new Er({}),f=new Er({}),y=new Er({}),b=new Er(""),D=new Dr(a,c,y,b,f,At,e,i.root);return D.snapshot=i.root,new wa(new Oo(D,[]),i)}class Dr{constructor(e,i,a,c,f,y,b,D){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=y,this.component=b,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>_u(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>_u(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tu(t,e="emptyOnly"){const i=t.pathFromRoot;let a=0;if("always"!==e)for(a=i.length-1;a>=1;){const c=i[a],f=i[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(f.component)break;a--}}return function(t){return t.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(a))}class Ps{constructor(e,i,a,c,f,y,b,D,S,x,R){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=y,this.component=b,this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_u(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_u(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends Or{constructor(e,i){super(i),this.url=e,Ea(this,i)}toString(){return gh(this._root)}}function Ea(t,e){e.value._routerState=t,e.children.forEach(i=>Ea(t,i))}function gh(t){const e=t.children.length>0?` { ${t.children.map(gh).join(", ")} } `:"";return`${t.value}${e}`}function gf(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Vi(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),Vi(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Vi(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),Vi(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ns(t,e){return Vi(t.params,e.params)&&function(t,e){return ts(t,e)&&t.every((i,a)=>Vi(i.parameters,e[a].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ns(t.parent,e.parent))}function Su(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const a=i.value;a._futureSnapshot=e.value;const c=function(t,e,i){return e.children.map(a=>{for(const c of i.children)if(t.shouldReuseRoute(a.value,c.value.snapshot))return Su(t,a,c);return Su(t,a)})}(t,e,i);return new Oo(a,c)}{if(t.shouldAttach(e.value)){const f=t.retrieve(e.value);if(null!==f){const y=f.route;return Rc(e,y),y}}const a=function(t){return new Dr(new Er(t.url),new Er(t.params),new Er(t.queryParams),new Er(t.fragment),new Er(t.data),t.outlet,t.component,t)}(e.value),c=e.children.map(f=>Su(t,f));return new Oo(a,c)}}function Rc(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)Rc(t.children[i],e.children[i])}function Ca(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Au(t){return"object"==typeof t&&null!=t&&t.outlets}function mf(t,e,i,a,c){let f={};return a&&Cr(a,(y,b)=>{f[b]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),new fo(i.root===t?e:po(i.root,t,e),f,c)}function po(t,e,i){const a={};return Cr(t.children,(c,f)=>{a[f]=c===e?i:po(c,e,i)}),new zt(t.segments,a)}class yf{constructor(e,i,a){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=a,e&&a.length>0&&Ca(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(Au);if(c&&c!==Pg(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vf{constructor(e,i,a){this.segmentGroup=e,this.processChildren=i,this.index=a}}function Nn(t,e,i){if(t||(t=new zt([],{})),0===t.segments.length&&t.hasChildren())return Ou(t,e,i);const a=function(t,e,i){let a=0,c=e;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<t.segments.length;){if(a>=i.length)return f;const y=t.segments[c],b=i[a];if(Au(b))break;const D=`${b}`,S=a<i.length-1?i[a+1]:null;if(c>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!yh(D,S,y))return f;a+=2}else{if(!yh(D,{},y))return f;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(t,e,i),c=i.slice(a.commandIndex);if(a.match&&a.pathIndex<t.segments.length){const f=new zt(t.segments.slice(0,a.pathIndex),{});return f.children[At]=new zt(t.segments.slice(a.pathIndex),t.children),Ou(f,0,c)}return a.match&&0===c.length?new zt(t.segments,{}):a.match&&!t.hasChildren()?mh(t,e,i):a.match?Ou(t,0,c):mh(t,e,i)}function Ou(t,e,i){if(0===i.length)return new zt(t.segments,{});{const a=function(t){return Au(t[0])?t[0].outlets:{[At]:t}}(i),c={};return Cr(a,(f,y)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[y]=Nn(t.children[y],e,f))}),Cr(t.children,(f,y)=>{void 0===a[y]&&(c[y]=f)}),new zt(t.segments,c)}}function mh(t,e,i){const a=t.segments.slice(0,e);let c=0;for(;c<i.length;){const f=i[c];if(Au(f)){const D=qg(f.outlets);return new zt(a,D)}if(0===c&&Ca(i[0])){a.push(new df(t.segments[e].path,$g(i[0]))),c++;continue}const y=Au(f)?f.outlets[At]:`${f}`,b=c<i.length-1?i[c+1]:null;y&&b&&Ca(b)?(a.push(new df(y,$g(b))),c+=2):(a.push(new df(y,{})),c++)}return new zt(a,{})}function qg(t){const e={};return Cr(t,(i,a)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[a]=mh(new zt([],{}),0,i))}),e}function $g(t){const e={};return Cr(t,(i,a)=>e[a]=`${i}`),e}function yh(t,e,i){return t==i.path&&Vi(e,i.parameters)}class Wv{constructor(e,i,a,c){this.routeReuseStrategy=e,this.futureState=i,this.currState=a,this.forwardEvent=c}activate(e){const i=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,a,e),gf(this.futureState.root),this.activateChildRoutes(i,a,e)}deactivateChildRoutes(e,i,a){const c=Kn(i);e.children.forEach(f=>{const y=f.value.outlet;this.deactivateRoutes(f,c[y],a),delete c[y]}),Cr(c,(f,y)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if(c===f)if(c.component){const y=a.getContext(c.outlet);y&&this.deactivateChildRoutes(e,i,y.children)}else this.deactivateChildRoutes(e,i,a);else f&&this.deactivateRouteAndItsChildren(i,a)}deactivateRouteAndItsChildren(e,i){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const a=i.getContext(e.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,i){const a=i.getContext(e.value.outlet),c=a&&e.value.component?a.children:i,f=Kn(e);for(const y of Object.keys(f))this.deactivateRouteAndItsChildren(f[y],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(e,i,a){const c=Kn(i);e.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],a),this.forwardEvent(new af(f.value.snapshot))}),e.children.length&&this.forwardEvent(new Lv(e.value.snapshot))}activateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if(gf(c),c===f)if(c.component){const y=a.getOrCreateContext(c.outlet);this.activateChildRoutes(e,i,y.children)}else this.activateChildRoutes(e,i,a);else if(c.component){const y=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const b=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),y.children.onOutletReAttached(b.contexts),y.attachRef=b.componentRef,y.route=b.route.value,y.outlet&&y.outlet.attach(b.componentRef,b.route.value),Wg(b.route)}else{const b=function(t){for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),D=b?b.module.componentFactoryResolver:null;y.attachRef=null,y.route=c,y.resolver=D,y.outlet&&y.outlet.activateWith(c,D),this.activateChildRoutes(e,null,y.children)}}else this.activateChildRoutes(e,null,a)}}function Wg(t){gf(t.value),t.children.forEach(Wg)}class Bi{constructor(e,i){this.routes=e,this.module=i}}function Da(t){return"function"==typeof t}function Rs(t){return t instanceof fo}const Nc=Symbol("INITIAL_VALUE");function Pu(){return Dn(t=>function(...t){let e,i;return(0,Cs.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,nh.k)(t[0])&&(t=t[0]),(0,Pv.n)(t,i).lift(new Ec(e))}(t.map(e=>e.pipe(sh(1),As(Nc)))).pipe(Io((e,i)=>{let a=!1;return i.reduce((c,f,y)=>c!==Nc?c:(f===Nc&&(a=!0),a||!1!==f&&y!==i.length-1&&!Rs(f)?c:f),e)},Nc),yi(e=>e!==Nc),(0,Ct.U)(e=>Rs(e)?e:!0===e),sh(1)))}let Ia=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,a){1&i&&_._UZ(0,"router-outlet")},directives:function(){return[cw]},encapsulation:2}),t})();function bh(t,e=""){for(let i=0;i<t.length;i++){const a=t[i];Hi(a,wh(e,a))}}function Hi(t,e){t.children&&bh(t.children,e)}function wh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ta(t){const e=t.children&&t.children.map(Ta),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==At&&(i.component=Ia),i}function ti(t){return t.outlet||At}function zv(t,e){const i=t.filter(a=>ti(a)===e);return i.push(...t.filter(a=>ti(a)!==e)),i}const Ms={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ru(t,e,i){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},Ms):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(e.matcher||jv)(i,t,e);if(!f)return Object.assign({},Ms);const y={};Cr(f.posParams,(D,S)=>{y[S]=D.path});const b=f.consumed.length>0?Object.assign(Object.assign({},y),f.consumed[f.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:b,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function kc(t,e,i,a,c="corrected"){if(i.length>0&&function(t,e,i){return i.some(a=>_f(t,e,a)&&ti(a)!==At)}(t,i,a)){const y=new zt(e,function(t,e,i,a){const c={};c[At]=a,a._sourceSegment=t,a._segmentIndexShift=e.length;for(const f of i)if(""===f.path&&ti(f)!==At){const y=new zt([],{});y._sourceSegment=t,y._segmentIndexShift=e.length,c[ti(f)]=y}return c}(t,e,a,new zt(i,t.children)));return y._sourceSegment=t,y._segmentIndexShift=e.length,{segmentGroup:y,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(a=>_f(t,e,a))}(t,i,a)){const y=new zt(t.segments,function(t,e,i,a,c,f){const y={};for(const b of a)if(_f(t,i,b)&&!c[ti(b)]){const D=new zt([],{});D._sourceSegment=t,D._segmentIndexShift="legacy"===f?t.segments.length:e.length,y[ti(b)]=D}return Object.assign(Object.assign({},c),y)}(t,e,i,a,t.children,c));return y._sourceSegment=t,y._segmentIndexShift=e.length,{segmentGroup:y,slicedSegments:i}}const f=new zt(t.segments,t.children);return f._sourceSegment=t,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:i}}function _f(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function zg(t,e,i,a){return!!(ti(t)===a||a!==At&&_f(e,i,t))&&("**"===t.path||Ru(e,t,i).matched)}function Kg(t,e,i){return 0===e.length&&!t.children[i]}class Fc{constructor(e){this.segmentGroup=e||null}}class Ch{constructor(e){this.urlTree=e}}function Mu(t){return new dr.y(e=>e.error(new Fc(t)))}function Dh(t){return new dr.y(e=>e.error(new Ch(t)))}function Ih(t){return new dr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ns{constructor(e,i,a,c,f){this.configLoader=i,this.urlSerializer=a,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=e.get(_.h0i)}apply(){const e=kc(this.urlTree.root,[],[],this.config).segmentGroup,i=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,At).pipe((0,Ct.U)(f=>this.createUrlTree(rs(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Li(f=>{if(f instanceof Ch)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Fc?this.noMatchError(f):f}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,At).pipe((0,Ct.U)(c=>this.createUrlTree(rs(c),e.queryParams,e.fragment))).pipe(Li(c=>{throw c instanceof Fc?this.noMatchError(c):c}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,a){const c=e.segments.length>0?new zt([],{[At]:e}):e;return new fo(c,i,a)}expandSegmentGroup(e,i,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(e,i,a).pipe((0,Ct.U)(f=>new zt([],f))):this.expandSegment(e,a,i,a.segments,c,!0)}expandChildren(e,i,a){const c=[];for(const f of Object.keys(a.children))"primary"===f?c.unshift(f):c.push(f);return(0,Bn.D)(c).pipe(lu(f=>{const y=a.children[f],b=zv(i,f);return this.expandSegmentGroup(e,b,y,f).pipe((0,Ct.U)(D=>({segment:D,outlet:f})))}),Io((f,y)=>(f[y.outlet]=y.segment,f),{}),function(t,e){const i=arguments.length>=2;return a=>a.pipe(t?yi((c,f)=>t(c,f,a)):rf.y,To(1),i?Ig(e):tf(()=>new _i))}())}expandSegment(e,i,a,c,f,y){return(0,Bn.D)(a).pipe(lu(b=>this.expandSegmentAgainstRoute(e,i,a,b,c,f,y).pipe(Li(S=>{if(S instanceof Fc)return(0,ht.of)(null);throw S}))),ao(b=>!!b),Li((b,D)=>{if(b instanceof _i||"EmptyError"===b.name){if(Kg(i,c,f))return(0,ht.of)(new zt([],{}));throw new Fc(i)}throw b}))}expandSegmentAgainstRoute(e,i,a,c,f,y,b){return zg(c,i,f,y)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,i,c,f,y):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,y):Mu(i):Mu(i)}expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,y){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,a,c,y):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,c){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?Dh(f):this.lineralizeSegments(a,f).pipe((0,rr.zg)(y=>{const b=new zt(y,{});return this.expandSegment(e,b,i,y,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,y){const{matched:b,consumedSegments:D,lastChild:S,positionalParamSegments:x}=Ru(i,c,f);if(!b)return Mu(i);const R=this.applyRedirectCommands(D,c.redirectTo,x);return c.redirectTo.startsWith("/")?Dh(R):this.lineralizeSegments(c,R).pipe((0,rr.zg)(L=>this.expandSegment(e,i,a,L.concat(f.slice(S)),y,!1)))}matchSegmentAgainstRoute(e,i,a,c,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,ht.of)(a._loadedConfig):this.configLoader.load(e.injector,a)).pipe((0,Ct.U)(L=>(a._loadedConfig=L,new zt(c,{})))):(0,ht.of)(new zt(c,{}));const{matched:y,consumedSegments:b,lastChild:D}=Ru(i,a,c);if(!y)return Mu(i);const S=c.slice(D);return this.getChildConfig(e,a,c).pipe((0,rr.zg)(R=>{const L=R.module,q=R.routes,{segmentGroup:K,slicedSegments:ie}=kc(i,b,S,q),Ie=new zt(K.segments,K.children);if(0===ie.length&&Ie.hasChildren())return this.expandChildren(L,q,Ie).pipe((0,Ct.U)(gt=>new zt(b,gt)));if(0===q.length&&0===ie.length)return(0,ht.of)(new zt(b,{}));const Ae=ti(a)===f;return this.expandSegment(L,Ie,q,ie,Ae?At:f,!0).pipe((0,Ct.U)(Le=>new zt(b.concat(Le.segments),Le.children)))}))}getChildConfig(e,i,a){return i.children?(0,ht.of)(new Bi(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?(0,ht.of)(i._loadedConfig):this.runCanLoadGuards(e.injector,i,a).pipe((0,rr.zg)(c=>{return c?this.configLoader.load(e.injector,i).pipe((0,Ct.U)(f=>(i._loadedConfig=f,f))):(t=i,new dr.y(e=>e.error(uf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,ht.of)(new Bi([],e))}runCanLoadGuards(e,i,a){const c=i.canLoad;if(!c||0===c.length)return(0,ht.of)(!0);const f=c.map(y=>{const b=e.get(y);let D;if((t=b)&&Da(t.canLoad))D=b.canLoad(i,a);else{if(!Da(b))throw new Error("Invalid CanLoad guard");D=b(i,a)}var t;return ei(D)});return(0,ht.of)(f).pipe(Pu(),(0,or.b)(y=>{if(!Rs(y))return;const b=uf(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw b.url=y,b}),(0,Ct.U)(y=>!0===y))}lineralizeSegments(e,i){let a=[],c=i.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,ht.of)(a);if(c.numberOfChildren>1||!c.children[At])return Ih(e.redirectTo);c=c.children[At]}}applyRedirectCommands(e,i,a){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,a)}applyRedirectCreatreUrlTree(e,i,a,c){const f=this.createSegmentGroup(e,i.root,a,c);return new fo(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const a={};return Cr(e,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const b=c.substring(1);a[f]=i[b]}else a[f]=c}),a}createSegmentGroup(e,i,a,c){const f=this.createSegments(e,i.segments,a,c);let y={};return Cr(i.children,(b,D)=>{y[D]=this.createSegmentGroup(e,b,a,c)}),new zt(f,y)}createSegments(e,i,a,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(e,f,c):this.findOrReturn(f,a))}findPosParam(e,i,a){const c=a[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return c}findOrReturn(e,i){let a=0;for(const c of i){if(c.path===e.path)return i.splice(a),c;a++}return e}}function rs(t){const e={};for(const a of Object.keys(t.children)){const f=rs(t.children[a]);(f.segments.length>0||f.hasChildren())&&(e[a]=f)}return function(t){if(1===t.numberOfChildren&&t.children[At]){const e=t.children[At];return new zt(t.segments.concat(e.segments),e.children)}return t}(new zt(t.segments,e))}class Th{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bf{constructor(e,i){this.component=e,this.route=i}}function wf(t,e,i){const a=t._root;return Nu(a,e?e._root:null,i,[a.value])}function jc(t,e,i){const a=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(a?a.module.injector:i).get(t)}function Nu(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=Kn(e);return t.children.forEach(y=>{(function(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=t.value,y=e?e.value:null,b=i?i.getContext(t.value.outlet):null;if(y&&f.routeConfig===y.routeConfig){const D=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!ts(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(t.url,e.url)||!Vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ns(t,e)||!Vi(t.queryParams,e.queryParams);case"paramsChange":default:return!ns(t,e)}}(y,f,f.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new Th(a)):(f.data=y.data,f._resolvedData=y._resolvedData),Nu(t,e,f.component?b?b.children:null:i,a,c),D&&b&&b.outlet&&b.outlet.isActivated&&c.canDeactivateChecks.push(new bf(b.outlet.component,y))}else y&&ks(e,b,c),c.canActivateChecks.push(new Th(a)),Nu(t,null,f.component?b?b.children:null:i,a,c)})(y,f[y.value.outlet],i,a.concat([y.value]),c),delete f[y.value.outlet]}),Cr(f,(y,b)=>ks(y,i.getContext(b),c)),c}function ks(t,e,i){const a=Kn(t),c=t.value;Cr(a,(f,y)=>{ks(f,c.component?e?e.children.getContext(y):null:e,i)}),i.canDeactivateChecks.push(new bf(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class d{}function g(t){return new dr.y(e=>e.error(t))}class C{constructor(e,i,a,c,f,y){this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=y}recognize(){const e=kc(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,At);if(null===i)return null;const a=new Ps([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Oo(a,i),f=new ho(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(e){const i=e.value,a=Tu(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,a)}processChildren(e,i){const a=[];for(const f of Object.keys(i.children)){const y=i.children[f],b=zv(e,f),D=this.processSegmentGroup(b,y,f);if(null===D)return null;a.push(...D)}const c=j(a);return c.sort((e,i)=>e.value.outlet===At?-1:i.value.outlet===At?1:e.value.outlet.localeCompare(i.value.outlet)),c}processSegment(e,i,a,c){for(const f of e){const y=this.processSegmentAgainstRoute(f,i,a,c);if(null!==y)return y}return Kg(i,a,c)?[]:null}processSegmentAgainstRoute(e,i,a,c){if(e.redirectTo||!zg(e,i,a,c))return null;let f,y=[],b=[];if("**"===e.path){const q=a.length>0?Pg(a).parameters:{};f=new Ps(a,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ge(e),ti(e),e.component,e,W(i),ce(i)+a.length,ke(e))}else{const q=Ru(i,e,a);if(!q.matched)return null;y=q.consumedSegments,b=a.slice(q.lastChild),f=new Ps(y,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ge(e),ti(e),e.component,e,W(i),ce(i)+y.length,ke(e))}const D=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:x}=kc(i,y,b,D.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var t;if(0===x.length&&S.hasChildren()){const q=this.processChildren(D,S);return null===q?null:[new Oo(f,q)]}if(0===D.length&&0===x.length)return[new Oo(f,[])];const R=ti(e)===c,L=this.processSegment(D,S,x,R?At:c);return null===L?null:[new Oo(f,L)]}}function k(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j(t){const e=[],i=new Set;for(const a of t){if(!k(a)){e.push(a);continue}const c=e.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...a.children),i.add(c)):e.push(a)}for(const a of i){const c=j(a.children);e.push(new Oo(a.value,c))}return e.filter(a=>!i.has(a))}function W(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ce(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function ge(t){return t.data||{}}function ke(t){return t.resolve||{}}function Di(t){return Dn(e=>{const i=t(e);return i?(0,Bn.D)(i).pipe((0,Ct.U)(()=>e)):(0,ht.of)(e)})}class Ph extends class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const Ot=new _.OlP("ROUTES");class Xv{constructor(e,i,a,c){this.loader=e,this.compiler=i,this.onLoadStartListener=a,this.onLoadEndListener=c}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,Ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const y=f.create(e);return new Bi(ch(y.injector.get(Ot,void 0,_.XFs.Self|_.XFs.Optional)).map(Ta),y)}),Li(f=>{throw i._loader$=void 0,f}));return i._loader$=new Y0.c(c,()=>new zn.xQ).pipe((0,Sg.x)()),i._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Bn.D)(this.loader.load(e)):ei(e()).pipe((0,rr.zg)(i=>i instanceof _.YKP?(0,ht.of)(i):(0,Bn.D)(this.compiler.compileModuleAsync(i))))}}class ow{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sa,this.attachRef=null}}class Sa{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ow,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}class sw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function mI(t){throw t}function e_(t,e,i){return e.parse("/")}function Fs(t,e){return(0,ht.of)(null)}const t_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class t{constructor(i,a,c,f,y,b,D,S){this.rootComponentType=i,this.urlSerializer=a,this.rootContexts=c,this.location=f,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zn.xQ,this.errorHandler=mI,this.malformedUriErrorHandler=e_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fs,afterPreactivation:Fs},this.urlHandlingStrategy=new sw,this.routeReuseStrategy=new Ph,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(_.h0i),this.console=y.get(_.c2e);const L=y.get(_.R0b);this.isNgZoneEnabled=L instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new fo(new zt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xv(b,D,q=>this.triggerEvent(new ji(q)),q=>this.triggerEvent(new co(q))),this.routerState=Pc(this.currentUrlTree,this.rootComponentType),this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const a=this.events;return i.pipe(yi(c=>0!==c.id),(0,Ct.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Dn(c=>{let f=!1,y=!1;return(0,ht.of)(c).pipe((0,or.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(b=>{const D=this.browserUrlTree.toString(),S=!this.navigated||b.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return Rh(b.source)&&(this.browserUrlTree=b.extractedUrl),(0,ht.of)(b).pipe(Dn(R=>{const L=this.transitions.getValue();return a.next(new Ui(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),L!==this.transitions.getValue()?Xo.E:Promise.resolve(R)}),function(t,e,i,a){return Dn(c=>function(t,e,i,a,c){return new Ns(t,e,i,a,c).apply()}(t,e,i,c.extractedUrl,a).pipe((0,Ct.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,or.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(t,e,i,a,c){return(0,rr.zg)(f=>function(t,e,i,a,c="emptyOnly",f="legacy"){try{const y=new C(t,e,i,a,c,f).recognize();return null===y?g(new d):(0,ht.of)(y)}catch(y){return g(y)}}(t,e,f.urlAfterRedirects,i(f.urlAfterRedirects),a,c).pipe((0,Ct.U)(y=>Object.assign(Object.assign({},f),{targetSnapshot:y}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,or.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const L=new sf(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);a.next(L)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:q,source:K,restoredState:ie,extras:Ie}=b,Ae=new Ui(L,this.serializeUrl(q),K,ie);a.next(Ae);const He=Pc(q,this.rootComponentType).snapshot;return(0,ht.of)(Object.assign(Object.assign({},b),{targetSnapshot:He,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),Xo.E}),Di(b=>{const{targetSnapshot:D,id:S,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:q}}=b;return this.hooks.beforePreactivation(D,{navigationId:S,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!q})}),(0,or.b)(b=>{const D=new Ic(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),(0,Ct.U)(b=>Object.assign(Object.assign({},b),{guards:wf(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(t,e){return(0,rr.zg)(i=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:y}}=i;return 0===y.length&&0===f.length?(0,ht.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,a){return(0,Bn.D)(t).pipe((0,rr.zg)(c=>function(t,e,i,a,c){const f=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,ht.of)(!0);const y=f.map(b=>{const D=jc(b,e,c);let S;if(function(t){return t&&Da(t.canDeactivate)}(D))S=ei(D.canDeactivate(t,e,i,a));else{if(!Da(D))throw new Error("Invalid CanDeactivate guard");S=ei(D(t,e,i,a))}return S.pipe(ao())});return(0,ht.of)(y).pipe(Pu())}(c.component,c.route,i,e,a)),ao(c=>!0!==c,!0))}(y,a,c,t).pipe((0,rr.zg)(b=>b&&function(t){return"boolean"==typeof t}(b)?function(t,e,i,a){return(0,Bn.D)(e).pipe(lu(c=>oh(function(t,e){return null!==t&&e&&e(new Sc(t)),(0,ht.of)(!0)}(c.route.parent,a),function(t,e){return null!==t&&e&&e(new xg(t)),(0,ht.of)(!0)}(c.route,a),function(t,e,i){const a=e[e.length-1],f=e.slice(0,e.length-1).reverse().map(y=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(y)).filter(y=>null!==y).map(y=>yu(()=>{const b=y.guards.map(D=>{const S=jc(D,y.node,i);let x;if(function(t){return t&&Da(t.canActivateChild)}(S))x=ei(S.canActivateChild(a,t));else{if(!Da(S))throw new Error("Invalid CanActivateChild guard");x=ei(S(a,t))}return x.pipe(ao())});return(0,ht.of)(b).pipe(Pu())}));return(0,ht.of)(f).pipe(Pu())}(t,c.path,i),function(t,e,i){const a=e.routeConfig?e.routeConfig.canActivate:null;if(!a||0===a.length)return(0,ht.of)(!0);const c=a.map(f=>yu(()=>{const y=jc(f,e,i);let b;if(function(t){return t&&Da(t.canActivate)}(y))b=ei(y.canActivate(e,t));else{if(!Da(y))throw new Error("Invalid CanActivate guard");b=ei(y(e,t))}return b.pipe(ao())}));return(0,ht.of)(c).pipe(Pu())}(t,c.route,i))),ao(c=>!0!==c,!0))}(a,f,t,e):(0,ht.of)(b)),(0,Ct.U)(b=>Object.assign(Object.assign({},i),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,or.b)(b=>{if(Rs(b.guardsResult)){const S=uf(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw S.url=b.guardsResult,S}const D=new Tc(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(D)}),yi(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),Di(b=>{if(b.guards.canActivateChecks.length)return(0,ht.of)(b).pipe((0,or.b)(D=>{const S=new uh(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),Dn(D=>{let S=!1;return(0,ht.of)(D).pipe(function(t,e){return(0,rr.zg)(i=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,ht.of)(i);let f=0;return(0,Bn.D)(c).pipe(lu(y=>function(t,e,i,a){return function(t,e,i,a){const c=Object.keys(t);if(0===c.length)return(0,ht.of)({});const f={};return(0,Bn.D)(c).pipe((0,rr.zg)(y=>function(t,e,i,a){const c=jc(t,e,a);return ei(c.resolve?c.resolve(e,i):c(e,i))}(t[y],e,i,a).pipe((0,or.b)(b=>{f[y]=b}))),To(1),(0,rr.zg)(()=>Object.keys(f).length===c.length?(0,ht.of)(f):Xo.E))}(t._resolve,t,e,a).pipe((0,Ct.U)(f=>(t._resolvedData=f,t.data=Object.assign(Object.assign({},t.data),Tu(t,i).resolve),null)))}(y.route,a,t,e)),(0,or.b)(()=>f++),To(1),(0,rr.zg)(y=>f===c.length?(0,ht.of)(i):Xo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,or.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,or.b)(D=>{const S=new Og(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),Di(b=>{const{targetSnapshot:D,id:S,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:q}}=b;return this.hooks.afterPreactivation(D,{navigationId:S,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!q})}),(0,Ct.U)(b=>{const D=function(t,e,i){const a=Su(t,e._root,i?i._root:void 0);return new wa(a,e)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:D})}),(0,or.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((t,e,i)=>(0,Ct.U)(a=>(new Wv(e,a.targetRouterState,a.currentRouterState,i).activate(t),a)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,or.b)({next(){f=!0},complete(){f=!0}}),function(t){return e=>e.lift(new of(t))}(()=>{if(!f&&!y){const b=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,b)):this.cancelNavigationTransition(c,b)}this.currentNavigation=null}),Li(b=>{if(y=!0,function(t){return t&&t[Ei]}(b)){const D=Rs(b.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const S=new Ag(c.id,this.serializeUrl(c.extractedUrl),b.message);a.next(S),D?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),R={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rh(c.source)};this.scheduleNavigation(x,"imperative",null,R,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new J0(c.id,this.serializeUrl(c.extractedUrl),b);a.next(D);try{c.resolve(this.errorHandler(b))}catch(S){c.reject(S)}}return Xo.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const a=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:f,urlTree:y}=a,b={replaceUrl:!0};if(f){const D=Object.assign({},f);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(b.state=D)}this.scheduleNavigation(y,c,f,b)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(i){var a;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(a=i.state)||void 0===a?void 0:a.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,a){if(!i)return!0;const c=a.urlTree.toString()===i.urlTree.toString();return a.transitionId!==i.transitionId||!c||!("hashchange"===a.source&&"popstate"===i.source||"popstate"===a.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){bh(i),this.config=i.map(Ta),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,a={}){const{relativeTo:c,queryParams:f,fragment:y,queryParamsHandling:b,preserveFragment:D}=a,S=c||this.routerState.root,x=D?this.currentUrlTree.fragment:y;let R=null;switch(b){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=f||null}return null!==R&&(R=this.removeEmptyProps(R)),function(t,e,i,a,c){if(0===i.length)return mf(e.root,e.root,e,a,c);const f=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yf(!0,0,t);let e=0,i=!1;const a=t.reduce((c,f,y)=>{if("object"==typeof f&&null!=f){if(f.outlets){const b={};return Cr(f.outlets,(D,S)=>{b[S]="string"==typeof D?D.split("/"):D}),[...c,{outlets:b}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===y?(f.split("/").forEach((b,D)=>{0==D&&"."===b||(0==D&&""===b?i=!0:".."===b?e++:""!=b&&c.push(b))}),c):[...c,f]},[]);return new yf(i,e,a)}(i);if(f.toRoot())return mf(e.root,new zt([],{}),e,a,c);const y=function(t,e,i){if(t.isAbsolute)return new vf(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new vf(f,f===e.root,0)}const a=Ca(t.commands[0])?0:1;return function(t,e,i){let a=t,c=e,f=i;for(;f>c;){if(f-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new vf(a,!1,c-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(f,e,t),b=y.processChildren?Ou(y.segmentGroup,y.index,f.commands):Nn(y.segmentGroup,y.index,f.commands);return mf(y.segmentGroup,b,e,a,c)}(S,this.currentUrlTree,i,R,null!=x?x:null)}navigateByUrl(i,a={skipLocationChange:!1}){const c=Rs(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(i,a={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let a;try{a=this.urlSerializer.parse(i)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return a}isActive(i,a){let c;if(c=!0===a?Object.assign({},t_):!1===a?Object.assign({},aw):a,Rs(i))return cf(this.currentUrlTree,i,c);const f=this.parseUrl(i);return cf(this.currentUrlTree,f,c)}removeEmptyProps(i){return Object.keys(i).reduce((a,c)=>{const f=i[c];return null!=f&&(a[c]=f),a},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new va(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,a,c,f,y){var b,D;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),x=Rh(a)&&S&&!Rh(S.source),q=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===i.toString();if(x&&q)return Promise.resolve(!0);let K,ie,Ie;y?(K=y.resolve,ie=y.reject,Ie=y.promise):Ie=new Promise((Le,gt)=>{K=Le,ie=gt});const Ae=++this.navigationId;let He;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),He=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):He=0,this.setTransition({id:Ae,targetPageId:He,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:K,reject:ie,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(Le=>Promise.reject(Le))}setBrowserUrl(i,a){const c=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(i,a=!1){var c,f;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===y?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===y&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,a){const c=new Ag(i.id,this.serializeUrl(i.extractedUrl),a);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,a){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.DyG),_.LFG(fh),_.LFG(Sa),_.LFG(Lt),_.LFG(_.zs3),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(void 0))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function Rh(t){return"imperative"!==t}let cw=(()=>{class t{constructor(i,a,c,f,y){this.parentContexts=i,this.location=a,this.resolver=c,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.name=f||At,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const y=(a=a||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,D=new yI(i,b,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Sa),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},t.\u0275dir=_.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yI{constructor(e,i,a){this.route=e,this.childContexts=i,this.parent=a}get(e,i){return e===Dr?this.route:e===Sa?this.childContexts:this.parent.get(e,i)}}class r_{}class lw{preload(e,i){return(0,ht.of)(null)}}let vI=(()=>{class t{constructor(i,a,c,f,y){this.router=i,this.injector=f,this.preloadingStrategy=y,this.loader=new Xv(a,c,S=>i.triggerEvent(new ji(S)),S=>i.triggerEvent(new co(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(yi(i=>i instanceof va),lu(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(_.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,a){const c=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const y=f._loadedConfig;c.push(this.processRoutes(y.module,y.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(i,f)):f.children&&c.push(this.processRoutes(i,f.children));return(0,Bn.D)(c).pipe((0,bi.J)(),(0,Ct.U)(f=>{}))}preloadConfig(i,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,ht.of)(a._loadedConfig):this.loader.load(i.injector,a)).pipe((0,rr.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Br),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(r_))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),nm=(()=>{class t{constructor(i,a,c={}){this.router=i,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof va&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof So&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,a){this.router.triggerEvent(new So(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Br),_.LFG(Ud),_.LFG(void 0))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const Bc=new _.OlP("ROUTER_CONFIGURATION"),rm=new _.OlP("ROUTER_FORROOT_GUARD"),UA=[Lt,{provide:fh,useClass:Ng},{provide:Br,useFactory:function(t,e,i,a,c,f,y,b={},D,S){const x=new Br(null,t,e,i,a,c,f,ch(y));return D&&(x.urlHandlingStrategy=D),S&&(x.routeReuseStrategy=S),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(b,x),b.enableTracing&&x.events.subscribe(R=>{var L,q;null===(L=console.group)||void 0===L||L.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(q=console.groupEnd)||void 0===q||q.call(console)}),x},deps:[fh,Sa,Lt,_.zs3,_.v3s,_.Sil,Ot,Bc,[class{},new _.FiY],[class{},new _.FiY]]},Sa,{provide:Dr,useFactory:function(t){return t.routerState.root},deps:[Br]},{provide:_.v3s,useClass:_.EAV},vI,lw,class{preload(e,i){return i().pipe(Li(()=>(0,ht.of)(null)))}},{provide:Bc,useValue:{enableTracing:!1}}];function jA(){return new _.PXZ("Router",Br)}let bI=(()=>{class t{constructor(i,a){}static forRoot(i,a){return{ngModule:t,providers:[UA,wI(i),{provide:rm,useFactory:HA,deps:[[Br,new _.FiY,new _.tp0]]},{provide:Bc,useValue:a||{}},{provide:ze,useFactory:BA,deps:[ee,[new _.tBr(Ve),new _.FiY],Bc]},{provide:nm,useFactory:VA,deps:[Br,Ud,Bc]},{provide:r_,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:lw},{provide:_.PXZ,multi:!0,useFactory:jA},[Ls,{provide:_.ip1,multi:!0,useFactory:i_,deps:[Ls]},{provide:o_,useFactory:EI,deps:[Ls]},{provide:_.tb,multi:!0,useExisting:o_}]]}}static forChild(i){return{ngModule:t,providers:[wI(i)]}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(rm,8),_.LFG(Br,8))},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({}),t})();function VA(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new nm(t,e,i)}function BA(t,e,i={}){return i.useHash?new Ft(t,e):new nt(t,e)}function HA(t){return"guarded"}function wI(t){return[{provide:_.deG,multi:!0,useValue:t},{provide:Ot,multi:!0,useValue:t}]}let Ls=(()=>{class t{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zn.xQ}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(b=>a=b),f=this.injector.get(Br),y=this.injector.get(Bc);return"disabled"===y.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,ht.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),c})}bootstrapListener(i){const a=this.injector.get(Bc),c=this.injector.get(vI),f=this.injector.get(nm),y=this.injector.get(Br),b=this.injector.get(_.z2F);i===b.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&y.initialNavigation(),c.setUpPreloading(),f.init(),y.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.zs3))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function i_(t){return t.appInitializer.bind(t)}function EI(t){return t.bootstrapListener.bind(t)}const o_=new _.OlP("Router Initializer"),a_=[];let DI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[bI.forRoot(a_,{relativeLinkResolution:"legacy"})],bI]}),t})();var Oa=$(3637),im=$(6682),II=$(8819);function fw(t,e){return i=>i.lift(new u_(t,e))}class u_{constructor(e,i){this.compare=e,this.keySelector=i}call(e,i){return i.subscribe(new TI(e,this.compare,this.keySelector))}}class TI extends Vr.L{constructor(e,i,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(e,i){return e===i}_next(e){let i;try{const{keySelector:c}=this;i=c?c(e):e}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=i,this.destination.next(e))}}class SI{constructor(e,i){this.observables=e,this.project=i}call(e,i){return i.subscribe(new AI(e,this.observables,this.project))}}class AI extends rh{constructor(e,i,a){super(e),this.observables=i,this.project=a,this.toRespond=[];const c=i.length;this.values=new Array(c);for(let f=0;f<c;f++)this.toRespond.push(f);for(let f=0;f<c;f++)this.add(wc(this,i[f],void 0,f))}notifyNext(e,i,a){this.values[a]=i;const c=this.toRespond;if(c.length>0){const f=c.indexOf(a);-1!==f&&c.splice(f,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const i=[e,...this.values];this.project?this._tryProject(i):this.destination.next(i)}}_tryProject(e){let i;try{i=this.project.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(i)}}class Df{constructor(e){this.predicate=e}call(e,i){return i.subscribe(new c_(e,this.predicate))}}class c_ extends Vr.L{constructor(e,i){super(e),this.predicate=i,this.skipping=!0,this.index=0}_next(e){const i=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||i.next(e)}tryCallPredicate(e){try{const i=this.predicate(e,this.index++);this.skipping=Boolean(i)}catch(i){this.destination.error(i)}}}var Kt=$(57),Gi=($(514),$(309)),OI=$(7771),hw=$(8858);class pw extends zn.xQ{constructor(e=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const i=this._events;i.push(e),i.length>this._bufferSize&&i.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new l_(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const i=this._infiniteTimeWindow,a=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=a.length;let y;if(this.closed)throw new Ql.N;if(this.isStopped||this.hasError?y=Cc.w.EMPTY:(this.observers.push(e),y=new hw.W(this,e)),c&&e.add(e=new Gi.ht(e,c)),i)for(let b=0;b<f&&!e.closed;b++)e.next(a[b]);else for(let b=0;b<f&&!e.closed;b++)e.next(a[b].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),y}_getNow(){return(this.scheduler||OI.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),i=this._bufferSize,a=this._windowTime,c=this._events,f=c.length;let y=0;for(;y<f&&!(e-c[y].time<a);)y++;return f>i&&(y=Math.max(y,f-i)),y>0&&c.splice(0,y),c}}class l_{constructor(e,i){this.time=e,this.value=i}}function Nh(t,e,i){let a;return a=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:i,scheduler:a}){let c,y,f=0,b=!1,D=!1;return function(x){let R;f++,!c||b?(b=!1,c=new pw(t,e,a),R=c.subscribe(this),y=x.subscribe({next(L){c.next(L)},error(L){b=!0,c.error(L)},complete(){D=!0,y=void 0,c.complete()}})):R=c.subscribe(this),this.add(()=>{f--,R.unsubscribe(),y&&!D&&i&&0===f&&(y.unsubscribe(),y=void 0,c=void 0)})}}(a))}function kh(t,e){return e?Dn(()=>t,e):Dn(()=>t)}var f_=$(3101);const Fh=new _.OlP("angularfire2.auth.use-emulator"),d_=new _.OlP("angularfire2.auth.settings"),h_=new _.OlP("angularfire2.auth.tenant-id"),yw=new _.OlP("angularfire2.auth.langugage-code"),p_=new _.OlP("angularfire2.auth.use-device-language"),vw=new _.OlP("angularfire.auth.persistence");let _w=(()=>{class t{constructor(i,a,c,f,y,b,D,S,x,R){const L=new Kt.HU(f),q=(0,Kt.ss)(L),K=new zn.xQ,ie=(0,ht.of)(void 0).pipe((0,Gi.QV)(L.outsideAngular),Dn(()=>f.runOutsideAngular(()=>$.e(336).then($.bind($,1336)))),(0,Ct.U)(()=>(0,Kt.on)(i,f,a)),(0,Ct.U)(Ie=>f.runOutsideAngular(()=>{const Ae=y,He=b;return(0,Kt.sI)(`${Ie.name}.auth`,"AngularFireAuth",Ie,()=>{const Le=f.runOutsideAngular(()=>Ie.auth());if(Ae&&Le.useEmulator(`http://${Ae.join(":")}`),D&&(Le.tenantId=D),Le.languageCode=S,x&&Le.useDeviceLanguage(),He)for(const[gt,lt]of Object.entries(He))Le.settings[gt]=lt;return R&&Le.setPersistence(R),Le},[Ae,D,S,x,He,R])})),Nh({bufferSize:1,refCount:!1}));if(Fd(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ht.of)(null);else{ie.pipe(ao()).subscribe();const Ae=ie.pipe(Dn(lt=>lt.getRedirectResult().then(en=>en,()=>null)),q,Nh({bufferSize:1,refCount:!1})),He=lt=>new dr.y(en=>({unsubscribe:f.runOutsideAngular(()=>lt(en))})),Le=ie.pipe(Dn(lt=>He(lt.onAuthStateChanged.bind(lt)))),gt=ie.pipe(Dn(lt=>He(lt.onIdTokenChanged.bind(lt))));this.authState=Ae.pipe(kh(Le),(0,f_.R)(L.outsideAngular),(0,Gi.QV)(L.insideAngular)),this.user=Ae.pipe(kh(gt),(0,f_.R)(L.outsideAngular),(0,Gi.QV)(L.insideAngular)),this.idToken=this.user.pipe(Dn(lt=>lt?(0,Bn.D)(lt.getIdToken()):(0,ht.of)(null))),this.idTokenResult=this.user.pipe(Dn(lt=>lt?(0,Bn.D)(lt.getIdTokenResult()):(0,ht.of)(null))),this.credential=(0,im.T)(Ae,K,this.authState.pipe(yi(lt=>!lt))).pipe((0,Ct.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,f_.R)(L.outsideAngular),(0,Gi.QV)(L.insideAngular))}return(0,Kt.pX)(this,ie,f,{spy:{apply:(Ie,Ae,He)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&He.then(Le=>K.next(Le))}}})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Fh,8),_.LFG(d_,8),_.LFG(h_,8),_.LFG(yw,8),_.LFG(p_,8),_.LFG(vw,8))},t.\u0275prov=_.Yz7({factory:function(){return new t(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Fh,8),_.LFG(d_,8),_.LFG(h_,8),_.LFG(yw,8),_.LFG(p_,8),_.LFG(vw,8))},token:t,providedIn:"any"}),t})();var bw=$(2329);function PI(t){return null==t}function g_(t){return"function"==typeof t.set}function RI(t,e){return g_(e)?e:t.ref(e)}function ww(t,e){if(function(t){return"string"==typeof t}(t))return e.stringCase();if(g_(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Hc(t,e,i="on",a=Oa.z){return new dr.y(c=>{let f=null;return f=t[i](e,(y,b)=>{a.schedule(()=>{c.next({snapshot:y,prevKey:b})}),"once"===i&&a.schedule(()=>c.complete())},y=>{a.schedule(()=>c.error(y))}),"on"===i?{unsubscribe(){null!=f&&t.off(e,f)}}:{unsubscribe(){}}}).pipe((0,Ct.U)(c=>{const{snapshot:f,prevKey:y}=c;let b=null;return f.exists()&&(b=f.key),{type:e,payload:f,prevKey:y,key:b}}),(0,II.B)())}function Cw(t,e){const i=t.length;for(let a=0;a<i;a++)if(t[a].payload.key===e)return a;return-1}function NI(t,e){const{payload:i,prevKey:a,key:c}=e,f=Cw(t,c),y=function(t,e){if(PI(e))return 0;{const i=Cw(t,e);return-1===i?t.length:i+1}}(t,a);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let b=null;e.payload.forEach(D=>{const S={payload:D,type:"value",prevKey:b,key:D.key};return b=D.key,t=[...t,S],!1})}return t;case"child_added":if(f>-1){const b=t[f-1];(b&&b.key||null)!==a&&(t=t.filter(D=>D.payload.key!==i.key)).splice(y,0,e)}else{if(null==a)return[e,...t];(t=t.slice()).splice(y,0,e)}return t;case"child_removed":return t.filter(b=>b.payload.key!==i.key);case"child_changed":return t.map(b=>b.payload.key===c?e:b);case"child_moved":if(f>-1){const b=t.splice(f,1)[0];return(t=t.slice()).splice(y,0,b),t}return t;default:return t}}function m_(t){return(PI(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Dw(t,e,i){return function(t,e,i){return Hc(t,"value","once",i).pipe(Dn(a=>{const c=[(0,ht.of)(a)];return e.forEach(f=>c.push(Hc(t,f,"on",i))),(0,im.T)(...c).pipe(Io(NI,[]))}),fw())}(t,e=m_(e),i)}function y_(t,e,i){const a=(e=m_(e)).map(c=>Hc(t,c,"on",i));return(0,im.T)(...a)}function v_(t,e){return function(a,c){return ww(a,{stringCase:()=>t.child(a)[e](c),firebaseCase:()=>a[e](c),snapshotCase:()=>a.ref[e](c)})}}function LI(t){return function(i){return i?ww(i,{stringCase:()=>t.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):t.remove()}}function sm(t,e){return function(){return Hc(t,"value","on",e)}}const Tw=new _.OlP("angularfire2.realtimeDatabaseURL"),jI=new _.OlP("angularfire2.database.use-emulator");let __=(()=>{class t{constructor(i,a,c,f,y,b,D){this.schedulers=new Kt.HU(y),this.keepUnstableUntilFirst=(0,Kt.ss)(this.schedulers);const S=b,x=(0,Kt.on)(i,y,a);!bw.Z.auth&&D&&(0,Kt.yq)(),this.database=(0,Kt.sI)(`${x.name}.database.${c}`,"AngularFireDatabase",x,()=>{const R=y.runOutsideAngular(()=>x.database(c||void 0));return S&&R.useEmulator(...S),R},[S])}list(i,a){const c=this.schedulers.ngZone.runOutsideAngular(()=>RI(this.database,i));let f=c;return a&&(f=a(c)),function(t,e){const i=e.schedulers.outsideAngular,a=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:v_(a,"update"),set:v_(a,"set"),push:c=>a.push(c),remove:LI(a),snapshotChanges:c=>Dw(t,c,i).pipe(e.keepUnstableUntilFirst),stateChanges:c=>y_(t,c,i).pipe(e.keepUnstableUntilFirst),auditTrail:c=>function(t,e,i){return function(t,e,i){return function(t,e){return Hc(t,"value","on",e).pipe((0,Ct.U)(i=>{let a;return i.payload.forEach(c=>(a=c.key,!1)),{data:i,lastKeyToLoad:a}}))}(t,i).pipe(function(...t){return e=>{let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),e.lift(new SI(t,i))}}(e),(0,Ct.U)(([c,f])=>{const y=c.lastKeyToLoad,b=f.map(D=>D.key);return{actions:f,lastKeyToLoad:y,loadedKeys:b}}),function(t){return e=>e.lift(new Df(t))}(c=>-1===c.loadedKeys.indexOf(c.lastKeyToLoad)),(0,Ct.U)(c=>c.actions))}(t,y_(t,e).pipe(Io((c,f)=>[...c,f],[])),i)}(t,c,i).pipe(e.keepUnstableUntilFirst),valueChanges:(c,f)=>Dw(t,c,i).pipe((0,Ct.U)(b=>b.map(D=>f&&f.idField?Object.assign(Object.assign({},D.payload.val()),{[f.idField]:D.key}):D.payload.val())),e.keepUnstableUntilFirst)}}(f,this)}object(i){return function(t,e){return{query:t,snapshotChanges:()=>sm(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst),update:i=>t.ref.update(i),set:i=>t.ref.set(i),remove:()=>t.ref.remove(),valueChanges:()=>sm(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst,(0,Ct.U)(a=>a.payload.exists()?a.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>RI(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(Tw,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(jI,8),_.LFG(Fh,8))},t.\u0275prov=_.Yz7({factory:function(){return new t(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(Tw,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(jI,8),_.LFG(Fh,8))},token:t,providedIn:"any"}),t})(),VI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[__]}),t})(),Gc=(()=>{class t{constructor(i,a){this.http=i,this.db=a,this.info={},this.loaded=!1,this.experiences=[],this.education=[],this.portfolio=[],this.services=[],this.profileDb=this.db.object("Profile/"),this.educationDb=this.db.list("Education/"),this.experienceDb=this.db.list("Experience/"),this.portfolioDb=this.db.list("Portfolio/"),this.servicesDb=this.db.list("Services/"),this.infoDb=this.db.object("InfoPage/"),this.loadProfile()}loadProfile(){const i={email:"Kishan.jsk@gmail.com",title:"Kishan Parmar",name:"Kishan Name",page_author:"Kishan Parmar",facebook:"https://www.facebook.com/ERKishan.jsk/",twitter:"https://twitter.com/kishan_jsk",instagram:"https://www.instagram.com/kishanjsk/",github:"https://github.com/kishanjsk",linkedIn:"https://www.linkedin.com/in/kishan-parmar",phone:"tel:+919510077394",whatsapp:"https://wa.me/+919510077394"},a={FirstName:"Kishan",LastName:"Parmar",MiddleName:"Rameshkumar",Mobile:"+91 95100 77394",Profession:"Sr. Software Developer",Email:"Kishan.jsk@gmail.com",Resume:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/document%2FProfile.pdf?alt=media&token=ef72ee3f-b7de-47f8-89d1-4cd49bf9cf24",URL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2Fkishanparmar.png?alt=media&token=053c94e0-30d9-42ea-93a4-b2bbfa7552bd",Technologies:["Web Developer","API Developer","Infrastructure engineer"]},c=[{Name:"WEB DESIGN",Description:"Design and propotype of web applications based on usability and user experience.",Icon:"ion-monitor"},{Name:"WEB DEVELOPMENT",Description:"Complete development of web sites and applications based on your requirements.",Icon:"ion-code-working"},{Name:"SEO WEB",Description:"Positioning and techniques for better organic results in web search engines.",Icon:"ion-search"},{Name:"RESPONSIVE DESIGN",Description:"Adaptability for applications and websites to different interfaces and devices such as mobiles and tablets.",Icon:"ion-android-phone-portrait"},{Name:"GRAPHIC DESIGN",Description:"Design and creation of branding, advertising and illustrations and different multimedia products.",Icon:"ion-paintbrush"},{Name:"MARKETING SERVICES",Description:"Inbound Marketing advertising and commercial strategies for automated sales processes.",Icon:"ion-stats-bars"}],f=[{CompanyName:"MagnusMinds IT Solution",Position:"Team Lead (Sr. Software & DevOps Engineer)",Description:"At MagnusMinds, I am working as a Senior Software & DevOps Engineer. I have total of 6+ years of hands-on experience in C#, .NET Core, MVC, AWS, Azure and SQL Server.",Tenure:"Aug 2019-Present",Icon:"ion-university"},{CompanyName:"Extentia Information Technology",Position:"Sr. Software developer",Description:"I was working at Extentia for 6 months as on site developer for Mahindra and Mahindra project and we have completed in just 5 months.",Tenure:"2019-2019",Icon:"ion-ribbon-b"},{CompanyName:"DRC Systems",Position:"Sr. Software developer",Description:"I started working as a Software developer. and after working on several .NET MVC Web API project, I promoted to Senior Software developer.",Tenure:"2018-2019",Icon:"ion-trophy"},{CompanyName:"TOPS Technologies Pvt. Ltd",Position:"Software Developer",Description:"My journey with Tops technologies started as software developer, mainly responsible for developing software in C# technology. Apart from that, I worked on various technologies like ASP.NET MVC, WPF, WebForms",Tenure:"2014-2018",Icon:"ion-ribbon-a"},{CompanyName:"Macrosoft Creations",Position:"Jr. Software and Web Developer",Description:"I worked here as a beginner in .Net developer  and learned lots of new things and new technologies.",Tenure:"2013-2014",Icon:"ion-checkmark-circled"}],y=[{Name:"Architecture Project",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FArchitectureProject.jpg?alt=media&token=09d2b05c-9c85-4f84-a4e2-1a1768dbd801",SiteURL:"",Description:"This architecture is made of several project with different purpose. Projects are as per below. \n 1. Architecture.Web \n 2. Architecture.BusinessLogic \n 3.Architecture.Data \n 4.Architecture.Entities \n 5.Architecture.ILogger \n 6.Architecture.Interface  \n 7.Architecture.Repository    \n 8.Architecture.Services   \n  9.Architecture.Utility   \n 10.Architecture.UnitTesting",Category:".NetCore 3.0",GitHubURL:"https://github.com/kishanjsk/ArchitectueProjectMVCCore",Date:"JAN-2018 AUG-2020"},{Name:"SunBridge Leasing Corporation",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FSunBridgeLeasingCorporation.jpg?alt=media&token=6130ca44-928a-4afd-9264-2018467340ad",SiteURL:"https://www.sunbridgeleasing.com/",Description:'SunBridge Leasing makes it easy to offer your customers monthly payment options. We don\u2019t require multi-million dollar annual volume commitments, and we work with any size equipment and vehicle vendor. Your customers get the financing they want, and you still get paid in full right away - everybody wins. Our partners not only sell more goods; our vendor programs also increase margins, improve sales cycle times, and can even help close sales months later. Supported by the industry"s best team of professionals, our programs combine innovative finance tools with lightning fast turnaround - all at no cost to you',Category:"ASP.NET MVC",GitHubURL:"",Date:"JAN-2018 AUG-2018"},{Name:"Custom Permission based Authentication",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FCustomPermissionbasedAuthentication.jpg?alt=media&token=a9fde3cf-f4cc-4579-9642-425d0a654dfd",SiteURL:"",Description:"Permission based Authorization and Authentication project.",Category:"Authorization, Authentication, .NetCore 3.0",GitHubURL:"https://github.com/kishanjsk/IdentityWithPermissions",Date:"JAN-2021 AUG-2021"},{Name:"WebAPI-HttpCalling-Framework",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FWebAPIHttpCallingFramework.png?alt=media&token=618e0ef9-04a3-4561-9c4e-f191fa095630",SiteURL:"",Description:"WebAPI HttPClient APi calling framework developed",Category:"WebAPI, .NetCore 3.0",GitHubURL:"https://github.com/kishanjsk/WebAPI-HttpCalling-Framework",Date:"JAN-2020 AUG-2020"},{Name:"DataExportClass",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FDataExportClass.jpg?alt=media&token=a4de6b39-3926-453b-b15a-9c0ac5508196",SiteURL:"",Description:"Data Export Class created for the ",Category:".Net Framework",GitHubURL:"https://github.com/kishanjsk/DataExportClass",Date:"JAN-2018 AUG-2018"},{Name:"Local Order Cart",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FLocalOrderCart.jpg?alt=media&token=b0550f3b-46be-473c-824b-c3bc8a24e8b1",SiteURL:"http://localordercart.com/",Description:"Best way to shop from local store while still maintaining social distancing!! Install the app to experience ease of shopping goods and groceries from your nearest local stores. The customer will place order on the app from home and the merchant will schedule one-time-pickup at a rush-free hour or deliver at doorstep if delivery options facilitated by the merchant. The app keeps you away from the risk of standing in long queues and ensures safety of the merchant as well as his customers.",Category:"IONIC with Angular",GitHubURL:"",Date:"JAN-2019 AUG-2020"},{Name:"Book My Calender",ImageURL:"https://firebasestorage.googleapis.com/v0/b/kishan-parmar-44133.appspot.com/o/Images%2FBookMyCalender.jpg?alt=media&token=c096fd49-e5ab-48f6-af65-7fb9665da6ce",SiteURL:"https://bookmycalendar.online/",Description:"Manage all appointments through one simple, clean calendar system to give your business the freedom to grow.",Category:".Net Framework 4.6",GitHubURL:"",Date:"JAN-2020 AUG-2020"}],b=[{Degree:"B.E. Computer engineering",Details:"I have completed the bachlor of engineering with Computer engineering from Gandhinagar Institute of technology with passing year 2014",TimePeriod:"Aug 2010 - June-2014",University:"Gandhinagar Institute of Technology"},{Degree:"Gujarat Higher Secondary Education Board",Details:"Completed my HSC with Distinction in march 2010",TimePeriod:"2010",University:"Gujarat State Education Board"},{Degree:"Gujarat Secondary Education Board",Details:"Completed my HSC with Distinction in march 2010",TimePeriod:"2008",University:"Gujarat State Education Board"}];var D=this;this.profileDb.query.once("value").then(function(S){null==S.val()?(D.profileDb.set(a),D.profile=a):D.profile=S.val()}),this.infoDb.query.once("value").then(function(S){null==S.val()?(D.infoDb.set(i),D.info=i):D.info=S.val()}),this.educationDb.query.once("value").then(function(S){console.log(S.val()),null==S.val()?b.forEach(x=>{D.educationDb.push(x),D.education.push(x)}):D.education=S.val()}),this.portfolioDb.query.once("value").then(function(S){null==S.val()?y.forEach(x=>{D.portfolioDb.push(x),D.portfolio.push(x)}):S.forEach(function(x){D.portfolio.push(x.val())})}),this.servicesDb.query.once("value").then(function(S){console.log("services datasnapshot",S.val()),null==S.val()?c.forEach(x=>{D.servicesDb.push(x),D.services.push(x)}):S.forEach(function(x){console.log("services childSnapshot",x.val()),D.services.push(x.val())})}),this.experienceDb.query.once("value").then(function(S){console.log("datasnapshot",S.val()),null==S.val()?f.forEach(x=>{D.experienceDb.push(x),D.experiences.push(x)}):S.forEach(function(x){console.log("childSnapshot",x.val()),D.experiences.push(x.val())})})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Jd),_.LFG(__))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sw=(()=>{class t{constructor(i){this.http=i,this.projects=[],this.loadProjects()}loadProjects(){this.http.get("./assets/data/portfolio-tem-projects_idx-export.json").subscribe(i=>{this.projects=i})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Jd))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function If(){return t=>t.lift(new BI)}class BI{call(e,i){return i.subscribe(new HI(e))}}class HI extends Vr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let i;this.hasPrev?i=[this.prev,e]:this.hasPrev=!0,this.prev=e,i&&this.destination.next(i)}}var am=$(6232),Lh=function(t,e){return(Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])})(t,e)};function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}Lh(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function xe(t,e,i,a){return new(i||(i=Promise))(function(f,y){function b(x){try{S(a.next(x))}catch(R){y(R)}}function D(x){try{S(a.throw(x))}catch(R){y(R)}}function S(x){x.done?f(x.value):function(f){return f instanceof i?f:new i(function(y){y(f)})}(x.value).then(b,D)}S((a=a.apply(t,e||[])).next())})}function Re(t,e){var a,c,f,y,i={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return y={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function b(S){return function(x){return function(S){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,c&&(f=2&S[0]?c.return:S[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,S[1])).done)return f;switch(c=0,f&&(S=[2&S[0],f.value]),S[0]){case 0:case 1:f=S;break;case 4:return i.label++,{value:S[1],done:!1};case 5:i.label++,c=S[1],S=[0];continue;case 7:S=i.ops.pop(),i.trys.pop();continue;default:if(!(f=(f=i.trys).length>0&&f[f.length-1])&&(6===S[0]||2===S[0])){i=0;continue}if(3===S[0]&&(!f||S[1]>f[0]&&S[1]<f[3])){i.label=S[1];break}if(6===S[0]&&i.label<f[1]){i.label=f[1],f=S;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(S);break}f[2]&&i.ops.pop(),i.trys.pop();continue}S=e.call(t,i)}catch(x){S=[6,x],c=0}finally{a=f=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,x])}}}function bn(t,e,i){if(i||2===arguments.length)for(var f,a=0,c=e.length;a<c;a++)(f||!(a in e))&&(f||(f=Array.prototype.slice.call(e,0,a)),f[a]=e[a]);return t.concat(f||Array.prototype.slice.call(e))}var cn=$(3701),$c=$(300),fm=function(t,e){return(fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])})(t,e)};function dm(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var at,KI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hm=hm||{},St=KI||self;function jh(){}function w_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Vh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E_="closure_uid_"+(1e9*Math.random()>>>0),QI=0;function ZI(t,e,i){return t.call.apply(t.bind,arguments)}function YI(t,e,i){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function ni(t,e,i){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZI:YI).apply(null,arguments)}function pm(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function xr(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(a,c,f){for(var y=Array(arguments.length-2),b=2;b<arguments.length;b++)y[b-2]=arguments[b];return e.prototype[c].apply(a,y)}}function pn(){this.s=this.s,this.o=this.o}var JA={};pn.prototype.s=!1,pn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,E_)&&t[E_]||(t[E_]=++QI)}(this);delete JA[t]}},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var js=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},gm=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var a=t.length,c="string"==typeof t?t.split(""):t,f=0;f<a;f++)f in c&&e.call(i,c[f],f,t)};function JI(t){return Array.prototype.concat.apply([],arguments)}function I_(t){var e=t.length;if(0<e){for(var i=Array(e),a=0;a<e;a++)i[a]=t[a];return i}return[]}function mm(t){return/^[\s\xa0]*$/.test(t)}var ii,T_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ri(t,e){return-1!=t.indexOf(e)}function ym(t,e){return t<e?-1:t>e?1:0}e:{var Mw=St.navigator;if(Mw){var Nw=Mw.userAgent;if(Nw){ii=Nw;break e}}ii=""}function Wc(t,e,i){for(var a in t)e.call(i,t[a],a,t)}function vm(t){var e={};for(var i in t)e[i]=t[i];return e}var S_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A_(t,e){for(var i,a,c=1;c<arguments.length;c++){for(i in a=arguments[c])t[i]=a[i];for(var f=0;f<S_.length;f++)i=S_[f],Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}}function _m(t){return _m[" "](t),t}_m[" "]=jh;var bm,t,XI=ri(ii,"Opera"),Sf=ri(ii,"Trident")||ri(ii,"MSIE"),Fw=ri(ii,"Edge"),O_=Fw||Sf,x_=ri(ii,"Gecko")&&!(ri(ii.toLowerCase(),"webkit")&&!ri(ii,"Edge"))&&!(ri(ii,"Trident")||ri(ii,"MSIE"))&&!ri(ii,"Edge"),XA=ri(ii.toLowerCase(),"webkit")&&!ri(ii,"Edge");function P_(){var t=St.document;return t?t.documentMode:void 0}e:{var R_="",Lw=(t=ii,x_?/rv:([^\);]+)(\)|;)/.exec(t):Fw?/Edge\/([\d\.]+)/.exec(t):Sf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):XA?/WebKit\/(\S+)/.exec(t):XI?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Lw&&(R_=Lw?Lw[1]:""),Sf){var Uw=P_();if(null!=Uw&&Uw>parseFloat(R_)){bm=String(Uw);break e}}bm=R_}var M_={};function eT(){return e=M_,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=T_(String(bm)).split("."),i=T_("9").split("."),a=Math.max(e.length,i.length),c=0;0==t&&c<a;c++){var f=e[c]||"",y=i[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;t=ym(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||ym(0==f[2].length,0==y[2].length)||ym(f[2],y[2]),f=f[3],y=y[3]}while(0==t)}return 0<=t}();var e}var e1=St.document&&Sf&&(P_()||parseInt(bm,10))||void 0,ss=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{St.addEventListener("test",jh,e),St.removeEventListener("test",jh,e)}catch(i){}return t}();function Ii(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Em(t,e){if(Ii.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(x_){e:{try{_m(e.nodeName);var c=!0;break e}catch(f){}c=!1}c||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:t1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Em.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},xr(Em,Ii);var t1={2:"touch",3:"pen",4:"mouse"};Em.prototype.h=function(){Em.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Af="closure_listenable_"+(1e6*Math.random()|0),jw=0;function Vw(t,e,i,a,c){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++jw,this.ca=this.fa=!1}function Cm(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function k_(t){this.src=t,this.g={},this.h=0}function Dm(t,e){var i=e.type;if(i in t.g){var f,a=t.g[i],c=js(a,e);(f=0<=c)&&Array.prototype.splice.call(a,c,1),f&&(Cm(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function Im(t,e,i,a){for(var c=0;c<t.length;++c){var f=t[c];if(!f.ca&&f.listener==e&&f.capture==!!i&&f.ia==a)return c}return-1}k_.prototype.add=function(t,e,i,a,c){var f=t.toString();(t=this.g[f])||(t=this.g[f]=[],this.h++);var y=Im(t,e,a,c);return-1<y?(e=t[y],i||(e.fa=!1)):((e=new Vw(e,this.src,f,!!a,c)).fa=i,t.push(e)),e};var F_="closure_lm_"+(1e6*Math.random()|0),Bh={};function Bw(t,e,i,a,c){if(a&&a.once)return Gw(t,e,i,a,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Bw(t,e[f],i,a,c);return null}return i=zc(i),t&&t[Af]?t.N(e,i,Vh(a)?!!a.capture:!!a,c):Hw(t,e,i,!1,a,c)}function Hw(t,e,i,a,c,f){if(!e)throw Error("Invalid event type");var y=Vh(c)?!!c.capture:!!c,b=Tm(t);if(b||(t[F_]=b=new k_(t)),(i=b.add(e,i,a,y,f)).proxy)return i;if(a=function(){var e=Of;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=a,a.src=t,a.listener=i,t.addEventListener)ss||(c=y),void 0===c&&(c=!1),t.addEventListener(e.toString(),a,c);else if(t.attachEvent)t.attachEvent(Hh(e.toString()),a);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(a)}return i}function Gw(t,e,i,a,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Gw(t,e[f],i,a,c);return null}return i=zc(i),t&&t[Af]?t.O(e,i,Vh(a)?!!a.capture:!!a,c):Hw(t,e,i,!0,a,c)}function qw(t,e,i,a,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)qw(t,e[f],i,a,c);else a=Vh(a)?!!a.capture:!!a,i=zc(i),t&&t[Af]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=Im(f=t.g[e],i,a,c))&&(Cm(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete t.g[e],t.h--))):t&&(t=Tm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Im(e,i,a,c)),(i=-1<t?e[t]:null)&&L_(i))}function L_(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Af])Dm(e.i,t);else{var i=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(i,a,t.capture):e.detachEvent?e.detachEvent(Hh(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Tm(e))?(Dm(i,t),0==i.h&&(i.src=null,e[F_]=null)):Cm(t)}}}function Hh(t){return t in Bh?Bh[t]:Bh[t]="on"+t}function Of(t,e){if(t.ca)t=!0;else{e=new Em(e,this);var i=t.listener,a=t.ia||t.src;t.fa&&L_(t),t=i.call(a,e)}return t}function Tm(t){return(t=t[F_])instanceof k_?t:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function zc(t){return"function"==typeof t?t:(t[go]||(t[go]=function(e){return t.handleEvent(e)}),t[go])}function Pr(){pn.call(this),this.i=new k_(this),this.P=this,this.I=null}function Hr(t,e){var i,a=t.I;if(a)for(i=[];a;a=a.I)i.push(a);if(t=t.P,a=e.type||e,"string"==typeof e)e=new Ii(e,t);else if(e instanceof Ii)e.target=e.target||t;else{var c=e;A_(e=new Ii(a,t),c)}if(c=!0,i)for(var f=i.length-1;0<=f;f--){var y=e.g=i[f];c=xf(y,a,!0,e)&&c}if(c=xf(y=e.g=t,a,!0,e)&&c,c=xf(y,a,!1,e)&&c,i)for(f=0;f<i.length;f++)c=xf(y=e.g=i[f],a,!1,e)&&c}function xf(t,e,i,a){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var y=e[f];if(y&&!y.ca&&y.capture==i){var b=y.listener,D=y.ia||y.src;y.fa&&Dm(t.i,y),c=!1!==b.call(D,a)&&c}}return c&&!a.defaultPrevented}xr(Pr,pn),Pr.prototype[Af]=!0,Pr.prototype.removeEventListener=function(t,e,i,a){qw(this,t,e,i,a)},Pr.prototype.M=function(){if(Pr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],a=0;a<i.length;a++)Cm(i[a]);delete t.g[e],t.h--}}this.I=null},Pr.prototype.N=function(t,e,i,a){return this.i.add(String(t),e,!1,i,a)},Pr.prototype.O=function(t,e,i,a){return this.i.add(String(t),e,!0,i,a)};var Ro=St.JSON.stringify;function Gh(){var t=Kc,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Fu,oi=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,i){var a=ku.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a},t}(),ku=new(function(){function t(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new Sm},function(t){return t.reset()}),Sm=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Mo(t){St.setTimeout(function(){throw t},0)}function qh(t,e){Fu||function(){var t=St.Promise.resolve(void 0);Fu=function(){t.then(Rf)}}(),Lu||(Fu(),Lu=!0),Kc.add(t,e)}var Lu=!1,Kc=new oi;function Rf(){for(var t;t=Gh();){try{t.h.call(t.g)}catch(i){Mo(i)}var e=ku;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lu=!1}function xa(t,e){Pr.call(this),this.h=t||1,this.g=e||St,this.j=ni(this.kb,this),this.l=Date.now()}function Uu(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ju(t,e,i){if("function"==typeof t)i&&(t=ni(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ni(t.handleEvent,t)}return 2147483647<Number(e)?-1:St.setTimeout(t,e||0)}function Qc(t){t.g=ju(function(){t.g=null,t.i&&(t.i=!1,Qc(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}xr(xa,Pr),(at=xa.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hr(this,"tick"),this.da&&(Uu(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){xa.Z.M.call(this),Uu(this),delete this.g};var $w=function(t){function e(i,a){var c=t.call(this)||this;return c.m=i,c.j=a,c.h=null,c.i=!1,c.g=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}fm(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:Qc(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(pn);function Mf(t){pn.call(this),this.h=t,this.g={}}xr(Mf,pn);var U_=[];function j_(t,e,i,a){Array.isArray(i)||(i&&(U_[0]=i.toString()),i=U_);for(var c=0;c<i.length;c++){var f=Bw(e,i[c],a||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}}function V_(t){Wc(t.g,function(e,i){this.g.hasOwnProperty(i)&&L_(e)},t),t.g={}}function $h(){this.g=!0}function Zc(t,e,i,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var a=i[t];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var y=1;y<c.length;y++)c[y]=""}}}return Ro(i)}catch(b){return e}}(t,i)+(a?" "+a:"")})}Mf.prototype.M=function(){Mf.Z.M.call(this),V_(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$h.prototype.Aa=function(){this.g=!1},$h.prototype.info=function(){};var Yc={},Qw=null;function Wh(){return Qw=Qw||new Pr}function Zw(t){Ii.call(this,Yc.Ma,t)}function Am(t){var e=Wh();Hr(e,new Zw(e,t))}function Yw(t,e){Ii.call(this,Yc.STAT_EVENT,t),this.stat=e}function si(t){var e=Wh();Hr(e,new Yw(e,t))}function Jw(t,e){Ii.call(this,Yc.Na,t),this.size=e}function Nf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){t()},e)}Yc.Ma="serverreachability",xr(Zw,Ii),Yc.STAT_EVENT="statevent",xr(Yw,Ii),Yc.Na="timingevent",xr(Jw,Ii);var Om={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eE(){}function B_(){}eE.prototype.h=null;var H_,xm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nE(){Ii.call(this,"d")}function rE(){Ii.call(this,"c")}function G_(){}function zh(t,e,i,a){this.l=t,this.j=e,this.m=i,this.X=a||1,this.V=new Mf(this),this.P=q_,this.W=new xa(t=O_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iE}function iE(){this.i=null,this.g="",this.h=!1}xr(nE,Ii),xr(rE,Ii),xr(G_,eE),G_.prototype.g=function(){return new XMLHttpRequest},G_.prototype.i=function(){return{}},H_=new G_;var q_=45e3,Kh={},Pm={};function oE(t,e,i){t.K=1,t.v=z_(Ra(e)),t.s=i,t.U=!0,rT(t,null)}function rT(t,e){t.F=Date.now(),Rm(t),t.A=Ra(t.v);var i=t.A,a=t.X;Array.isArray(a)||(a=[String(a)]),X_(i.h,"t",a),t.C=0,i=t.l.H,t.h=new iE,t.g=$m(t.l,i?e:null,!t.s),0<t.O&&(t.L=new $w(ni(t.Ia,t,t.g),t.O)),j_(t.V,t.g,"readystatechange",t.gb),e=t.H?vm(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Am(1),function(t,e,i,a,c,f){t.info(function(){if(t.g)if(f)for(var y="",b=f.split("&"),D=0;D<b.length;D++){var S=b[D].split("=");if(1<S.length){var x=S[0];S=S[1];var R=x.split("_");y=2<=R.length&&"type"==R[1]?y+(x+"=")+S+"&":y+(x+"=redacted&")}}else y=null;else y=f;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+y})}(t.j,t.u,t.A,t.m,t.X,t.s)}function iT(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function sE(t,e,i){for(var c,a=!0;!t.I&&t.C<i.length;){if((c=aE(t,i))==Pm){4==e&&(t.o=4,si(14),a=!1),Zc(t.j,t.m,null,"[Incomplete Response]");break}if(c==Kh){t.o=4,si(15),Zc(t.j,t.m,i,"[Invalid Chunk]"),a=!1;break}Zc(t.j,t.m,c,null),$_(t,c)}iT(t)&&c!=Pm&&c!=Kh&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,si(16),a=!1),t.i=t.i&&a,a?0<i.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),mo(e),e.L=!0,si(11))):(Zc(t.j,t.m,i,"[Invalid Chunked Response]"),Vu(t),Qh(t))}function aE(t,e){var i=t.C,a=e.indexOf("\n",i);return-1==a?Pm:(i=Number(e.substring(i,a)),isNaN(i)?Kh:(a+=1)+i>e.length?Pm:(e=e.substr(a,i),t.C=a+i,e))}function Rm(t){t.Y=Date.now()+t.P,uE(t,t.P)}function uE(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Nf(ni(t.eb,t),e)}function Pa(t){t.B&&(St.clearTimeout(t.B),t.B=null)}function Qh(t){0==t.l.G||t.I||hb(t.l,t)}function Vu(t){Pa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Uu(t.W),V_(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $_(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||ib(i.i,t)))if(i.I=t.N,!t.J&&ib(i.i,t)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(Ie){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Nf(ni(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<t.F))break e;ep(i),Xh(i)}No(i),si(18)}if(1>=rb(i.i)&&i.ka){try{i.ka()}catch(Ie){}i.ka=void 0}}else nl(i,11)}else if((t.J||i.g==t)&&ep(i),!mm(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){var f=c[e];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var y=f[3];null!=y&&(i.ma=y,i.h.info("VER="+i.ma));var b=f[4];null!=b&&(i.za=b,i.h.info("SVER="+i.za));var D=f[5];null!=D&&"number"==typeof D&&0<D&&(i.K=a=1.5*D,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;var S=t.g;if(S){var x=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var R=a.i;!R.g&&(ri(x,"spdy")||ri(x,"quic")||ri(x,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(Um(R,R.h),R.h=null))}if(a.D){var L=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(a.sa=L,An(a.F,a.D,L))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var q=t;if((a=i).oa=DE(a,a.H?a.la:null,a.W),q.J){ob(a.i,q);var K=q,ie=a.K;ie&&K.setTimeout(ie),K.B&&(Pa(K),Rm(K)),a.g=q}else db(a);0<i.l.length&&lb(i)}else"stop"!=f[0]&&"close"!=f[0]||nl(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?nl(i,7):cb(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Am(4)}catch(Ie){}}function kf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(w_(t)||"string"==typeof t)gm(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if(w_(t)||"string"==typeof t){i=[];for(var a=t.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,t)i[a++]=c;c=(a=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(w_(t)){for(var e=[],i=t.length,a=0;a<i;a++)e.push(t[a]);return e}for(a in e=[],i=0,t)e[i++]=t[a];return e}(t)).length;for(var f=0;f<c;f++)e.call(void 0,a[f],i&&i[f],t)}}function Ff(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(t)if(t instanceof Ff)for(i=t.T(),a=0;a<i.length;a++)this.set(i[a],t.get(i[a]));else for(a in t)this.set(a,t[a])}function Mm(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var a=t.g[e];Jc(t.h,a)&&(t.g[i++]=a),e++}t.g.length=i}if(t.i!=t.g.length){var c={};for(i=e=0;e<t.g.length;)Jc(c,a=t.g[e])||(t.g[i++]=a,c[a]=1),e++;t.g.length=i}}function Jc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(at=zh.prototype).setTimeout=function(t){this.P=t},at.gb=function(t){t=t.target;var e=this.L;e&&3==Vs(t)?e.l():this.Ia(t)},at.Ia=function(t){try{if(t==this.g)e:{var e=Vs(this.g),i=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||O_||this.g&&(this.h.h||this.g.ga()||mE(this.g)))){this.I||4!=e||7==i||Am(8==i||0>=a?3:2),Pa(this);var c=this.g.ba();this.N=c;t:if(iT(this)){var f=mE(this.g);t="";var y=f.length,b=4==Vs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vu(this),Qh(this);var D="";break t}this.h.i=new St.TextDecoder}for(i=0;i<y;i++)this.h.h=!0,t+=this.h.i.decode(f[i],{stream:b&&i==y-1});f.splice(0,y),this.h.g+=t,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function(t,e,i,a,c,f,y){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+f+" "+y})}(this.j,this.u,this.A,this.m,this.X,e,c),this.i){if(this.$&&!this.J){t:{if(this.g){var S,x=this.g;if((S=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mm(S)){var R=S;break t}}R=null}if(!(c=R)){this.i=!1,this.o=3,si(12),Vu(this),Qh(this);break e}Zc(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$_(this,c)}this.U?(sE(this,e,D),O_&&this.i&&3==e&&(j_(this.V,this.W,"tick",this.fb),this.W.start())):(Zc(this.j,this.m,D,null),$_(this,D)),4==e&&Vu(this),this.i&&!this.I&&(4==e?hb(this.l,this):(this.i=!1,Rm(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,si(12)):(this.o=0,si(13)),Vu(this),Qh(this)}}}catch(L){}},at.fb=function(){if(this.g){var t=Vs(this.g),e=this.g.ga();this.C<e.length&&(Pa(this),sE(this,t,e),this.i&&4!=t&&Rm(this))}},at.cancel=function(){this.I=!0,Vu(this)},at.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Am(3),si(17)),Vu(this),this.o=2,Qh(this)):uE(this,this.Y-t)},(at=Ff.prototype).R=function(){Mm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},at.T=function(){return Mm(this),this.g.concat()},at.get=function(t,e){return Jc(this.h,t)?this.h[t]:e},at.set=function(t,e){Jc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},at.forEach=function(t,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],f=this.get(c);t.call(e,f,c,this)}};var lE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xc){this.g=void 0!==e?e:t.g,Zh(this,t.j),this.s=t.s,Nm(this,t.i),Yh(this,t.m),this.l=t.l,e=t.h;var i=new Lf;i.i=e.i,e.g&&(i.g=new Ff(e.g),i.h=e.h),W_(this,i),this.o=t.o}else t&&(i=String(t).match(lE))?(this.g=!!e,Zh(this,i[1]||"",!0),this.s=km(i[2]||""),Nm(this,i[3]||"",!0),Yh(this,i[4]),this.l=km(i[5]||"",!0),W_(this,i[6]||"",!0),this.o=km(i[7]||"")):(this.g=!!e,this.h=new Lf(null,this.g))}function Ra(t){return new Xc(t)}function Zh(t,e,i){t.j=i?km(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nm(t,e,i){t.i=i?km(e,!0):e}function Yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function W_(t,e,i){e instanceof Lf?(t.h=e,function(t,e){e&&!t.j&&(el(t),t.i=null,t.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(fE(this,a),X_(this,c,i))},t)),t.j=e}(t.h,t.g)):(i||(e=Ma(e,Z_)),t.h=new Lf(e,t.g))}function An(t,e,i){t.h.set(e,i)}function z_(t){return An(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function km(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ma(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,aT),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aT(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ma(e,Fm,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ma(e,Fm,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(Ma(i,"/"==i.charAt(0)?uT:Q_,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",Ma(i,Y_)),t.join("")};var Fm=/[#\/\?@]/g,Q_=/[#\?:]/g,uT=/[#\?]/g,Z_=/[#\?@]/g,Y_=/#/g;function Lf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function el(t){t.g||(t.g=new Ff,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var a=t[i].indexOf("="),c=null;if(0<=a){var f=t[i].substring(0,a);c=t[i].substring(a+1)}else f=t[i];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function fE(t,e){el(t),e=Uf(t,e),Jc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Jc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Mm(t)))}function J_(t,e){return el(t),e=Uf(t,e),Jc(t.g.h,e)}function X_(t,e,i){fE(t,e),0<i.length&&(t.i=null,t.g.set(Uf(t,e),I_(i)),t.h+=i.length)}function Uf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(at=Lf.prototype).add=function(t,e){el(this),this.i=null,t=Uf(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},at.forEach=function(t,e){el(this),this.g.forEach(function(i,a){gm(i,function(c){t.call(e,c,a,this)},this)},this)},at.T=function(){el(this);for(var t=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=t[a],f=0;f<c.length;f++)i.push(e[a]);return i},at.R=function(t){el(this);var e=[];if("string"==typeof t)J_(this,t)&&(e=JI(e,this.g.get(Uf(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=JI(e,t[i])}return e},at.set=function(t,e){return el(this),this.i=null,J_(this,t=Uf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},at.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var y=c;""!==a[f]&&(y+="="+encodeURIComponent(String(a[f]))),t.push(y)}}return this.i=t.join("&")};var eb=function(e,i){this.h=e,this.g=i};function tb(t){this.l=t||nb,t=St.PerformanceNavigationTiming?0<(t=St.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nb=10;function Lm(t){return!!t.h||!!t.g&&t.g.size>=t.j}function rb(t){return t.h?1:t.g?t.g.size:0}function ib(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Um(t,e){t.g?t.g.add(e):t.h=e}function ob(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jm(t){var e,i;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var a=t.i;try{for(var c=dm(t.g.values()),f=c.next();!f.done;f=c.next())a=a.concat(f.value.D)}catch(b){e={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return a}return I_(t.i)}function Vm(){}function lT(){this.g=new Vm}function fT(t,e,i){var a=i||"";try{kf(t,function(c,f){var y=c;Vh(c)&&(y=Ro(c)),e.push(a+f+"="+encodeURIComponent(y))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function jf(t,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(f){}}function tl(t){this.l=t.$b||null,this.j=t.ib||!1}function Jh(t,e){Pr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tb.prototype.cancel=function(){var t,e;if(this.i=jm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=dm(this.g.values()),a=i.next();!a.done;a=i.next())a.value.cancel()}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.g.clear()}},Vm.prototype.stringify=function(t){return St.JSON.stringify(t,void 0)},Vm.prototype.parse=function(t){return St.JSON.parse(t,void 0)},xr(tl,eE),tl.prototype.g=function(){return new Jh(this.l,this.j)},tl.prototype.i=function(t){return function(){return t}}({}),xr(Jh,Pr);var Bm=0;function sb(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bf(t)}function Bf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(at=Jh.prototype).open=function(t,e){if(this.readyState!=Bm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bf(this)},at.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vf(this)),this.readyState=Bm},at.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bf(this)),this.g&&(this.readyState=3,Bf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==St.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sb(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vf(this):Bf(this),3==this.readyState&&sb(this)}},at.Ua=function(t){this.g&&(this.response=this.responseText=t,Vf(this))},at.Ta=function(t){this.g&&(this.response=t,Vf(this))},at.ha=function(){this.g&&Vf(this)},at.setRequestHeader=function(t,e){this.v.append(t,e)},at.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),i=e.next();!i.done;)t.push((i=i.value)[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var dE=St.JSON.parse;function ar(t){Pr.call(this),this.headers=new Ff,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ab,this.K=this.L=!1}xr(ar,Pr);var ab="",n1=/^https?$/i,hT=["POST","PUT"];function hE(t){return"content-type"==t.toLowerCase()}function pE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hr(t),Hm(t)}function hr(t){t.D||(t.D=!0,Hr(t,"complete"),Hr(t,"error"))}function ub(t){if(t.h&&void 0!==hm&&(!t.C[1]||4!=Vs(t)||2!=t.ba()))if(t.v&&4==Vs(t))ju(t.Fa,0,t);else if(Hr(t,"readystatechange"),4==Vs(t)){t.h=!1;try{var a,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(a=i)){var c;if(c=0===e){var f=String(t.H).match(lE)[1]||null;if(!f&&St.self&&St.self.location){var y=St.self.location.protocol;f=y.substr(0,y.length-1)}c=!n1.test(f?f.toLowerCase():"")}a=c}if(a)Hr(t,"complete"),Hr(t,"success");else{t.m=6;try{var b=2<Vs(t)?t.g.statusText:""}catch(D){b=""}t.j=b+" ["+t.ba()+"]",hr(t)}}finally{Hm(t)}}}function Hm(t,e){if(t.g){gE(t);var i=t.g,a=t.C[0]?jh:null;t.g=null,t.C=null,e||Hr(t,"ready");try{i.onreadystatechange=a}catch(c){}}}function gE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(St.clearTimeout(t.A),t.A=null)}function Vs(t){return t.g?t.g.readyState:0}function mE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ab:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Gm(t,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(t){var e="";return Wc(t,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):An(t,e,i))}function Bs(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function vE(t){this.za=0,this.l=[],this.h=new $h,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bs("baseRetryDelayMs",5e3,t),this.$a=Bs("retryDelaySeedMs",1e4,t),this.Ya=Bs("forwardChannelMaxRetries",2,t),this.ra=Bs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new tb(t&&t.concurrentRequestLimit),this.Ca=new lT,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function cb(t){if(_E(t),3==t.G){var e=t.V++,i=Ra(t.F);An(i,"SID",t.J),An(i,"RID",e),An(i,"TYPE","terminate"),qi(t,i),(e=new zh(t,t.h,e,void 0)).K=2,e.v=z_(Ra(i)),i=!1,St.navigator&&St.navigator.sendBeacon&&(i=St.navigator.sendBeacon(e.v.toString(),"")),!i&&St.Image&&((new Image).src=e.v,i=!0),i||(e.g=$m(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Rm(e)}CE(t)}function Xh(t){t.g&&(mo(t),t.g.cancel(),t.g=null)}function _E(t){Xh(t),t.u&&(St.clearTimeout(t.u),t.u=null),ep(t),t.i.cancel(),t.m&&("number"==typeof t.m&&St.clearTimeout(t.m),t.m=null)}function qm(t,e){t.l.push(new eb(t.Za++,e)),3==t.G&&lb(t)}function lb(t){Lm(t.i)||t.m||(t.m=!0,qh(t.Ha,t),t.C=0)}function fb(t,e){var i;i=e?e.m:t.V++;var a=Ra(t.F);An(a,"SID",t.J),An(a,"RID",i),An(a,"AID",t.U),qi(t,a),t.o&&t.s&&Gm(a,t.o,t.s),i=new zh(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=wE(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Um(t.i,i),oE(i,a,e)}function qi(t,e){t.j&&kf({},function(i,a){An(e,a,i)})}function wE(t,e,i){i=Math.min(t.l.length,i);var a=t.j?ni(t.j.Oa,t.j,t):null;e:for(var c=t.l,f=-1;;){var y=["count="+i];-1==f?0<i?y.push("ofs="+(f=c[0].h)):f=0:y.push("ofs="+f);for(var b=!0,D=0;D<i;D++){var S=c[D].h,x=c[D].g;if(0>(S-=f))f=Math.max(0,c[D].h-100),b=!1;else try{fT(x,y,"req"+S+"_")}catch(R){a&&a(x)}}if(b){a=y.join("&");break e}}return t=t.l.splice(0,i),e.D=t,a}function db(t){t.g||t.u||(t.Y=1,qh(t.Ga,t),t.A=0)}function No(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Nf(ni(t.Ga,t),EE(t,t.A)),t.A++,0))}function mo(t){null!=t.B&&(St.clearTimeout(t.B),t.B=null)}function ko(t){t.g=new zh(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ra(t.oa);An(e,"RID","rpc"),An(e,"SID",t.J),An(e,"CI",t.N?"0":"1"),An(e,"AID",t.U),qi(t,e),An(e,"TYPE","xmlhttp"),t.o&&t.s&&Gm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=z_(Ra(e)),i.s=null,i.U=!0,rT(i,t)}function ep(t){null!=t.v&&(St.clearTimeout(t.v),t.v=null)}function hb(t,e){var i=null;if(t.g==e){ep(t),mo(t),t.g=null;var a=2}else{if(!ib(t.i,e))return;i=e.D,ob(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=t.C;Hr(a=Wh(),new Jw(a,i,e,c)),lb(t)}else db(t);else if(3==(c=e.o)||0==c&&0<t.I||!(1==a&&function(t,e){return!(rb(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Nf(ni(t.Ha,t,e),EE(t,t.C)),t.C++,0)))}(t,e)||2==a&&No(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),c){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}function EE(t,e){var i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function nl(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var a=ni(t.jb,t);i||(i=new Xc("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||Zh(i,"https"),z_(i)),function(t,e){var i=new $h;if(St.Image){var a=new Image;a.onload=pm(jf,i,a,"TestLoadImage: loaded",!0,e),a.onerror=pm(jf,i,a,"TestLoadImage: error",!1,e),a.onabort=pm(jf,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=pm(jf,i,a,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}(i.toString(),a)}else si(2);t.G=0,t.j&&t.j.va(e),CE(t),_E(t)}function CE(t){t.G=0,t.I=-1,t.j&&((0!=jm(t.i).length||0!=t.l.length)&&(t.i.i.length=0,I_(t.l),t.l.length=0),t.j.ua())}function DE(t,e,i){var a=function(t){return t instanceof Xc?Ra(t):new Xc(t,void 0)}(i);if(""!=a.i)e&&Nm(a,e+"."+a.i),Yh(a,a.m);else{var c=St.location;a=function(t,e,i,a){var c=new Xc(null,void 0);return t&&Zh(c,t),e&&Nm(c,e),i&&Yh(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return t.aa&&Wc(t.aa,function(f,y){An(a,y,f)}),i=t.sa,(e=t.D)&&i&&An(a,e,i),An(a,"VER",t.ma),qi(t,a),a}function $m(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(i&&t.Ba&&!t.qa?new tl({ib:!0}):t.qa)).L=t.H,e}function Hf(){}function Wm(){if(Sf&&!(10<=Number(e1)))throw Error("Environmental error: no available transport.")}function $i(t,e){Pr.call(this),this.g=new vE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!mm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mm(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new rl(this)}function IE(t){nE.call(this);var e=t.__sm__;if(e){e:{for(var i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function pb(){rE.call(this),this.status=1}function rl(t){this.g=t}(at=ar.prototype).ea=function(t,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H_.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:H_),this.g.onreadystatechange=ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(f){return void pE(this,f)}t=i||"";var c=new Ff(this.headers);a&&kf(a,function(f,y){c.set(y,f)}),a=function(t){e:{for(var e=hE,i=t.length,a="string"==typeof t?t.split(""):t,c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,t)){e=c;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(c.T()),i=St.FormData&&t instanceof St.FormData,!(0<=js(hT,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,y){this.g.setRequestHeader(y,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gE(this),0<this.B&&((this.K=function(t){return Sf&&eT()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.pa,this)):this.A=ju(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(f){pE(this,f)}},at.pa=function(){void 0!==hm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},at.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Hr(this,"complete"),Hr(this,"abort"),Hm(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hm(this,!0)),ar.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?ub(this):this.cb())},at.cb=function(){ub(this)},at.ba=function(){try{return 2<Vs(this)?this.g.status:-1}catch(t){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},at.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dE(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=vE.prototype).ma=8,at.G=1,at.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},at.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new zh(this,this.h,t,void 0),i=this.s;if(this.P&&(i?A_(i=vm(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var a=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(a+=f)){a=c;break e}if(4096===a||c===this.l.length-1){a=c+1;break e}}a=1e3}else a=1e3;a=wE(this,e,a),An(c=Ra(this.F),"RID",t),An(c,"CVER",22),this.D&&An(c,"X-HTTP-Session-Id",this.D),qi(this,c),this.o&&i&&Gm(c,this.o,i),Um(this.i,e),this.Ra&&An(c,"TYPE","init"),this.ja?(An(c,"$req",a),An(c,"SID","null"),e.$=!0,oE(e,c,null)):oE(e,c,a),this.G=2}}else 3==this.G&&(t?fb(this,t):0==this.l.length||Lm(this.i)||fb(this))},at.Ga=function(){if(this.u=null,ko(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Nf(ni(this.bb,this),t)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,si(10),Xh(this),ko(this))},at.ab=function(){null!=this.v&&(this.v=null,Xh(this),No(this),si(19))},at.jb=function(t){t?(this.h.info("Successfully pinged google.com"),si(2)):(this.h.info("Failed to ping google.com"),si(1))},(at=Hf.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Wm.prototype.g=function(t,e){return new $i(t,e)},xr($i,Pr),$i.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),qh(ni(t.hb,t,e))),si(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=DE(t,null,t.W),lb(t)},$i.prototype.close=function(){cb(this.g)},$i.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,qm(this.g,e)}else this.v?((e={}).__data__=Ro(t),qm(this.g,e)):qm(this.g,t)},$i.prototype.M=function(){this.g.j=null,delete this.j,cb(this.g),delete this.g,$i.Z.M.call(this)},xr(IE,nE),xr(pb,rE),xr(rl,Hf),rl.prototype.xa=function(){Hr(this.g,"a")},rl.prototype.wa=function(t){Hr(this.g,new IE(t))},rl.prototype.va=function(t){Hr(this.g,new pb(t))},rl.prototype.ua=function(){Hr(this.g,"b")},Wm.prototype.createWebChannel=Wm.prototype.g,$i.prototype.send=$i.prototype.u,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,Om.NO_ERROR=0,Om.TIMEOUT=8,Om.HTTP_ERROR=6,Xw.COMPLETE="complete",B_.EventType=xm,xm.OPEN="a",xm.CLOSE="b",xm.ERROR="c",xm.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var np=Om,gb=Xw,zm=Yc,Gf_PROXY=10,Gf_NOPROXY=11,Km=tl,qf=B_,mb=ar,Wi=function(){function t(e,i){var a=this;this.previousValue=e,i&&(i.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return i.writeSequenceNumber(c)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Wi.o=-1;var we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fe=function(t){function e(i,a){var c=this;return(c=t.call(this,a)||this).code=i,c.message=a,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return It(e,t),e}(Error),as=new $c.Yd("@firebase/firestore");function yb(){return as.logLevel}function $e(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(as.logLevel<=$c.in.DEBUG){var a=e.map(vb);as.debug.apply(as,bn(["Firestore (8.10.0): "+t],a))}}function pr(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(as.logLevel<=$c.in.ERROR){var a=e.map(vb);as.error.apply(as,bn(["Firestore (8.10.0): "+t],a))}}function rp(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(as.logLevel<=$c.in.WARN){var a=e.map(vb);as.warn.apply(as,bn(["Firestore (8.10.0): "+t],a))}}function vb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function pt(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw pr(e),new Error(e)}function Pt(t,e){t||pt()}function Ye(t,e){return t}function yT(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var a=0;a<t;a++)i[a]=Math.floor(256*Math.random());return i}var SE=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,a="";a.length<20;)for(var c=yT(40),f=0;f<c.length;++f)a.length<20&&c[f]<i&&(a+=e.charAt(c[f]%e.length));return a},t}();function Xt(t,e){return t<e?-1:t>e?1:0}function $f(t,e,i){return t.length===e.length&&t.every(function(a,c){return i(a,e[c])})}function AE(t){return t+"\0"}var zi=function(){function t(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,Math.floor(1e6*(e-1e3*i)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Qt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new zi(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function OE(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function il(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function _b(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bb=function(){function t(e,i,a){void 0===i?i=0:i>e.length&&pt(),void 0===a?a=e.length-i:a>e.length-i&&pt(),this.segments=e,this.offset=i,this.len=a}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(a){i.push(a)}):i.push(e),this.construct(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.forEach=function(e){for(var i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,i){for(var a=Math.min(e.length,i.length),c=0;c<a;c++){var f=e.get(c),y=i.get(c);if(f<y)return-1;if(f>y)return 1}return e.length<i.length?-1:e.length>i.length?1:0},t}(),an=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var c=[],f=0,y=i;f<y.length;f++){var b=y[f];if(b.indexOf("//")>=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid segment ("+b+"). Paths must not contain // in them.");c.push.apply(c,b.split("/").filter(function(D){return D.length>0}))}return new e(c)},e.emptyPath=function(){return new e([])},e}(bb),xE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.isValidIdentifier=function(i){return xE.test(i)},e.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(i){for(var a=[],c="",f=0,y=function(){if(0===c.length)throw new Fe(we.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");a.push(c),c=""},b=!1;f<i.length;){var D=i[f];if("\\"===D){if(f+1===i.length)throw new Fe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var S=i[f+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Fe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);c+=S,f+=2}else"`"===D?(b=!b,f++):"."!==D||b?(c+=D,f++):(y(),f++)}if(y(),b)throw new Fe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(a)},e.emptyPath=function(){return new e([])},e}(bb),ol=function(){function t(e){this.fields=e,e.sort(Fo.comparator)}return t.prototype.covers=function(e){for(var i=0,a=this.fields;i<a.length;i++)if(a[i].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return $f(this.fields,e.fields,function(i,a){return i.isEqual(a)})},t}(),ai=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(i){for(var a="",c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Xt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();ai.EMPTY_BYTE_STRING=new ai("");var PE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(t){if(Pt(!!t),"string"==typeof t){var e=0,i=PE.exec(t);if(Pt(!!i),i[1]){var a=i[1];a=(a+"000000000").substr(0,9),e=Number(a)}var c=new Date(t);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:Jn(t.seconds),nanos:Jn(t.nanos)}}function Jn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sl(t){return"string"==typeof t?ai.fromBase64String(t):ai.fromUint8Array(t)}function ka(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function RE(t){var e=t.mapValue.fields.__previous_value__;return ka(e)?RE(e):e}function ip(t){var e=Na(t.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}function Lo(t){return null==t}function wb(t){return 0===t&&1/t==-1/0}function Qm(t){return"number"==typeof t&&Number.isInteger(t)&&!wb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(an.fromString(e))},t.fromName=function(e){return new t(an.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===an.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,i){return an.comparator(e.path,i.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new an(e.slice()))},t}();function Bu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ka(t)?4:10:pt()}function us(t,e){var c,i=Bu(t);if(i!==Bu(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ip(t).isEqual(ip(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;var f=Na(a.timestampValue),y=Na(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,sl(t.bytesValue).isEqual(sl(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,c){return Jn(a.geoPointValue.latitude)===Jn(c.geoPointValue.latitude)&&Jn(a.geoPointValue.longitude)===Jn(c.geoPointValue.longitude)}(t,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Jn(a.integerValue)===Jn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){var f=Jn(a.doubleValue),y=Jn(c.doubleValue);return f===y?wb(f)===wb(y):isNaN(f)&&isNaN(y)}return!1}(t,e);case 9:return $f(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:return function(a,c){var f=a.mapValue.fields||{},y=c.mapValue.fields||{};if(OE(f)!==OE(y))return!1;for(var b in f)if(f.hasOwnProperty(b)&&(void 0===y[b]||!us(f[b],y[b])))return!1;return!0}(t,e);default:return pt()}}function Zm(t,e){return void 0!==(t.values||[]).find(function(i){return us(i,e)})}function vt(t,e){var c,f,y,b,i=Bu(t),a=Bu(e);if(i!==a)return Xt(i,a);switch(i){case 0:return 0;case 1:return Xt(t.booleanValue,e.booleanValue);case 2:return f=e,(y=Jn((c=t).integerValue||c.doubleValue))<(b=Jn(f.integerValue||f.doubleValue))?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1;case 3:return ME(t.timestampValue,e.timestampValue);case 4:return ME(ip(t),ip(e));case 5:return Xt(t.stringValue,e.stringValue);case 6:return function(c,f){var y=sl(c),b=sl(f);return y.compareTo(b)}(t.bytesValue,e.bytesValue);case 7:return function(c,f){for(var y=c.split("/"),b=f.split("/"),D=0;D<y.length&&D<b.length;D++){var S=Xt(y[D],b[D]);if(0!==S)return S}return Xt(y.length,b.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,f){var y=Xt(Jn(c.latitude),Jn(f.latitude));return 0!==y?y:Xt(Jn(c.longitude),Jn(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,f){for(var y=c.values||[],b=f.values||[],D=0;D<y.length&&D<b.length;++D){var S=vt(y[D],b[D]);if(S)return S}return Xt(y.length,b.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,f){var y=c.fields||{},b=Object.keys(y),D=f.fields||{},S=Object.keys(D);b.sort(),S.sort();for(var x=0;x<b.length&&x<S.length;++x){var R=Xt(b[x],S[x]);if(0!==R)return R;var L=vt(y[b[x]],D[S[x]]);if(0!==L)return L}return Xt(b.length,S.length)}(t.mapValue,e.mapValue);default:throw pt()}}function ME(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xt(t,e);var i=Na(t),a=Na(e),c=Xt(i.seconds,a.seconds);return 0!==c?c:Xt(i.nanos,a.nanos)}function Eb(t){return Cb(t)}function Cb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(c=Na(t.timestampValue)).seconds+","+c.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?sl(t.bytesValue).toBase64():"referenceValue"in t?bt.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(a){for(var c="[",f=!0,y=0,b=a.values||[];y<b.length;y++)f?f=!1:c+=",",c+=Cb(b[y]);return c+"]"}(t.arrayValue):"mapValue"in t?function(a){for(var c="{",f=!0,y=0,b=Object.keys(a.fields||{}).sort();y<b.length;y++){var D=b[y];f?f=!1:c+=",",c+=D+":"+Cb(a.fields[D])}return c+"}"}(t.mapValue):pt();var c,e}function al(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Db(t){return!!t&&"integerValue"in t}function Wf(t){return!!t&&"arrayValue"in t}function op(t){return!!t&&"nullValue"in t}function Qn(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ib(t){return!!t&&"mapValue"in t}function zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return il(t.mapValue.fields,function(c,f){return e.mapValue.fields[c]=zf(f)}),e}if(t.arrayValue){for(var i={arrayValue:{values:[]}},a=0;a<(t.arrayValue.values||[]).length;++a)i.arrayValue.values[a]=zf(t.arrayValue.values[a]);return i}return Object.assign({},t)}var Ti=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var i=this.value,a=0;a<e.length-1;++a)if(!Ib(i=(i.mapValue.fields||{})[e.get(a)]))return null;return(i=(i.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(i)},t.prototype.setAll=function(e){var i=this,a=Fo.emptyPath(),c={},f=[];e.forEach(function(b,D){if(!a.isImmediateParentOf(D)){var S=i.getFieldsMap(a);i.applyChanges(S,c,f),c={},f=[],a=D.popLast()}b?c[D.lastSegment()]=zf(b):f.push(D.lastSegment())});var y=this.getFieldsMap(a);this.applyChanges(y,c,f)},t.prototype.delete=function(e){var i=this.field(e.popLast());Ib(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return us(this.value,e.value)},t.prototype.getFieldsMap=function(e){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var a=0;a<e.length;++a){var c=i.mapValue.fields[e.get(a)];Ib(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields},t.prototype.applyChanges=function(e,i,a){il(i,function(b,D){return e[b]=D});for(var c=0,f=a;c<f.length;c++)delete e[f[c]]},t.prototype.clone=function(){return new t(zf(this.value))},t}();function NE(t){var e=[];return il(t.fields,function(i,a){var c=new Fo([i]);if(Ib(a)){var f=NE(a.mapValue).fields;if(0===f.length)e.push(c);else for(var y=0,b=f;y<b.length;y++)e.push(c.child(b[y]))}else e.push(c)}),new ol(e)}var Rr=function(){function t(e,i,a,c,f){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=f}return t.newInvalidDocument=function(e){return new t(e,0,Qt.min(),Ti.empty(),0)},t.newFoundDocument=function(e,i,a){return new t(e,1,i,a,0)},t.newNoDocument=function(e,i){return new t(e,2,i,Ti.empty(),0)},t.newUnknownDocument=function(e,i){return new t(e,3,i,Ti.empty(),2)},t.prototype.convertToFoundDocument=function(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),kE=function(t,e,i,a,c,f,y){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===y&&(y=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=f,this.endAt=y,this.h=null};function Tb(t,e,i,a,c,f,y){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===y&&(y=null),new kE(t,e,i,a,c,f,y)}function Kf(t){var e=Ye(t);if(null===e.h){var i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(a){return(c=a).field.canonicalString()+c.op.toString()+Eb(c.value);var c}).join(","),i+="|ob:",i+=e.orderBy.map(function(a){return(c=a).field.canonicalString()+c.dir;var c}).join(","),Lo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Hu(e.startAt)),e.endAt&&(i+="|ub:",i+=Hu(e.endAt)),e.h=i}return e.h}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!bT(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if((c=t.filters[a]).op!==(f=e.filters[a]).op||!c.field.isEqual(f.field)||!us(c.value,f.value))return!1;var c,f;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BE(t.startAt,e.startAt)&&BE(t.endAt,e.endAt)}function Jm(t){return bt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yo=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).field=i,f.op=a,f.value=c,f}return It(e,t),e.create=function(i,a,c){return i.isKeyField()?"in"===a||"not-in"===a?this.l(i,a,c):new sp(i,a,c):"array-contains"===a?new Xm(i,c):"in"===a?new LE(i,c):"not-in"===a?new UE(i,c):"array-contains-any"===a?new jE(i,c):new e(i,a,c)},e.l=function(i,a,c){return"in"===a?new vT(i,c):new _T(i,c)},e.prototype.matches=function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.m(vt(a,this.value)):null!==a&&Bu(this.value)===Bu(a)&&this.m(vt(a,this.value))},e.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return pt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),sp=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,c)||this).key=bt.fromName(c.referenceValue),f}return It(e,t),e.prototype.matches=function(i){var a=bt.comparator(i.key,this.key);return this.m(a)},e}(yo),vT=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"in",a)||this).keys=FE(0,a),c}return It(e,t),e.prototype.matches=function(i){return this.keys.some(function(a){return a.isEqual(i.key)})},e}(yo),_T=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"not-in",a)||this).keys=FE(0,a),c}return It(e,t),e.prototype.matches=function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})},e}(yo);function FE(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(a){return bt.fromName(a.referenceValue)})}var Xm=function(t){function e(i,a){return t.call(this,i,"array-contains",a)||this}return It(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return Wf(a)&&Zm(a.arrayValue,this.value)},e}(yo),LE=function(t){function e(i,a){return t.call(this,i,"in",a)||this}return It(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return null!==a&&Zm(this.value.arrayValue,a)},e}(yo),UE=function(t){function e(i,a){return t.call(this,i,"not-in",a)||this}return It(e,t),e.prototype.matches=function(i){if(Zm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!Zm(this.value.arrayValue,a)},e}(yo),jE=function(t){function e(i,a){return t.call(this,i,"array-contains-any",a)||this}return It(e,t),e.prototype.matches=function(i){var a=this,c=i.data.field(this.field);return!(!Wf(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(f){return Zm(a.value.arrayValue,f)})},e}(yo),ap=function(t,e){this.position=t,this.before=e};function Hu(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Eb(e)}).join(",")}var Hs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function bT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function VE(t,e,i){for(var a=0,c=0;c<t.position.length;c++){var f=e[c],y=t.position[c];if(a=f.field.isKeyField()?bt.comparator(bt.fromName(y.referenceValue),i.key):vt(y,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return t.before?a<=0:a<0}function BE(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!us(t.position[i],e.position[i]))return!1;return!0}var Gs=function(t,e,i,a,c,f,y,b){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f="F"),void 0===y&&(y=null),void 0===b&&(b=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=b,this.p=null,this.T=null};function Sb(t,e,i,a,c,f,y,b){return new Gs(t,e,i,a,c,f,y,b)}function ul(t){return new Gs(t)}function ey(t){return!Lo(t.limit)&&"F"===t.limitType}function up(t){return!Lo(t.limit)&&"L"===t.limitType}function Ab(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ob(t){for(var e=0,i=t.filters;e<i.length;e++){var a=i[e];if(a.g())return a.field}return null}function HE(t){return null!==t.collectionGroup}function cp(t){var e=Ye(t);if(null===e.p){e.p=[];var i=Ob(e),a=Ab(e);if(null!==i&&null===a)i.isKeyField()||e.p.push(new Hs(i)),e.p.push(new Hs(Fo.keyField(),"asc"));else{for(var c=!1,f=0,y=e.explicitOrderBy;f<y.length;f++){var b=y[f];e.p.push(b),b.field.isKeyField()&&(c=!0)}if(!c){var D=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Hs(Fo.keyField(),D))}}}return e.p}function cs(t){var e=Ye(t);if(!e.T)if("F"===e.limitType)e.T=Tb(e.path,e.collectionGroup,cp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],a=0,c=cp(e);a<c.length;a++){var f=c[a];i.push(new Hs(f.field,"desc"===f.dir?"asc":"desc"))}var b=e.endAt?new ap(e.endAt.position,!e.endAt.before):null,D=e.startAt?new ap(e.startAt.position,!e.startAt.before):null;e.T=Tb(e.path,e.collectionGroup,i,e.filters,e.limit,b,D)}return e.T}function wT(t,e,i){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Qf(t,e){return Ym(cs(t),cs(e))&&t.limitType===e.limitType}function lp(t){return Kf(cs(t))+"|lt:"+t.limitType}function xb(t){return"Query(target="+(i=(e=cs(t)).path.canonicalString(),null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=", filters: ["+e.filters.map(function(a){return(c=a).field.canonicalString()+" "+c.op+" "+Eb(c.value);var c}).join(", ")+"]"),Lo(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=", orderBy: ["+e.orderBy.map(function(a){return(c=a).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),e.startAt&&(i+=", startAt: "+Hu(e.startAt)),e.endAt&&(i+=", endAt: "+Hu(e.endAt)),"Target("+i+"); limitType=")+t.limitType+")";var e,i}function fp(t,e){return e.isFoundDocument()&&(c=(a=e).key.path,null!==(i=t).collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):bt.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c))&&function(i,a){for(var c=0,f=i.explicitOrderBy;c<f.length;c++){var y=f[c];if(!y.field.isKeyField()&&null===a.data.field(y.field))return!1}return!0}(t,e)&&function(i,a){for(var c=0,f=i.filters;c<f.length;c++)if(!f[c].matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!VE(i.startAt,cp(i),a)||i.endAt&&VE(i.endAt,cp(i),a))}(t,e);var i,a,c}function Pb(t){return function(e,i){for(var a=!1,c=0,f=cp(t);c<f.length;c++){var y=f[c],b=dp(y,e,i);if(0!==b)return b;a=a||y.field.isKeyField()}return 0}}function dp(t,e,i){var c,y,b,D,a=t.field.isKeyField()?bt.comparator(e.key,i.key):(y=i,b=e.data.field(c=t.field),D=y.data.field(c),null!==b&&null!==D?vt(b,D):pt());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return pt()}}function GE(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wb(e)?"-0":e}}function qE(t){return{integerValue:""+t}}function $E(t,e){return Qm(e)?qE(e):GE(t,e)}var ty=function(){this._=void 0};function ET(t,e,i){return t instanceof Zf?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(a=i).seconds,nanos:a.nanoseconds}}}},(c=e)&&(f.fields.__previous_value__=c),{mapValue:f}):t instanceof Uo?KE(t,e):t instanceof Gu?QE(t,e):function(a,c){var f=zE(a,c),y=ZE(f)+ZE(a.A);return Db(f)&&Db(a.A)?qE(y):GE(a.R,y)}(t,e);var a,c,f}function WE(t,e,i){return t instanceof Uo?KE(t,e):t instanceof Gu?QE(t,e):i}function zE(t,e){return t instanceof cl?Db(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}var Zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e}(ty),Uo=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return It(e,t),e}(ty);function KE(t,e){for(var i=Rb(e),a=function(y){i.some(function(b){return us(b,y)})||i.push(y)},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var Gu=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return It(e,t),e}(ty);function QE(t,e){for(var i=Rb(e),a=function(y){i=i.filter(function(b){return!us(b,y)})},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var cl=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).R=i,c.A=a,c}return It(e,t),e}(ty);function ZE(t){return Jn(t.integerValue||t.doubleValue)}function Rb(t){return Wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hp=function(t,e){this.field=t,this.transform=e},Mb=function(t,e){this.version=t,this.transformResults=e},ui=function(){function t(e,i){this.updateTime=e,this.exists=i}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function pp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var gp=function(){};function CT(t,e,i){var a,c,f,y,b;t instanceof Yf?(c=e,f=i,y=(a=t).value.clone(),b=XE(a.fieldTransforms,c,f.transformResults),y.setAll(b),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()):t instanceof qu?function(a,c,f){if(pp(a.precondition,c)){var y=XE(a.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(JE(a)),b.setAll(y),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()}else c.convertToUnknownDocument(f.version)}(t,e,i):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function Nb(t,e,i){var c;t instanceof Yf?function(a,c,f){if(pp(a.precondition,c)){var y=a.value.clone(),b=eC(a.fieldTransforms,f,c);y.setAll(b),c.convertToFoundDocument(YE(c),y).setHasLocalMutations()}}(t,e,i):t instanceof qu?function(a,c,f){if(pp(a.precondition,c)){var y=eC(a.fieldTransforms,f,c),b=c.data;b.setAll(JE(a)),b.setAll(y),c.convertToFoundDocument(YE(c),b).setHasLocalMutations()}}(t,e,i):pp(t.precondition,c=e)&&c.convertToNoDocument(Qt.min())}function DT(t,e){for(var i=null,a=0,c=t.fieldTransforms;a<c.length;a++){var f=c[a],y=e.data.field(f.field),b=zE(f.transform,y||null);null!=b&&(null==i&&(i=Ti.empty()),i.set(f.field,b))}return i||null}function ny(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===a||i&&a&&$f(i,a,function(c,f){return(y=c).field.isEqual((b=f).field)&&(S=b.transform,(D=y.transform)instanceof Uo&&S instanceof Uo||D instanceof Gu&&S instanceof Gu?$f(D.elements,S.elements,us):D instanceof cl&&S instanceof cl?us(D.A,S.A):D instanceof Zf&&S instanceof Zf);var y,b,D,S})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,a}function YE(t){return t.isFoundDocument()?t.version:Qt.min()}var Yf=function(t){function e(i,a,c,f){void 0===f&&(f=[]);var y=this;return(y=t.call(this)||this).key=i,y.value=a,y.precondition=c,y.fieldTransforms=f,y.type=0,y}return It(e,t),e}(gp),qu=function(t){function e(i,a,c,f,y){void 0===y&&(y=[]);var b=this;return(b=t.call(this)||this).key=i,b.data=a,b.fieldMask=c,b.precondition=f,b.fieldTransforms=y,b.type=1,b}return It(e,t),e}(gp);function JE(t){var e=new Map;return t.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var a=t.data.field(i);e.set(i,a)}}),e}function XE(t,e,i){var a=new Map;Pt(t.length===i.length);for(var c=0;c<i.length;c++){var f=t[c],y=f.transform,b=e.data.field(f.field);a.set(f.field,WE(y,b,i[c]))}return a}function eC(t,e,i){for(var a=new Map,c=0,f=t;c<f.length;c++){var y=f[c],b=y.transform,D=i.data.field(y.field);a.set(y.field,ET(b,D,e))}return a}var gr,rn,mp=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=2,c.fieldTransforms=[],c}return It(e,t),e}(gp),kb=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=3,c.fieldTransforms=[],c}return It(e,t),e}(gp),tC=function(t){this.count=t};function Fb(t){switch(t){case we.OK:return pt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return pt()}}function nC(t){if(void 0===t)return pr("GRPC error has no .code"),we.UNKNOWN;switch(t){case gr.OK:return we.OK;case gr.CANCELLED:return we.CANCELLED;case gr.UNKNOWN:return we.UNKNOWN;case gr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case gr.INTERNAL:return we.INTERNAL;case gr.UNAVAILABLE:return we.UNAVAILABLE;case gr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case gr.NOT_FOUND:return we.NOT_FOUND;case gr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case gr.ABORTED:return we.ABORTED;case gr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case gr.DATA_LOSS:return we.DATA_LOSS;default:return pt()}}(rn=gr||(gr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";var ci=function(){function t(e,i){this.comparator=e,this.root=i||$u.EMPTY}return t.prototype.insert=function(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$u.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$u.BLACK,null,null))},t.prototype.get=function(e){for(var i=this.root;!i.isEmpty();){var a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null},t.prototype.indexOf=function(e){for(var i=0,a=this.root;!a.isEmpty();){var c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(i,a){return e(i,a),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(i,a){return e.push(i+":"+a),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new yp(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new yp(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new yp(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new yp(this.root,e,this.comparator,!0)},t}(),yp=function(){function t(e,i,a,c){this.isReverse=c,this.nodeStack=[];for(var f=1;!e.isEmpty();)if(f=i?a(e.key,i):1,c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),$u=function(){function t(e,i,a,c,f){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:t.EMPTY,this.right=null!=f?f:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,a,c,f){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,i,a){var c=this,f=a(e,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,i){var a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return t.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();var e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)},t}();$u.EMPTY=null,$u.RED=!0,$u.BLACK=!1,$u.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,i,a,c,f){return this},t.prototype.insert=function(e,i,a){return new $u(e,i)},t.prototype.remove=function(e,i){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ir=function(){function t(e){this.comparator=e,this.data=new ci(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.forEachInRange=function(e,i){for(var a=this.data.getIteratorFrom(e[0]);a.hasNext();){var c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}},t.prototype.forEachWhile=function(e,i){var a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null},t.prototype.getIterator=function(){return new rC(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new rC(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var i=this;return i.size<e.size&&(i=e,e=this),e.forEach(function(a){i=i.add(a)}),i},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.data.getIterator(),a=e.data.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(c,f))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(i){e.push(i)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(i){return e.push(i)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var i=new t(this.comparator);return i.data=e,i},t}(),rC=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Lb=new ci(bt.comparator);function Ki(){return Lb}var iC=new ci(bt.comparator);function vp(){return iC}var IT=new ci(bt.comparator);function oC(){return IT}var Ub=new Ir(bt.comparator);function vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=Ub,a=0,c=t;a<c.length;a++){var f=c[a];i=i.add(f)}return i}var TT=new Ir(Xt);function ry(){return TT}var iy=function(){function t(e,i,a,c,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}return t.createSynthesizedRemoteEventForCurrentChange=function(e,i){var a=new Map;return a.set(e,oy.createSynthesizedTargetChangeForCurrentChange(e,i)),new t(Qt.min(),a,ry(),Ki(),vn())},t}(),oy=function(){function t(e,i,a,c,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}return t.createSynthesizedTargetChangeForCurrentChange=function(e,i){return new t(ai.EMPTY_BYTE_STRING,i,vn(),vn(),vn())},t}(),_p=function(t,e,i,a){this.v=t,this.removedTargetIds=e,this.key=i,this.P=a},ST=function(t,e){this.targetId=t,this.V=e},sC=function(t,e,i,a){void 0===i&&(i=ai.EMPTY_BYTE_STRING),void 0===a&&(a=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a},ll=function(){function t(){this.S=0,this.D=bp(),this.C=ai.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=vn(),i=vn(),a=vn();return this.D.forEach(function(c,f){switch(f){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:pt()}}),new oy(this.C,this.N,e,i,a)},t.prototype.L=function(){this.k=!1,this.D=bp()},t.prototype.B=function(e,i){this.k=!0,this.D=this.D.insert(e,i)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),r1=function(){function t(e){this.W=e,this.G=new Map,this.H=Ki(),this.J=sy(),this.Y=new Ir(Xt)}return t.prototype.X=function(e){for(var i=0,a=e.v;i<a.length;i++){var c=a[i];e.P&&e.P.isFoundDocument()?this.Z(c,e.P):this.tt(c,e.key,e.P)}for(var f=0,y=e.removedTargetIds;f<y.length;f++)this.tt(c=y[f],e.key,e.P)},t.prototype.et=function(e){var i=this;this.forEachTarget(e,function(a){var c=i.nt(a);switch(e.state){case 0:i.st(a)&&c.O(e.resumeToken);break;case 1:c.K(),c.F||c.L(),c.O(e.resumeToken);break;case 2:c.K(),c.F||i.removeTarget(a);break;case 3:i.st(a)&&(c.j(),c.O(e.resumeToken));break;case 4:i.st(a)&&(i.it(a),c.O(e.resumeToken));break;default:pt()}})},t.prototype.forEachTarget=function(e,i){var a=this;e.targetIds.length>0?e.targetIds.forEach(i):this.G.forEach(function(c,f){a.st(f)&&i(f)})},t.prototype.rt=function(e){var i=e.targetId,a=e.V.count,c=this.ot(i);if(c){var f=c.target;if(Jm(f))if(0===a){var y=new bt(f.path);this.tt(i,y,Rr.newNoDocument(y,Qt.min()))}else Pt(1===a);else this.ct(i)!==a&&(this.it(i),this.Y=this.Y.add(i))}},t.prototype.ut=function(e){var i=this,a=new Map;this.G.forEach(function(y,b){var D=i.ot(b);if(D){if(y.current&&Jm(D.target)){var S=new bt(D.target.path);null!==i.H.get(S)||i.at(b,S)||i.tt(b,S,Rr.newNoDocument(S,e))}y.$&&(a.set(b,y.M()),y.L())}});var c=vn();this.J.forEach(function(y,b){var D=!0;b.forEachWhile(function(S){var x=i.ot(S);return!x||2===x.purpose||(D=!1,!1)}),D&&(c=c.add(y))});var f=new iy(e,a,this.Y,this.H,c);return this.H=Ki(),this.J=sy(),this.Y=new Ir(Xt),f},t.prototype.Z=function(e,i){if(this.st(e)){var a=this.at(e,i.key)?2:0;this.nt(e).B(i.key,a),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(e))}},t.prototype.tt=function(e,i,a){if(this.st(e)){var c=this.nt(e);this.at(e,i)?c.B(i,1):c.q(i),this.J=this.J.insert(i,this.ht(i).delete(e)),a&&(this.H=this.H.insert(i,a))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var i=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var i=this.G.get(e);return i||(i=new ll,this.G.set(e,i)),i},t.prototype.ht=function(e){var i=this.J.get(e);return i||(i=new Ir(Xt),this.J=this.J.insert(e,i)),i},t.prototype.st=function(e){var i=null!==this.ot(e);return i||$e("WatchChangeAggregator","Detected inactive target",e),i},t.prototype.ot=function(e){var i=this.G.get(e);return i&&i.F?null:this.W.lt(e)},t.prototype.it=function(e){var i=this;this.G.set(e,new ll),this.W.getRemoteKeysForTarget(e).forEach(function(a){i.tt(e,a,null)})},t.prototype.at=function(e,i){return this.W.getRemoteKeysForTarget(e).has(i)},t}();function sy(){return new ci(bt.comparator)}function bp(){return new ci(bt.comparator)}var AT={asc:"ASCENDING",desc:"DESCENDING"},Jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OT=function(t,e){this.databaseId=t,this.I=e};function ay(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function aC(t,e){return t.I?e.toBase64():e.toUint8Array()}function qs(t,e){return ay(t,e.toTimestamp())}function Tr(t){return Pt(!!t),Qt.fromTimestamp((i=Na(t),new zi(i.seconds,i.nanos)));var i}function uC(t,e){return(i=t,new an(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function wp(t){var e=an.fromString(t);return Pt(Hb(e)),e}function Ep(t,e){return uC(t.databaseId,e.path)}function $s(t,e){var i=wp(e);if(i.get(1)!==t.databaseId.projectId)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new bt(fC(i))}function cC(t,e){return uC(t.databaseId,e)}function lC(t){var e=wp(t);return 4===e.length?an.emptyPath():fC(e)}function Cp(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fC(t){return Pt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uy(t,e,i){return{name:Ep(t,e),fields:i.value.mapValue.fields}}function jb(t,e,i){var a=$s(t,e.name),c=Tr(e.updateTime),f=new Ti({mapValue:{fields:e.fields}}),y=Rr.newFoundDocument(a,c,f);return i&&y.setHasCommittedMutations(),i?y.setHasCommittedMutations():y}function Xf(t,e){var i,c;if(e instanceof Yf)i={update:uy(t,e.key,e.value)};else if(e instanceof mp)i={delete:Ep(t,e.key)};else if(e instanceof qu)i={update:uy(t,e.key,e.data),updateMask:PT(e.fieldMask)};else{if(!(e instanceof kb))return pt();i={verify:Ep(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(function(a){return function(c,f){var y=f.transform;if(y instanceof Zf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Gu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof cl)return{fieldPath:f.field.canonicalString(),increment:y.A};throw pt()}(0,a)})),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:qs(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:pt()),i}function Vb(t,e){var S,i=e.currentDocument?void 0!==(S=e.currentDocument).updateTime?ui.updateTime(Tr(S.updateTime)):void 0!==S.exists?ui.exists(S.exists):ui.none():ui.none(),a=e.updateTransforms?e.updateTransforms.map(function(S){return function(x,R){var L=null;"setToServerValue"in R?(Pt("REQUEST_TIME"===R.setToServerValue),L=new Zf):"appendMissingElements"in R?L=new Uo(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new Gu(R.removeAllFromArray.values||[]):"increment"in R?L=new cl(x,R.increment):pt();var ie=Fo.fromServerFormat(R.fieldPath);return new hp(ie,L)}(t,S)}):[];if(e.update){var c=$s(t,e.update.name),f=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){var y=function(S){return new ol((S.fieldPaths||[]).map(function(R){return Fo.fromServerFormat(R)}))}(e.updateMask);return new qu(c,f,y,i,a)}return new Yf(c,f,i,a)}if(e.delete){var b=$s(t,e.delete);return new mp(b,i)}if(e.verify){var D=$s(t,e.verify);return new kb(D,i)}return pt()}function dC(t,e){return{documents:[cC(t,e.path)]}}function xT(t,e){var i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=cC(t,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=cC(t,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);var c=function(b){if(0!==b.length){var D=b.map(function(S){return function(x){if("=="===x.op){if(Qn(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NAN"}};if(op(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Qn(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NAN"}};if(op(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(x.field),op:yC(x.op),value:x.value}}}(S)});return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}}(e.filters);c&&(i.structuredQuery.where=c);var f=function(b){if(0!==b.length)return b.map(function(D){return{field:ed((S=D).field),direction:mC(S.dir)};var S})}(e.orderBy);f&&(i.structuredQuery.orderBy=f);var D,y=(D=e.limit,t.I||Lo(D)?D:{value:D});return null!==y&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=gC(e.startAt)),e.endAt&&(i.structuredQuery.endAt=gC(e.endAt)),i}function hC(t){var e=lC(t.parent),i=t.structuredQuery,a=i.from?i.from.length:0,c=null;if(a>0){Pt(1===a);var f=i.from[0];f.allDescendants?c=f.collectionId:e=e.child(f.collectionId)}var y=[];i.where&&(y=pC(i.where));var b=[];i.orderBy&&(b=i.orderBy.map(function(R){return new Hs(td((L=R).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));var R,L,D=null;i.limit&&(D=Lo(L="object"==typeof(R=i.limit)?R.value:R)?null:L);var S=null;i.startAt&&(S=Bb(i.startAt));var x=null;return i.endAt&&(x=Bb(i.endAt)),Sb(e,c,b,y,D,"F",S,x)}function pC(t){return t?void 0!==t.unaryFilter?[cy(t)]:void 0!==t.fieldFilter?[vC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return pC(e)}).reduce(function(e,i){return e.concat(i)}):pt():[]}function gC(t){return{before:t.before,values:t.position}}function Bb(t){return new ap(t.values||[],!!t.before)}function mC(t){return AT[t]}function yC(t){return Jf[t]}function ed(t){return{fieldPath:t.canonicalString()}}function td(t){return Fo.fromServerFormat(t.fieldPath)}function vC(t){return yo.create(td(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pt()}}(t.fieldFilter.op),t.fieldFilter.value)}function cy(t){switch(t.unaryFilter.op){case"IS_NAN":var e=td(t.unaryFilter.field);return yo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=td(t.unaryFilter.field);return yo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=td(t.unaryFilter.field);return yo.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=td(t.unaryFilter.field);return yo.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pt()}}function PT(t){var e=[];return t.fields.forEach(function(i){return e.push(i.canonicalString())}),{fieldPaths:e}}function Hb(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Qi(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=nd(e)),e=ly(t.get(i),e);return nd(e)}function ly(t,e){for(var i=e,a=t.length,c=0;c<a;c++){var f=t.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function nd(t){return t+"\x01\x01"}function Fa(t){var e=t.length;if(Pt(e>=2),2===e)return Pt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),an.emptyPath();for(var i=e-2,a=[],c="",f=0;f<e;){var y=t.indexOf("\x01",f);switch((y<0||y>i)&&pt(),t.charAt(y+1)){case"\x01":var b=t.substring(f,y),D=void 0;0===c.length?D=b:(D=c+=b,c=""),a.push(D);break;case"\x10":c+=t.substring(f,y),c+="\0";break;case"\x11":c+=t.substring(f,y+1);break;default:pt()}f=y+2}return new an(a)}var RT=function(t,e){this.seconds=t,this.nanoseconds=e},jo=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};jo.store="owner",jo.key="owner";var Wu=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};Wu.store="mutationQueues",Wu.keyPath="userId";var kn=function(t,e,i,a,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=c};kn.store="mutations",kn.keyPath="batchId",kn.userMutationsIndex="userMutationsIndex",kn.userMutationsKeyPath=["userId","batchId"];var li=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,i){return[e,Qi(i)]},t.key=function(e,i,a){return[e,Qi(i),a]},t}();li.store="documentMutations",li.PLACEHOLDER=new li;var MT=function(t,e){this.path=t,this.readTime=e},NT=function(t,e){this.path=t,this.version=e},Xn=function(t,e,i,a,c,f){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f};Xn.store="remoteDocuments",Xn.readTimeIndex="readTimeIndex",Xn.readTimeIndexPath="readTime",Xn.collectionReadTimeIndex="collectionReadTimeIndex",Xn.collectionReadTimeIndexPath=["parentPath","readTime"];var Ws=function(t){this.byteSize=t};Ws.store="remoteDocumentGlobal",Ws.key="remoteDocumentGlobalKey";var Zi=function(t,e,i,a,c,f,y){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=y};Zi.store="targets",Zi.keyPath="targetId",Zi.queryTargetsIndexName="queryTargetsIndex",Zi.queryTargetsKeyPath=["canonicalId","targetId"];var Gr=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};Gr.store="targetDocuments",Gr.keyPath=["targetId","path"],Gr.documentTargetsIndex="documentTargetsIndex",Gr.documentTargetsKeyPath=["path","targetId"];var Vo=function(t,e,i,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=a};Vo.key="targetGlobalKey",Vo.store="targetGlobal";var fl=function(t,e){this.collectionId=t,this.parent=e};fl.store="collectionParents",fl.keyPath=["collectionId","parent"];var vo=function(t,e,i,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=a};vo.store="clientMetadata",vo.keyPath="clientId";var rd=function(t,e,i){this.bundleId=t,this.createTime=e,this.version=i};rd.store="bundles",rd.keyPath="bundleId";var id=function(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i};id.store="namedQueries",id.keyPath="name";var kT=bn(bn([],bn(bn([],bn(bn([],bn(bn([],[Wu.store,kn.store,li.store,Xn.store,Zi.store,jo.store,Vo.store,Gr.store]),[vo.store])),[Ws.store])),[fl.store])),[rd.store,id.store]),Dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),qr=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},Ge=function(){function t(e){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(a){i.isDone=!0,i.result=a,i.nextCallback&&i.nextCallback(a)},function(a){i.isDone=!0,i.error=a,i.catchCallback&&i.catchCallback(a)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,i){var a=this;return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t(function(c,f){a.nextCallback=function(y){a.wrapSuccess(e,y).next(c,f)},a.catchCallback=function(y){a.wrapFailure(i,y).next(c,f)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(i,a){e.next(i,a)})},t.prototype.wrapUserFunction=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(a){return t.reject(a)}},t.prototype.wrapSuccess=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.resolve(i)},t.prototype.wrapFailure=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(i,a){i(e)})},t.reject=function(e){return new t(function(i,a){a(e)})},t.waitFor=function(e){return new t(function(i,a){var c=0,f=0,y=!1;e.forEach(function(b){++c,b.next(function(){++f,y&&f===c&&i()},function(D){return a(D)})}),y=!0,f===c&&i()})},t.or=function(e){for(var i=t.resolve(!1),a=function(y){i=i.next(function(b){return b?t.resolve(b):y()})},c=0,f=e;c<f.length;c++)a(f[c]);return i},t.forEach=function(e,i){var a=this,c=[];return e.forEach(function(f,y){c.push(i.call(a,f,y))}),this.waitFor(c)},t}(),FT=function(){function t(e,i){var a=this;this.action=e,this.transaction=i,this.aborted=!1,this.ft=new qr,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){i.error?a.ft.reject(new Ip(e,i.error)):a.ft.resolve()},this.transaction.onerror=function(c){var f=hy(c.target.error);a.ft.reject(new Ip(e,f))}}return t.open=function(e,i,a,c){try{return new t(i,e.transaction(c,a))}catch(f){throw new Ip(i,f)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var i=this.transaction.objectStore(e);return new _C(i)},t}(),od=function(){function t(e,i,a){this.name=e,this.version=i,this.wt=a,12.2===t._t((0,cn.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return $e("SimpleDb","Removing database:",e),Ku(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,cn.z$)(),i=t._t(e),a=0<i&&i<10,c=t.Et(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||f)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,i){return e.store(i)},t._t=function(e){var i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)},t.Et=function(e){var i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)},t.prototype.At=function(e){return xe(this,void 0,void 0,function(){var i,a=this;return Re(this,function(c){switch(c.label){case 0:return this.db?[3,2]:($e("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(f,y){var b=indexedDB.open(a.name,a.version);b.onsuccess=function(D){f(D.target.result)},b.onblocked=function(){y(new Ip(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=function(D){var S=D.target.error;y("VersionError"===S.name?new Fe(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ip(e,S))},b.onupgradeneeded=function(D){$e("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',D.oldVersion),a.wt.Rt(D.target.result,b.transaction,D.oldVersion,a.version).next(function(){$e("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:i.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return a.bt(f)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(i){return e(i)})},t.prototype.runTransaction=function(e,i,a,c){return xe(this,void 0,void 0,function(){var f,y,b,D,S;return Re(this,function(x){switch(x.label){case 0:f="readonly"===i,y=0,b=function(){var R,L,q,K,ie;return Re(this,function(Ie){switch(Ie.label){case 0:++y,Ie.label=1;case 1:return Ie.trys.push([1,4,,5]),[4,D.At(e)];case 2:return D.db=Ie.sent(),R=FT.open(D.db,e,f?"readonly":"readwrite",a),L=c(R).catch(function(Ae){return R.abort(Ae),Ge.reject(Ae)}).toPromise(),q={},L.catch(function(){}),[4,R.dt];case 3:return[2,(q.value=(Ie.sent(),L),q)];case 4:return $e("SimpleDb","Transaction failed with error:",(K=Ie.sent()).message,"Retrying:",ie="FirebaseError"!==K.name&&y<3),D.close(),ie?[3,5]:[2,{value:Promise.reject(K)}];case 5:return[2]}})},D=this,x.label=1;case 1:return[5,b()];case 2:if("object"==typeof(S=x.sent()))return[2,S.value];x.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fy=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Ku(this.Pt.delete())},t}(),Ip=function(t){function e(i,a){var c=this;return(c=t.call(this,we.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+a)||this).name="IndexedDbTransactionError",c}return It(e,t),e}(Fe);function dl(t){return"IndexedDbTransactionError"===t.name}var _C=function(){function t(e){this.store=e}return t.prototype.put=function(e,i){var a;return void 0!==i?($e("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Ku(a)},t.prototype.add=function(e){return $e("SimpleDb","ADD",this.store.name,e,e),Ku(this.store.add(e))},t.prototype.get=function(e){var i=this;return Ku(this.store.get(e)).next(function(a){return void 0===a&&(a=null),$e("SimpleDb","GET",i.store.name,e,a),a})},t.prototype.delete=function(e){return $e("SimpleDb","DELETE",this.store.name,e),Ku(this.store.delete(e))},t.prototype.count=function(){return $e("SimpleDb","COUNT",this.store.name),Ku(this.store.count())},t.prototype.Nt=function(e,i){var a=this.cursor(this.options(e,i)),c=[];return this.xt(a,function(f,y){c.push(y)}).next(function(){return c})},t.prototype.kt=function(e,i){$e("SimpleDb","DELETE ALL",this.store.name);var a=this.options(e,i);a.Ft=!1;var c=this.cursor(a);return this.xt(c,function(f,y,b){return b.delete()})},t.prototype.$t=function(e,i){var a;i?a=e:(a={},i=e);var c=this.cursor(a);return this.xt(c,i)},t.prototype.Ot=function(e){var i=this.cursor({});return new Ge(function(a,c){i.onerror=function(f){var y=hy(f.target.error);c(y)},i.onsuccess=function(f){var y=f.target.result;y?e(y.primaryKey,y.value).next(function(b){b?y.continue():a()}):a()}})},t.prototype.xt=function(e,i){var a=[];return new Ge(function(c,f){e.onerror=function(y){f(y.target.error)},e.onsuccess=function(y){var b=y.target.result;if(b){var D=new fy(b),S=i(b.primaryKey,b.value,D);if(S instanceof Ge){var x=S.catch(function(R){return D.done(),Ge.reject(R)});a.push(x)}D.isDone?c():null===D.Dt?b.continue():b.continue(D.Dt)}else c()}}).next(function(){return Ge.waitFor(a)})},t.prototype.options=function(e,i){var a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}},t.prototype.cursor=function(e){var i="next";if(e.reverse&&(i="prev"),e.index){var a=this.store.index(e.index);return e.Ft?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)},t}();function Ku(t){return new Ge(function(e,i){t.onsuccess=function(a){e(a.target.result)},t.onerror=function(a){var c=hy(a.target.error);i(c)}})}var dy=!1;function hy(t){var e=od._t((0,cn.z$)());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var a=new Fe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return dy||(dy=!0,setTimeout(function(){throw a},0)),a}}return t}var Gb=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Mt=i,c.currentSequenceNumber=a,c}return It(e,t),e}(zu);function Yi(t,e){var i=Ye(t);return od.It(i.Mt,e)}var qb=function(){function t(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}return t.prototype.applyToRemoteDocument=function(e,i){for(var a=i.mutationResults,c=0;c<this.mutations.length;c++){var f=this.mutations[c];f.key.isEqual(e.key)&&CT(f,e,a[c])}},t.prototype.applyToLocalView=function(e){for(var i=0,a=this.baseMutations;i<a.length;i++)(y=a[i]).key.isEqual(e.key)&&Nb(y,e,this.localWriteTime);for(var c=0,f=this.mutations;c<f.length;c++){var y;(y=f[c]).key.isEqual(e.key)&&Nb(y,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var i=this;this.mutations.forEach(function(a){var c=e.get(a.key),f=c;i.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(Qt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,i){return e.add(i.key)},vn())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&$f(this.mutations,e.mutations,function(i,a){return ny(i,a)})&&$f(this.baseMutations,e.baseMutations,function(i,a){return ny(i,a)})},t}(),bC=function(){function t(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}return t.from=function(e,i,a){Pt(e.mutations.length===a.length);for(var c=oC(),f=e.mutations,y=0;y<f.length;y++)c=c.insert(f[y].key,a[y].version);return new t(e,i,a,c)},t}(),py=function(){function t(e,i,a,c,f,y,b){void 0===f&&(f=Qt.min()),void 0===y&&(y=Qt.min()),void 0===b&&(b=ai.EMPTY_BYTE_STRING),this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=b}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),$b=function(t){this.Lt=t};function sd(t,e){if(e.document)return jb(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=bt.fromSegments(e.noDocument.path),a=_o(e.noDocument.readTime),c=Rr.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){var f=bt.fromSegments(e.unknownDocument.path);return a=_o(e.unknownDocument.version),Rr.newUnknownDocument(f,a)}return pt()}function Tp(t,e,i){var R,L,a=wC(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){var f={name:Ep(R=t.Lt,(L=e).key),fields:L.data.value.mapValue.fields,updateTime:ay(R,L.version.toTimestamp())},y=e.hasCommittedMutations;return new Xn(null,null,f,y,a,c)}if(e.isNoDocument()){var b=e.key.path.toArray(),D=tn(e.version);return y=e.hasCommittedMutations,new Xn(null,new MT(b,D),null,y,a,c)}if(e.isUnknownDocument()){var S=e.key.path.toArray(),x=tn(e.version);return new Xn(new NT(S,x),null,null,!0,a,c)}return pt()}function wC(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(t){var e=new zi(t[0],t[1]);return Qt.fromTimestamp(e)}function tn(t){var e=t.toTimestamp();return new RT(e.seconds,e.nanoseconds)}function _o(t){var e=new zi(t.seconds,t.nanoseconds);return Qt.fromTimestamp(e)}function ls(t,e){for(var i=(e.baseMutations||[]).map(function(D){return Vb(t.Lt,D)}),a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);var y=e.mutations.map(function(D){return Vb(t.Lt,D)}),b=zi.fromMillis(e.localWriteTimeMs);return new qb(e.batchId,b,i,y)}function La(t){var e,i,a=_o(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?_o(t.lastLimboFreeSnapshotVersion):Qt.min();return void 0!==t.query.documents?(Pt(1===(i=t.query).documents.length),e=cs(ul(lC(i.documents[0])))):e=cs(hC(t.query)),new py(e,t.targetId,0,t.lastListenSequenceNumber,a,c,ai.fromBase64String(t.resumeToken))}function LT(t,e){var i,a=tn(e.snapshotVersion),c=tn(e.lastLimboFreeSnapshotVersion);i=Jm(e.target)?dC(t.Lt,e.target):xT(t.Lt,e.target);var f=e.resumeToken.toBase64();return new Zi(e.targetId,Kf(e.target),a,f,e.sequenceNumber,c,i)}function Nt(t){var e=hC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wT(e,e.limit,"L"):e}var Bo=function(){function t(){}return t.prototype.getBundleMetadata=function(e,i){return gy(e).get(i).next(function(a){if(a)return{id:(c=a).bundleId,createTime:_o(c.createTime),version:c.version};var c})},t.prototype.saveBundleMetadata=function(e,i){return gy(e).put({bundleId:(a=i).id,createTime:tn(Tr(a.createTime)),version:a.version});var a},t.prototype.getNamedQuery=function(e,i){return Qu(e).get(i).next(function(a){if(a)return{name:(c=a).name,query:Nt(c.bundledQuery),readTime:_o(c.readTime)};var c})},t.prototype.saveNamedQuery=function(e,i){return Qu(e).put({name:(a=i).name,readTime:tn(Tr(a.readTime)),bundledQuery:a.bundledQuery});var a},t}();function gy(t){return Yi(t,rd.store)}function Qu(t){return Yi(t,id.store)}var i1=function(){function t(){this.Bt=new my}return t.prototype.addToCollectionParentIndex=function(e,i){return this.Bt.add(i),Ge.resolve()},t.prototype.getCollectionParents=function(e,i){return Ge.resolve(this.Bt.getEntries(i))},t}(),my=function(){function t(){this.index={}}return t.prototype.add=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new Ir(an.comparator),f=!c.has(a);return this.index[i]=c.add(a),f},t.prototype.has=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)},t.prototype.getEntries=function(e){return(this.index[e]||new Ir(an.comparator)).toArray()},t}(),EC=function(){function t(){this.qt=new my}return t.prototype.addToCollectionParentIndex=function(e,i){var a=this;if(!this.qt.has(i)){var c=i.lastSegment(),f=i.popLast();e.addOnCommittedListener(function(){a.qt.add(i)});var y={collectionId:c,parent:Qi(f)};return UT(e).put(y)}return Ge.resolve()},t.prototype.getCollectionParents=function(e,i){var a=[],c=IDBKeyRange.bound([i,""],[AE(i),""],!1,!0);return UT(e).Nt(c).next(function(f){for(var y=0,b=f;y<b.length;y++){var D=b[y];if(D.collectionId!==i)break;a.push(Fa(D.parent))}return a})},t}();function UT(t){return Yi(t,fl.store)}var CC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zs=function(){function t(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function bo(t,e,i){var a=t.store(kn.store),c=t.store(li.store),f=[],y=IDBKeyRange.only(i.batchId),b=0,D=a.$t({range:y},function(K,ie,Ie){return b++,Ie.delete()});f.push(D.next(function(){Pt(1===b)}));for(var S=[],x=0,R=i.mutations;x<R.length;x++){var L=R[x],q=li.key(e,L.key.path,i.batchId);f.push(c.delete(q)),S.push(L.key)}return Ge.waitFor(f).next(function(){return S})}function On(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pt();e=t.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);var fs=function(){function t(e,i,a,c){this.userId=e,this.R=i,this.Ut=a,this.referenceDelegate=c,this.Kt={}}return t.Qt=function(e,i,a,c){return Pt(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",i,a,c)},t.prototype.checkEmpty=function(e){var i=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).$t({index:kn.userMutationsIndex,range:a},function(c,f,y){i=!1,y.done()}).next(function(){return i})},t.prototype.addMutationBatch=function(e,i,a,c){var f=this,y=hl(e),b=Zu(e);return b.add({}).next(function(D){Pt("number"==typeof D);for(var S=new qb(D,i,a,c),x=function(Ae,He,Le){var gt=Le.baseMutations.map(function(en){return Xf(Ae.Lt,en)}),lt=Le.mutations.map(function(en){return Xf(Ae.Lt,en)});return new kn(He,Le.batchId,Le.localWriteTime.toMillis(),gt,lt)}(f.R,f.userId,S),R=[],L=new Ir(function(Ae,He){return Xt(Ae.canonicalString(),He.canonicalString())}),q=0,K=c;q<K.length;q++){var ie=K[q],Ie=li.key(f.userId,ie.key.path,D);L=L.add(ie.key.path.popLast()),R.push(b.put(x)),R.push(y.put(Ie,li.PLACEHOLDER))}return L.forEach(function(Ae){R.push(f.Ut.addToCollectionParentIndex(e,Ae))}),e.addOnCommittedListener(function(){f.Kt[D]=S.keys()}),Ge.waitFor(R).next(function(){return S})})},t.prototype.lookupMutationBatch=function(e,i){var a=this;return Zu(e).get(i).next(function(c){return c?(Pt(c.userId===a.userId),ls(a.R,c)):null})},t.prototype.jt=function(e,i){var a=this;return this.Kt[i]?Ge.resolve(this.Kt[i]):this.lookupMutationBatch(e,i).next(function(c){if(c){var f=c.keys();return a.Kt[i]=f,f}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var a=this,c=i+1,f=IDBKeyRange.lowerBound([this.userId,c]),y=null;return Zu(e).$t({index:kn.userMutationsIndex,range:f},function(b,D,S){D.userId===a.userId&&(Pt(D.batchId>=c),y=ls(a.R,D)),S.done()}).next(function(){return y})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return Zu(e).$t({index:kn.userMutationsIndex,range:i,reverse:!0},function(c,f,y){a=f.batchId,y.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(e){var i=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).Nt(kn.userMutationsIndex,a).next(function(c){return c.map(function(f){return ls(i.R,f)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=li.prefixForPath(this.userId,i.path),f=IDBKeyRange.lowerBound(c),y=[];return hl(e).$t({range:f},function(b,D,S){var x=b[0],L=b[2],q=Fa(b[1]);if(x===a.userId&&i.path.isEqual(q))return Zu(e).get(L).next(function(K){if(!K)throw pt();Pt(K.userId===a.userId),y.push(ls(a.R,K))});S.done()}).next(function(){return y})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new Ir(Xt),f=[];return i.forEach(function(y){var b=li.prefixForPath(a.userId,y.path),D=IDBKeyRange.lowerBound(b),S=hl(e).$t({range:D},function(x,R,L){var q=x[0],ie=x[2],Ie=Fa(x[1]);q===a.userId&&y.path.isEqual(Ie)?c=c.add(ie):L.done()});f.push(S)}),Ge.waitFor(f).next(function(){return a.Wt(e,c)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=this,c=i.path,f=c.length+1,y=li.prefixForPath(this.userId,c),b=IDBKeyRange.lowerBound(y),D=new Ir(Xt);return hl(e).$t({range:b},function(S,x,R){var L=S[0],K=S[2],ie=Fa(S[1]);L===a.userId&&c.isPrefixOf(ie)?ie.length===f&&(D=D.add(K)):R.done()}).next(function(){return a.Wt(e,D)})},t.prototype.Wt=function(e,i){var a=this,c=[],f=[];return i.forEach(function(y){f.push(Zu(e).get(y).next(function(b){if(null===b)throw pt();Pt(b.userId===a.userId),c.push(ls(a.R,b))}))}),Ge.waitFor(f).next(function(){return c})},t.prototype.removeMutationBatch=function(e,i){var a=this;return bo(e.Mt,this.userId,i).next(function(c){return e.addOnCommittedListener(function(){a.Gt(i.batchId)}),Ge.forEach(c,function(f){return a.referenceDelegate.markPotentiallyOrphaned(e,f)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(a){if(!a)return Ge.resolve();var c=IDBKeyRange.lowerBound(li.prefixForUser(i.userId)),f=[];return hl(e).$t({range:c},function(y,b,D){if(y[0]===i.userId){var S=Fa(y[1]);f.push(S)}else D.done()}).next(function(){Pt(0===f.length)})})},t.prototype.containsKey=function(e,i){return Wb(e,this.userId,i)},t.prototype.zt=function(e){var i=this;return yy(e).get(this.userId).next(function(a){return a||new Wu(i.userId,-1,"")})},t}();function Wb(t,e,i){var a=li.prefixForPath(e,i.path),c=a[1],f=IDBKeyRange.lowerBound(a),y=!1;return hl(t).$t({range:f,Ft:!0},function(b,D,S){b[0]===e&&b[1]===c&&(y=!0),S.done()}).next(function(){return y})}function Zu(t){return Yi(t,kn.store)}function hl(t){return Yi(t,li.store)}function yy(t){return Yi(t,Wu.store)}var Ua=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Sp=function(){function t(e,i){this.referenceDelegate=e,this.R=i}return t.prototype.allocateTargetId=function(e){var i=this;return this.Xt(e).next(function(a){var c=new Ua(a.highestTargetId);return a.highestTargetId=c.next(),i.Zt(e,a).next(function(){return a.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(i){return Qt.fromTimestamp(new zi(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(i){return i.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,i,a){var c=this;return this.Xt(e).next(function(f){return f.highestListenSequenceNumber=i,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),i>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=i),c.Zt(e,f)})},t.prototype.addTargetData=function(e,i){var a=this;return this.te(e,i).next(function(){return a.Xt(e).next(function(c){return c.targetCount+=1,a.ee(i,c),a.Zt(e,c)})})},t.prototype.updateTargetData=function(e,i){return this.te(e,i)},t.prototype.removeTargetData=function(e,i){var a=this;return this.removeMatchingKeysForTargetId(e,i.targetId).next(function(){return ud(e).delete(i.targetId)}).next(function(){return a.Xt(e)}).next(function(c){return Pt(c.targetCount>0),c.targetCount-=1,a.Zt(e,c)})},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,y=[];return ud(e).$t(function(b,D){var S=La(D);S.sequenceNumber<=i&&null===a.get(S.targetId)&&(f++,y.push(c.removeTargetData(e,S)))}).next(function(){return Ge.waitFor(y)}).next(function(){return f})},t.prototype.forEachTarget=function(e,i){return ud(e).$t(function(a,c){var f=La(c);i(f)})},t.prototype.Xt=function(e){return Yu(e).get(Vo.key).next(function(i){return Pt(null!==i),i})},t.prototype.Zt=function(e,i){return Yu(e).put(Vo.key,i)},t.prototype.te=function(e,i){return ud(e).put(LT(this.R,i))},t.prototype.ee=function(e,i){var a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(i){return i.targetCount})},t.prototype.getTargetData=function(e,i){var a=Kf(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),f=null;return ud(e).$t({range:c,index:Zi.queryTargetsIndexName},function(y,b,D){var S=La(b);Ym(i,S.target)&&(f=S,D.done())}).next(function(){return f})},t.prototype.addMatchingKeys=function(e,i,a){var c=this,f=[],y=Ju(e);return i.forEach(function(b){var D=Qi(b.path);f.push(y.put(new Gr(a,D))),f.push(c.referenceDelegate.addReference(e,a,b))}),Ge.waitFor(f)},t.prototype.removeMatchingKeys=function(e,i,a){var c=this,f=Ju(e);return Ge.forEach(i,function(y){var b=Qi(y.path);return Ge.waitFor([f.delete([a,b]),c.referenceDelegate.removeReference(e,a,y)])})},t.prototype.removeMatchingKeysForTargetId=function(e,i){var a=Ju(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Ju(e),f=vn();return c.$t({range:a,Ft:!0},function(y,b,D){var S=Fa(y[1]),x=new bt(S);f=f.add(x)}).next(function(){return f})},t.prototype.containsKey=function(e,i){var a=Qi(i.path),c=IDBKeyRange.bound([a],[AE(a)],!1,!0),f=0;return Ju(e).$t({index:Gr.documentTargetsIndex,Ft:!0,range:c},function(y,b,D){0!==y[0]&&(f++,D.done())}).next(function(){return f>0})},t.prototype.lt=function(e,i){return ud(e).get(i).next(function(a){return a?La(a):null})},t}();function ud(t){return Yi(t,Zi.store)}function Yu(t){return Yi(t,Vo.store)}function Ju(t){return Yi(t,Gr.store)}function Xu(t){return xe(this,void 0,void 0,function(){return Re(this,function(e){if(t.code!==we.FAILED_PRECONDITION||t.message!==Dp)throw t;return $e("LocalStore","Unexpectedly lost primary lease"),[2]})})}function vy(t,e){var a=t[1],f=e[1],y=Xt(t[0],e[0]);return 0===y?Xt(a,f):y}var Ap=function(){function t(e){this.ne=e,this.buffer=new Ir(vy),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var i=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var a=this.buffer.last();vy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),zb=function(){function t(e,i){this.garbageCollector=e,this.asyncQueue=i,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var i=this,a=this.oe?3e5:6e4;$e("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return xe(i,void 0,void 0,function(){var c;return Re(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return dl(c=f.sent())?($e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,Xu(c)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return f.sent(),[2]}})})})},t}(),DC=function(){function t(e,i){this.ae=e,this.params=i}return t.prototype.calculateTargetCount=function(e,i){return this.ae.he(e).next(function(a){return Math.floor(i/100*a)})},t.prototype.nthSequenceNumber=function(e,i){var a=this;if(0===i)return Ge.resolve(Wi.o);var c=new Ap(i);return this.ae.forEachTarget(e,function(f){return c.re(f.sequenceNumber)}).next(function(){return a.ae.le(e,function(f){return c.re(f)})}).next(function(){return c.maxValue})},t.prototype.removeTargets=function(e,i,a){return this.ae.removeTargets(e,i,a)},t.prototype.removeOrphanedDocuments=function(e,i){return this.ae.removeOrphanedDocuments(e,i)},t.prototype.collect=function(e,i){var a=this;return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(CC)):this.getCacheSize(e).next(function(c){return c<a.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),CC):a.fe(e,i)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,i){var a,c,f,y,b,D,S,x=this,R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(L){return L>x.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+x.params.maximumSequenceNumbersToCollect+" from "+L),c=x.params.maximumSequenceNumbersToCollect):c=L,y=Date.now(),x.nthSequenceNumber(e,c)}).next(function(L){return a=L,b=Date.now(),x.removeTargets(e,a,i)}).next(function(L){return f=L,D=Date.now(),x.removeOrphanedDocuments(e,a)}).next(function(L){return S=Date.now(),yb()<=$c.in.DEBUG&&$e("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(y-R)+"ms\n\tDetermined least recently used "+c+" in "+(b-y)+"ms\n\tRemoved "+f+" targets in "+(D-b)+"ms\n\tRemoved "+L+" documents in "+(S-D)+"ms\nTotal Duration: "+(S-R)+"ms"),Ge.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:L})})},t}(),cd=function(){function t(e,i){this.db=e,this.garbageCollector=new DC(this,i)}return t.prototype.he=function(e){var i=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(a){return i.next(function(c){return a+c})})},t.prototype.de=function(e){var i=0;return this.le(e,function(a){i++}).next(function(){return i})},t.prototype.forEachTarget=function(e,i){return this.db.getTargetCache().forEachTarget(e,i)},t.prototype.le=function(e,i){return this.we(e,function(a,c){return i(c)})},t.prototype.addReference=function(e,i,a){return _y(e,a)},t.prototype.removeReference=function(e,i,a){return _y(e,a)},t.prototype.removeTargets=function(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)},t.prototype.markPotentiallyOrphaned=function(e,i){return _y(e,i)},t.prototype._e=function(e,i){return c=i,f=!1,yy(a=e).Ot(function(y){return Wb(a,y,c).next(function(b){return b&&(f=!0),Ge.resolve(!b)})}).next(function(){return f});var a,c,f},t.prototype.removeOrphanedDocuments=function(e,i){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],y=0;return this.we(e,function(b,D){if(D<=i){var S=a._e(e,b).next(function(x){if(!x)return y++,c.getEntry(e,b).next(function(){return c.removeEntry(b),Ju(e).delete([0,Qi(b.path)])})});f.push(S)}}).next(function(){return Ge.waitFor(f)}).next(function(){return c.apply(e)}).next(function(){return y})},t.prototype.removeTarget=function(e,i){var a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)},t.prototype.updateLimboDocument=function(e,i){return _y(e,i)},t.prototype.we=function(e,i){var a,c=Ju(e),f=Wi.o;return c.$t({index:Gr.documentTargetsIndex},function(y,b){var S=b.path,x=b.sequenceNumber;0===y[0]?(f!==Wi.o&&i(new bt(Fa(a)),f),f=x,a=S):f=Wi.o}).next(function(){f!==Wi.o&&i(new bt(Fa(a)),f)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function _y(t,e){return Ju(t).put((a=t.currentSequenceNumber,new Gr(0,Qi(e.path),a)));var a}var ja=function(){function t(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}return t.prototype.get=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(var c=0,f=a;c<f.length;c++){var y=f[c],D=y[1];if(this.equalsFn(y[0],e))return D}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,i){var a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(var f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]},t.prototype.delete=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1},t.prototype.forEach=function(e){il(this.inner,function(i,a){for(var c=0,f=a;c<f.length;c++){var y=f[c];e(y[0],y[1])}})},t.prototype.isEmpty=function(){return _b(this.inner)},t}(),Kb=function(){function t(){this.changes=new ja(function(e){return e.toString()},function(e,i){return e.isEqual(i)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var i=this.changes.get(e);return i?i.readTime:Qt.min()},t.prototype.addEntry=function(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})},t.prototype.removeEntry=function(e,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(e,{document:Rr.newInvalidDocument(e),readTime:i})},t.prototype.getEntry=function(e,i){this.assertNotApplied();var a=this.changes.get(i);return void 0!==a?Ge.resolve(a.document):this.getFromCache(e,i)},t.prototype.getEntries=function(e,i){return this.getAllFromCache(e,i)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),IC=function(){function t(e,i){this.R=e,this.Ut=i}return t.prototype.addEntry=function(e,i,a){return ec(e).put(ld(i),a)},t.prototype.removeEntry=function(e,i){var a=ec(e),c=ld(i);return a.delete(c)},t.prototype.updateMetadata=function(e,i){var a=this;return this.getMetadata(e).next(function(c){return c.byteSize+=i,a.me(e,c)})},t.prototype.getEntry=function(e,i){var a=this;return ec(e).get(ld(i)).next(function(c){return a.ye(i,c)})},t.prototype.ge=function(e,i){var a=this;return ec(e).get(ld(i)).next(function(c){return{document:a.ye(i,c),size:On(c)}})},t.prototype.getEntries=function(e,i){var a=this,c=Ki();return this.pe(e,i,function(f,y){var b=a.ye(f,y);c=c.insert(f,b)}).next(function(){return c})},t.prototype.Ee=function(e,i){var a=this,c=Ki(),f=new ci(bt.comparator);return this.pe(e,i,function(y,b){var D=a.ye(y,b);c=c.insert(y,D),f=f.insert(y,On(b))}).next(function(){return{documents:c,Te:f}})},t.prototype.pe=function(e,i,a){if(i.isEmpty())return Ge.resolve();var c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator(),y=f.getNext();return ec(e).$t({range:c},function(b,D,S){for(var x=bt.fromSegments(b);y&&bt.comparator(y,x)<0;)a(y,null),y=f.getNext();y&&y.isEqual(x)&&(a(y,D),y=f.hasNext()?f.getNext():null),y?S.Ct(y.path.toArray()):S.done()}).next(function(){for(;y;)a(y,null),y=f.hasNext()?f.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){var c=this,f=Ki(),y=i.path.length+1,b={};if(a.isEqual(Qt.min())){var D=i.path.toArray();b.range=IDBKeyRange.lowerBound(D)}else{var S=i.path.toArray(),x=wC(a);b.range=IDBKeyRange.lowerBound([S,x],!0),b.index=Xn.collectionReadTimeIndex}return ec(e).$t(b,function(R,L,q){if(R.length===y){var K=sd(c.R,L);i.path.isPrefixOf(K.key.path)?fp(i,K)&&(f=f.insert(K.key,K)):q.done()}}).next(function(){return f})},t.prototype.newChangeBuffer=function(e){return new TC(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(i){return i.byteSize})},t.prototype.getMetadata=function(e){return Op(e).get(Ws.key).next(function(i){return Pt(!!i),i})},t.prototype.me=function(e,i){return Op(e).put(Ws.key,i)},t.prototype.ye=function(e,i){if(i){var a=sd(this.R,i);if(!a.isNoDocument()||!a.version.isEqual(Qt.min()))return a}return Rr.newInvalidDocument(e)},t}(),TC=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Ie=i,c.trackRemovals=a,c.Ae=new ja(function(f){return f.toString()},function(f,y){return f.isEqual(y)}),c}return It(e,t),e.prototype.applyChanges=function(i){var a=this,c=[],f=0,y=new Ir(function(b,D){return Xt(b.canonicalString(),D.canonicalString())});return this.changes.forEach(function(b,D){var S=a.Ae.get(b);if(D.document.isValidDocument()){var x=Tp(a.Ie.R,D.document,a.getReadTime(b));y=y.add(b.path.popLast());var R=On(x);f+=R-S,c.push(a.Ie.addEntry(i,b,x))}else if(f-=S,a.trackRemovals){var L=Tp(a.Ie.R,Rr.newNoDocument(b,Qt.min()),a.getReadTime(b));c.push(a.Ie.addEntry(i,b,L))}else c.push(a.Ie.removeEntry(i,b))}),y.forEach(function(b){c.push(a.Ie.Ut.addToCollectionParentIndex(i,b))}),c.push(this.Ie.updateMetadata(i,f)),Ge.waitFor(c)},e.prototype.getFromCache=function(i,a){var c=this;return this.Ie.ge(i,a).next(function(f){return c.Ae.set(a,f.size),f.document})},e.prototype.getAllFromCache=function(i,a){var c=this;return this.Ie.Ee(i,a).next(function(f){var y=f.documents;return f.Te.forEach(function(b,D){c.Ae.set(b,D)}),y})},e}(Kb);function Op(t){return Yi(t,Ws.store)}function ec(t){return Yi(t,Xn.store)}function ld(t){return t.path.toArray()}var Qb=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,i,a,c){var f=this;Pt(a<c&&a>=0&&c<=11);var D,y=new FT("createOrUpgrade",i);a<1&&c>=1&&(e.createObjectStore(jo.store),(D=e).createObjectStore(Wu.store,{keyPath:Wu.keyPath}),D.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0}),D.createObjectStore(li.store),jT(e),function(D){D.createObjectStore(Xn.store)}(e));var b=Ge.resolve();return a<3&&c>=3&&(0!==a&&(function(D){D.deleteObjectStore(Gr.store),D.deleteObjectStore(Zi.store),D.deleteObjectStore(Vo.store)}(e),jT(e)),b=b.next(function(){return function(D){var S=D.store(Vo.store),x=new Vo(0,0,Qt.min().toTimestamp(),0);return S.put(Vo.key,x)}(y)})),a<4&&c>=4&&(0!==a&&(b=b.next(function(){return function(D,S){return S.store(kn.store).Nt().next(function(x){D.deleteObjectStore(kn.store),D.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0});var R=S.store(kn.store),L=x.map(function(q){return R.put(q)});return Ge.waitFor(L)})}(e,y)})),b=b.next(function(){!function(D){D.createObjectStore(vo.store,{keyPath:vo.keyPath})}(e)})),a<5&&c>=5&&(b=b.next(function(){return f.Re(y)})),a<6&&c>=6&&(b=b.next(function(){return function(D){D.createObjectStore(Ws.store)}(e),f.be(y)})),a<7&&c>=7&&(b=b.next(function(){return f.ve(y)})),a<8&&c>=8&&(b=b.next(function(){return f.Pe(e,y)})),a<9&&c>=9&&(b=b.next(function(){(function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")})(e),function(D){var S=D.objectStore(Xn.store);S.createIndex(Xn.readTimeIndex,Xn.readTimeIndexPath,{unique:!1}),S.createIndex(Xn.collectionReadTimeIndex,Xn.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(b=b.next(function(){return f.Ve(y)})),a<11&&c>=11&&(b=b.next(function(){(function(D){D.createObjectStore(rd.store,{keyPath:rd.keyPath})})(e),function(D){D.createObjectStore(id.store,{keyPath:id.keyPath})}(e)})),b},t.prototype.be=function(e){var i=0;return e.store(Xn.store).$t(function(a,c){i+=On(c)}).next(function(){var a=new Ws(i);return e.store(Ws.store).put(Ws.key,a)})},t.prototype.Re=function(e){var i=this,a=e.store(Wu.store),c=e.store(kn.store);return a.Nt().next(function(f){return Ge.forEach(f,function(y){var b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return c.Nt(kn.userMutationsIndex,b).next(function(D){return Ge.forEach(D,function(S){Pt(S.userId===y.userId);var x=ls(i.R,S);return bo(e,y.userId,x).next(function(){})})})})})},t.prototype.ve=function(e){var i=e.store(Gr.store),a=e.store(Xn.store);return e.store(Vo.store).get(Vo.key).next(function(c){var f=[];return a.$t(function(y,b){var D=new an(y),S=[0,Qi(D)];f.push(i.get(S).next(function(x){return x?Ge.resolve():i.put(new Gr(0,Qi(D),c.highestListenSequenceNumber))}))}).next(function(){return Ge.waitFor(f)})})},t.prototype.Pe=function(e,i){e.createObjectStore(fl.store,{keyPath:fl.keyPath});var a=i.store(fl.store),c=new my,f=function(y){if(c.add(y)){var b=y.lastSegment(),D=y.popLast();return a.put({collectionId:b,parent:Qi(D)})}};return i.store(Xn.store).$t({Ft:!0},function(y,b){var D=new an(y);return f(D.popLast())}).next(function(){return i.store(li.store).$t({Ft:!0},function(y,b){var S=Fa(y[1]);return f(S.popLast())})})},t.prototype.Ve=function(e){var i=this,a=e.store(Zi.store);return a.$t(function(c,f){var y=La(f),b=LT(i.R,y);return a.put(b)})},t}();function jT(t){t.createObjectStore(Gr.store,{keyPath:Gr.keyPath}).createIndex(Gr.documentTargetsIndex,Gr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zi.store,{keyPath:Zi.keyPath}).createIndex(Zi.queryTargetsIndexName,Zi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Vo.store)}var SC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jt=function(){function t(e,i,a,c,f,y,b,D,S,x){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Se=f,this.window=y,this.document=b,this.De=S,this.Ce=x,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(R){return Promise.resolve()},!t.yt())throw new Fe(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cd(this,c),this.Le=i+"main",this.R=new $b(D),this.Be=new od(this.Le,11,new Qb(this.R)),this.qe=new Sp(this.referenceDelegate,this.R),this.Ut=new EC,this.Ue=new IC(this.R,this.Ut),this.Ke=new Bo,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===x&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,SC);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return e.qe.getHighestSequenceNumber(i)})}).then(function(i){e.Ne=new Wi(i,e.De)}).then(function(){e.xe=!0}).catch(function(i){return e.Be&&e.Be.close(),Promise.reject(i)})},t.prototype.He=function(e){var i=this;return this.Me=function(a){return xe(i,void 0,void 0,function(){return Re(this,function(c){return this.started?[2,e(a)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var i=this;this.Be.vt(function(a){return xe(i,void 0,void 0,function(){return Re(this,function(c){switch(c.label){case 0:return null===a.newVersion?[4,e()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return xe(i,void 0,void 0,function(){return Re(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return tc(i).put(new vo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(i).next(function(a){a||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(i)}).next(function(a){return e.isPrimary&&!a?e.Xe(i).next(function(){return!1}):!!a&&e.Ze(i).next(function(){return!0})})}).catch(function(i){if(dl(i))return $e("IndexedDbPersistence","Failed to extend owner lease: ",i),e.isPrimary;if(!e.allowTabSynchronization)throw i;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){e.isPrimary!==i&&e.Se.enqueueRetryable(function(){return e.Me(i)}),e.isPrimary=i})},t.prototype.Je=function(e){var i=this;return by(e).get(jo.key).next(function(a){return Ge.resolve(i.tn(a))})},t.prototype.en=function(e){return tc(e).delete(this.clientId)},t.prototype.nn=function(){return xe(this,void 0,void 0,function(){var e,i,a,f=this;return Re(this,function(y){switch(y.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(b){var D=Yi(b,vo.store);return D.Nt().next(function(S){var x=f.rn(S,18e5),R=S.filter(function(L){return-1===x.indexOf(L)});return Ge.forEach(R,function(L){return D.delete(L.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(e=y.sent(),this.Qe)for(i=0,a=e;i<a.length;i++)this.Qe.removeItem(this.on(a[i].clientId));y.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var i=this;return this.Ce?Ge.resolve(!0):by(e).get(jo.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)){if(i.tn(a)&&i.networkEnabled)return!0;if(!i.tn(a)){if(!a.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,SC);return!1}}return!(!i.networkEnabled||!i.inForeground)||tc(e).Nt().next(function(c){return void 0===i.rn(c,5e3).find(function(f){return!(i.clientId===f.clientId||!(!i.networkEnabled&&f.networkEnabled||!i.inForeground&&f.inForeground&&i.networkEnabled===f.networkEnabled))})})}).next(function(a){return i.isPrimary!==a&&$e("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},t.prototype.shutdown=function(){return xe(this,void 0,void 0,function(){var e=this;return Re(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[jo.store,vo.store],function(a){var c=new Gb(a,Wi.o);return e.Xe(c).next(function(){return e.en(c)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,i){var a=this;return e.filter(function(c){return a.sn(c.updateTimeMs,i)&&!a.cn(c.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(i){return tc(i).Nt().next(function(a){return e.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return fs.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var f,c=this;return $e("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===i?"readonly":"readwrite",kT,function(b){return f=new Gb(b,c.Ne?c.Ne.next():Wi.o),"readwrite-primary"===i?c.Je(f).next(function(D){return!!D||c.Ye(f)}).next(function(D){if(!D)throw pr("Failed to obtain primary lease for action '"+e+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new Fe(we.FAILED_PRECONDITION,Dp);return a(f)}).next(function(D){return c.Ze(f).next(function(){return D})}):c.dn(f).next(function(){return a(f)})}).then(function(b){return f.raiseOnCommittedEvent(),b})},t.prototype.dn=function(e){var i=this;return by(e).get(jo.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)&&!i.tn(a)&&!(i.Ce||i.allowTabSynchronization&&a.allowTabSynchronization))throw new Fe(we.FAILED_PRECONDITION,SC)})},t.prototype.Ze=function(e){var i=new jo(this.clientId,this.allowTabSynchronization,Date.now());return by(e).put(jo.key,i)},t.yt=function(){return od.yt()},t.prototype.Xe=function(e){var i=this,a=by(e);return a.get(jo.key).next(function(c){return i.tn(c)?($e("IndexedDbPersistence","Releasing primary lease."),a.delete(jo.key)):Ge.resolve()})},t.prototype.sn=function(e,i){var a=Date.now();return!(e<a-i||e>a&&(pr("Detected an update time that is in the future: "+e+" > "+a),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,i=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){i.un(),(0,cn.G6)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var i;try{var a=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(e)));return $e("IndexedDbPersistence","Client '"+e+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return pr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function by(t){return Yi(t,jo.store)}function tc(t){return Yi(t,vo.store)}function Zb(t,e){var i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var VT=function(t,e){this.progress=t,this.wn=e},AC=function(){function t(e,i,a){this.Ue=e,this._n=i,this.Ut=a}return t.prototype.mn=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,i).next(function(c){return a.yn(e,i,c)})},t.prototype.yn=function(e,i,a){return this.Ue.getEntry(e,i).next(function(c){for(var f=0,y=a;f<y.length;f++)y[f].applyToLocalView(c);return c})},t.prototype.gn=function(e,i){e.forEach(function(a,c){for(var f=0,y=i;f<y.length;f++)y[f].applyToLocalView(c)})},t.prototype.pn=function(e,i){var a=this;return this.Ue.getEntries(e,i).next(function(c){return a.En(e,c).next(function(){return c})})},t.prototype.En=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,i).next(function(c){return a.gn(i,c)})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){return bt.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(e,i.path):HE(i)?this.In(e,i,a):this.An(e,i,a);var c},t.prototype.Tn=function(e,i){return this.mn(e,new bt(i)).next(function(a){var c=vp();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})},t.prototype.In=function(e,i,a){var c=this,f=i.collectionGroup,y=vp();return this.Ut.getCollectionParents(e,f).next(function(b){return Ge.forEach(b,function(D){var x,R,S=(x=i,R=D.child(f),new Gs(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));return c.An(e,S,a).next(function(x){x.forEach(function(R,L){y=y.insert(R,L)})})}).next(function(){return y})})},t.prototype.An=function(e,i,a){var c,f,y=this;return this.Ue.getDocumentsMatchingQuery(e,i,a).next(function(b){return c=b,y._n.getAllMutationBatchesAffectingQuery(e,i)}).next(function(b){return y.Rn(e,f=b,c).next(function(D){c=D;for(var S=0,x=f;S<x.length;S++)for(var R=x[S],L=0,q=R.mutations;L<q.length;L++){var K=q[L],ie=K.key,Ie=c.get(ie);null==Ie&&(Ie=Rr.newInvalidDocument(ie),c=c.insert(ie,Ie)),Nb(K,Ie,R.localWriteTime),Ie.isFoundDocument()||(c=c.remove(ie))}})}).next(function(){return c.forEach(function(b,D){fp(i,D)||(c=c.remove(b))}),c})},t.prototype.Rn=function(e,i,a){for(var c=vn(),f=0,y=i;f<y.length;f++)for(var b=0,D=y[f].mutations;b<D.length;b++){var S=D[b];S instanceof qu&&null===a.get(S.key)&&(c=c.add(S.key))}var x=a;return this.Ue.getEntries(e,c).next(function(R){return R.forEach(function(L,q){q.isFoundDocument()&&(x=x.insert(L,q))}),x})},t}(),o1=function(){function t(e,i,a,c){this.targetId=e,this.fromCache=i,this.bn=a,this.vn=c}return t.Pn=function(e,i){for(var a=vn(),c=vn(),f=0,y=i.docChanges;f<y.length;f++){var b=y[f];switch(b.type){case 0:a=a.add(b.doc.key);break;case 1:c=c.add(b.doc.key)}}return new t(e,i.fromCache,a,c)},t}(),BT=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,i,a,c){var y,f=this;return 0===(y=i).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||a.isEqual(Qt.min())?this.Dn(e,i):this.Sn.pn(e,c).next(function(y){var b=f.Cn(i,y);return(ey(i)||up(i))&&f.Nn(i.limitType,b,c,a)?f.Dn(e,i):(yb()<=$c.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xb(i)),f.Sn.getDocumentsMatchingQuery(e,i,a).next(function(D){return b.forEach(function(S){D=D.insert(S.key,S)}),D}))})},t.prototype.Cn=function(e,i){var a=new Ir(Pb(e));return i.forEach(function(c,f){fp(e,f)&&(a=a.add(f))}),a},t.prototype.Nn=function(e,i,a,c){if(a.size!==i.size)return!0;var f="F"===e?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)},t.prototype.Dn=function(e,i){return yb()<=$c.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",xb(i)),this.Sn.getDocumentsMatchingQuery(e,i,Qt.min())},t}(),HT=function(){function t(e,i,a,c){this.persistence=e,this.xn=i,this.R=c,this.kn=new ci(Xt),this.Fn=new ja(function(f){return Kf(f)},Ym),this.$n=Qt.min(),this._n=e.getMutationQueue(a),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new AC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return e.collect(a,i.kn)})},t}();function $r(t,e,i,a){return new HT(t,e,i,a)}function OC(t,e){return xe(this,void 0,void 0,function(){var i,a,c,f;return Re(this,function(y){switch(y.label){case 0:return i=Ye(t),a=i._n,c=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(b){var D;return i._n.getAllMutationBatches(b).next(function(S){return D=S,a=i.persistence.getMutationQueue(e),c=new AC(i.On,a,i.persistence.getIndexManager()),a.getAllMutationBatches(b)}).next(function(S){for(var x=[],R=[],L=vn(),q=0,K=D;q<K.length;q++){var ie=K[q];x.push(ie.batchId);for(var Ie=0,Ae=ie.mutations;Ie<Ae.length;Ie++)L=L.add(Ae[Ie].key)}for(var Le=0,gt=S;Le<gt.length;Le++){var lt=gt[Le];R.push(lt.batchId);for(var en=0,Kr=lt.mutations;en<Kr.length;en++)L=L.add(Kr[en].key)}return c.pn(b,L).next(function(Yp){return{Ln:Yp,removedBatchIds:x,addedBatchIds:R}})})})];case 1:return f=y.sent(),[2,(i._n=a,i.Mn=c,i.xn.Vn(i.Mn),f)]}})})}function GT(t,e){var i=Ye(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(a){var y,b,D,S,x,R,L,c=e.batch.keys(),f=i.On.newChangeBuffer({trackRemovals:!0});return(y=i,b=a,D=e,S=f,x=D.batch,R=x.keys(),L=Ge.resolve(),R.forEach(function(q){L=L.next(function(){return S.getEntry(b,q)}).next(function(K){var ie=D.docVersions.get(q);Pt(null!==ie),K.version.compareTo(ie)<0&&(x.applyToRemoteDocument(K,D),K.isValidDocument()&&S.addEntry(K,D.commitVersion))})}),L.next(function(){return y._n.removeMutationBatch(b,x)})).next(function(){return f.apply(a)}).next(function(){return i._n.performConsistencyCheck(a)}).next(function(){return i.Mn.pn(a,c)})})}function wy(t){var e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return e.qe.getLastRemoteSnapshotVersion(i)})}function qT(t,e){var i=Ye(t),a=e.snapshotVersion,c=i.kn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var y=i.On.newChangeBuffer({trackRemovals:!0});c=i.kn;var b=[];e.targetChanges.forEach(function(x,R){var ie,Ie,Ae,L=c.get(R);if(L){b.push(i.qe.removeMatchingKeys(f,x.removedDocuments,R).next(function(){return i.qe.addMatchingKeys(f,x.addedDocuments,R)}));var q=x.resumeToken;if(q.approximateByteSize()>0){var K=L.withResumeToken(q,a).withSequenceNumber(f.currentSequenceNumber);c=c.insert(R,K),ie=L,Ae=x,Pt((Ie=K).resumeToken.approximateByteSize()>0),(0===ie.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&b.push(i.qe.updateTargetData(f,K))}}});var D=Ki();if(e.documentUpdates.forEach(function(x,R){e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(f,x))}),b.push(xC(f,y,e.documentUpdates,a,void 0).next(function(x){D=x})),!a.isEqual(Qt.min())){var S=i.qe.getLastRemoteSnapshotVersion(f).next(function(x){return i.qe.setTargetsMetadata(f,f.currentSequenceNumber,a)});b.push(S)}return Ge.waitFor(b).next(function(){return y.apply(f)}).next(function(){return i.Mn.En(f,D)}).next(function(){return D})}).then(function(f){return i.kn=c,f})}function xC(t,e,i,a,c){var f=vn();return i.forEach(function(y){return f=f.add(y)}),e.getEntries(t,f).next(function(y){var b=Ki();return i.forEach(function(D,S){var x=y.get(D),R=(null==c?void 0:c.get(D))||a;S.isNoDocument()&&S.version.isEqual(Qt.min())?(e.removeEntry(D,R),b=b.insert(D,S)):!x.isValidDocument()||S.version.compareTo(x.version)>0||0===S.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(S,R),b=b.insert(D,S)):$e("LocalStore","Ignoring outdated watch update for ",D,". Current version:",x.version," Watch version:",S.version)}),b})}function $T(t,e){var i=Ye(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(a){return void 0===e&&(e=-1),i._n.getNextMutationBatchAfterBatchId(a,e)})}function fd(t,e){var i=Ye(t);return i.persistence.runTransaction("Allocate target","readwrite",function(a){var c;return i.qe.getTargetData(a,e).next(function(f){return f?Ge.resolve(c=f):i.qe.allocateTargetId(a).next(function(y){return c=new py(e,y,0,a.currentSequenceNumber),i.qe.addTargetData(a,c).next(function(){return c})})})}).then(function(a){var c=i.kn.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.kn=i.kn.insert(a.targetId,a),i.Fn.set(e,a.targetId)),a})}function dd(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y;return Re(this,function(b){switch(b.label){case 0:a=Ye(t),c=a.kn.get(e),f=i?"readwrite":"readwrite-primary",b.label=1;case 1:return b.trys.push([1,4,,5]),i?[3,3]:[4,a.persistence.runTransaction("Release target",f,function(D){return a.persistence.referenceDelegate.removeTarget(D,c)})];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:if(!dl(y=b.sent()))throw y;return $e("LocalStore","Failed to update sequence numbers for target "+e+": "+y),[3,5];case 5:return a.kn=a.kn.remove(e),a.Fn.delete(c.target),[2]}})})}function Ey(t,e,i){var a=Ye(t),c=Qt.min(),f=vn();return a.persistence.runTransaction("Execute query","readonly",function(y){return(b=a,D=y,S=cs(e),x=Ye(b),R=x.Fn.get(S),void 0!==R?Ge.resolve(x.kn.get(R)):x.qe.getTargetData(D,S)).next(function(b){if(b)return c=b.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(y,b.targetId).next(function(D){f=D})}).next(function(){return a.xn.getDocumentsMatchingQuery(y,e,i?c:Qt.min(),i?f:vn())}).next(function(b){return{documents:b,Bn:f}});var b,D,S,x,R})}function Cy(t,e){var i=Ye(t),a=Ye(i.qe),c=i.kn.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",function(f){return a.lt(f,e).next(function(y){return y?y.target:null})})}function PC(t){var e=Ye(t);return e.persistence.runTransaction("Get new document changes","readonly",function(i){return c=i,f=e.$n,y=Ye(e.On),b=Ki(),D=wC(f),S=ec(c),x=IDBKeyRange.lowerBound(D,!0),S.$t({index:Xn.readTimeIndex,range:x},function(R,L){var q=sd(y.R,L);b=b.insert(q.key,q),D=L.readTime}).next(function(){return{wn:b,readTime:ad(D)}});var c,f,y,b,D,S,x}).then(function(i){var a=i.wn;return e.$n=i.readTime,a})}function WT(t){return xe(this,void 0,void 0,function(){var e;return Re(this,function(i){return[2,(e=Ye(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(a){return f=ec(a),y=Qt.min(),f.$t({index:Xn.readTimeIndex,reverse:!0},function(b,D,S){D.readTime&&(y=ad(D.readTime)),S.done()}).next(function(){return y});var f,y}).then(function(a){e.$n=a})]})})}function RC(t,e,i,a){return xe(this,void 0,void 0,function(){var c,f,y,b,D,S,x,R,L,q;return Re(this,function(K){switch(K.label){case 0:for(c=Ye(t),f=vn(),y=Ki(),b=oC(),D=0,S=i;D<S.length;D++)R=e.qn((x=S[D]).metadata.name),x.document&&(f=f.add(R)),y=y.insert(R,e.Un(x)),b=b.insert(R,e.Kn(x.metadata.readTime));return L=c.On.newChangeBuffer({trackRemovals:!0}),[4,fd(c,(ie=a,cs(ul(an.fromString("__bundle__/docs/"+ie)))))];case 1:return q=K.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(ie){return xC(ie,L,y,Qt.min(),b).next(function(Ie){return L.apply(ie),Ie}).next(function(Ie){return c.qe.removeMatchingKeysForTargetId(ie,q.targetId).next(function(){return c.qe.addMatchingKeys(ie,f,q.targetId)}).next(function(){return c.Mn.En(ie,Ie)}).next(function(){return Ie})})})]}var ie})})}function Yb(t,e,i){return void 0===i&&(i=vn()),xe(this,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:return[4,fd(t,cs(Nt(e.bundledQuery)))];case 1:return a=f.sent(),[2,(c=Ye(t)).persistence.runTransaction("Save named query","readwrite",function(y){var b=Tr(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return c.Ke.saveNamedQuery(y,e);var D=a.withResumeToken(ai.EMPTY_BYTE_STRING,b);return c.kn=c.kn.insert(D.targetId,D),c.qe.updateTargetData(y,D).next(function(){return c.qe.removeMatchingKeysForTargetId(y,a.targetId)}).next(function(){return c.qe.addMatchingKeys(y,i,a.targetId)}).next(function(){return c.Ke.saveNamedQuery(y,e)})})]}})})}var zT=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,i){return Ge.resolve(this.Qn.get(i))},t.prototype.saveBundleMetadata=function(e,i){var a;return this.Qn.set(i.id,{id:(a=i).id,version:a.version,createTime:Tr(a.createTime)}),Ge.resolve()},t.prototype.getNamedQuery=function(e,i){return Ge.resolve(this.jn.get(i))},t.prototype.saveNamedQuery=function(e,i){return this.jn.set(i.name,{name:(a=i).name,query:Nt(a.bundledQuery),readTime:Tr(a.readTime)}),Ge.resolve();var a},t}(),MC=function(){function t(){this.Wn=new Ir(Mr.Gn),this.zn=new Ir(Mr.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,i){var a=new Mr(e,i);this.Wn=this.Wn.add(a),this.zn=this.zn.add(a)},t.prototype.Jn=function(e,i){var a=this;e.forEach(function(c){return a.addReference(c,i)})},t.prototype.removeReference=function(e,i){this.Yn(new Mr(e,i))},t.prototype.Xn=function(e,i){var a=this;e.forEach(function(c){return a.removeReference(c,i)})},t.prototype.Zn=function(e){var i=this,a=new bt(new an([])),c=new Mr(a,e),f=new Mr(a,e+1),y=[];return this.zn.forEachInRange([c,f],function(b){i.Yn(b),y.push(b.key)}),y},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(i){return e.Yn(i)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var i=new bt(new an([])),a=new Mr(i,e),c=new Mr(i,e+1),f=vn();return this.zn.forEachInRange([a,c],function(y){f=f.add(y.key)}),f},t.prototype.containsKey=function(e){var i=new Mr(e,0),a=this.Wn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)},t}(),Mr=function(){function t(e,i){this.key=e,this.ns=i}return t.Gn=function(e,i){return bt.comparator(e.key,i.key)||Xt(e.ns,i.ns)},t.Hn=function(e,i){return Xt(e.ns,i.ns)||bt.comparator(e.key,i.key)},t}(),KT=function(){function t(e,i){this.Ut=e,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new Ir(Mr.Gn)}return t.prototype.checkEmpty=function(e){return Ge.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,i,a,c){var f=this.ss;this.ss++;var y=new qb(f,i,a,c);this._n.push(y);for(var b=0,D=c;b<D.length;b++){var S=D[b];this.rs=this.rs.add(new Mr(S.key,f)),this.Ut.addToCollectionParentIndex(e,S.key.path.popLast())}return Ge.resolve(y)},t.prototype.lookupMutationBatch=function(e,i){return Ge.resolve(this.os(i))},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var c=this.cs(i+1),f=c<0?0:c;return Ge.resolve(this._n.length>f?this._n[f]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ge.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Ge.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=new Mr(i,0),f=new Mr(i,Number.POSITIVE_INFINITY),y=[];return this.rs.forEachInRange([c,f],function(b){var D=a.os(b.ns);y.push(D)}),Ge.resolve(y)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new Ir(Xt);return i.forEach(function(f){var y=new Mr(f,0),b=new Mr(f,Number.POSITIVE_INFINITY);a.rs.forEachInRange([y,b],function(D){c=c.add(D.ns)})}),Ge.resolve(this.us(c))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=i.path,c=a.length+1,f=a;bt.isDocumentKey(f)||(f=f.child(""));var y=new Mr(new bt(f),0),b=new Ir(Xt);return this.rs.forEachWhile(function(D){var S=D.key.path;return!!a.isPrefixOf(S)&&(S.length===c&&(b=b.add(D.ns)),!0)},y),Ge.resolve(this.us(b))},t.prototype.us=function(e){var i=this,a=[];return e.forEach(function(c){var f=i.os(c);null!==f&&a.push(f)}),a},t.prototype.removeMutationBatch=function(e,i){var a=this;Pt(0===this.hs(i.batchId,"removed")),this._n.shift();var c=this.rs;return Ge.forEach(i.mutations,function(f){var y=new Mr(f.key,i.batchId);return c=c.delete(y),a.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(function(){a.rs=c})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,i){var a=new Mr(i,0),c=this.rs.firstAfterOrEqual(a);return Ge.resolve(i.isEqual(c&&c.key))},t.prototype.performConsistencyCheck=function(e){return Ge.resolve()},t.prototype.hs=function(e,i){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var i=this.cs(e);return i<0||i>=this._n.length?null:this._n[i]},t}(),QT=function(){function t(e,i){this.Ut=e,this.ls=i,this.docs=new ci(bt.comparator),this.size=0}return t.prototype.addEntry=function(e,i,a){var c=i.key,f=this.docs.get(c),y=f?f.size:0,b=this.ls(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:b,readTime:a}),this.size+=b-y,this.Ut.addToCollectionParentIndex(e,c.path.popLast())},t.prototype.removeEntry=function(e){var i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)},t.prototype.getEntry=function(e,i){var a=this.docs.get(i);return Ge.resolve(a?a.document.clone():Rr.newInvalidDocument(i))},t.prototype.getEntries=function(e,i){var a=this,c=Ki();return i.forEach(function(f){var y=a.docs.get(f);c=c.insert(f,y?y.document.clone():Rr.newInvalidDocument(f))}),Ge.resolve(c)},t.prototype.getDocumentsMatchingQuery=function(e,i,a){for(var c=Ki(),f=new bt(i.path.child("")),y=this.docs.getIteratorFrom(f);y.hasNext();){var b=y.getNext(),S=b.value,x=S.document,R=S.readTime;if(!i.path.isPrefixOf(b.key.path))break;R.compareTo(a)<=0||fp(i,x)&&(c=c.insert(x.key,x.clone()))}return Ge.resolve(c)},t.prototype.fs=function(e,i){return Ge.forEach(this.docs,function(a){return i(a)})},t.prototype.newChangeBuffer=function(e){return new ZT(this)},t.prototype.getSize=function(e){return Ge.resolve(this.size)},t}(),ZT=function(t){function e(i){var a=this;return(a=t.call(this)||this).Ie=i,a}return It(e,t),e.prototype.applyChanges=function(i){var a=this,c=[];return this.changes.forEach(function(f,y){y.document.isValidDocument()?c.push(a.Ie.addEntry(i,y.document,a.getReadTime(f))):a.Ie.removeEntry(f)}),Ge.waitFor(c)},e.prototype.getFromCache=function(i,a){return this.Ie.getEntry(i,a)},e.prototype.getAllFromCache=function(i,a){return this.Ie.getEntries(i,a)},e}(Kb),YT=function(){function t(e){this.persistence=e,this.ds=new ja(function(i){return Kf(i)},Ym),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.ws=0,this._s=new MC,this.targetCount=0,this.ys=Ua.Jt()}return t.prototype.forEachTarget=function(e,i){return this.ds.forEach(function(a,c){return i(c)}),Ge.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Ge.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Ge.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ge.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ws&&(this.ws=i),Ge.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var i=e.targetId;i>this.highestTargetId&&(this.ys=new Ua(i),this.highestTargetId=i),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,i){return this.te(i),this.targetCount+=1,Ge.resolve()},t.prototype.updateTargetData=function(e,i){return this.te(i),Ge.resolve()},t.prototype.removeTargetData=function(e,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,Ge.resolve()},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,y=[];return this.ds.forEach(function(b,D){D.sequenceNumber<=i&&null===a.get(D.targetId)&&(c.ds.delete(b),y.push(c.removeMatchingKeysForTargetId(e,D.targetId)),f++)}),Ge.waitFor(y).next(function(){return f})},t.prototype.getTargetCount=function(e){return Ge.resolve(this.targetCount)},t.prototype.getTargetData=function(e,i){var a=this.ds.get(i)||null;return Ge.resolve(a)},t.prototype.addMatchingKeys=function(e,i,a){return this._s.Jn(i,a),Ge.resolve()},t.prototype.removeMatchingKeys=function(e,i,a){this._s.Xn(i,a);var c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(function(y){f.push(c.markPotentiallyOrphaned(e,y))}),Ge.waitFor(f)},t.prototype.removeMatchingKeysForTargetId=function(e,i){return this._s.Zn(i),Ge.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=this._s.es(i);return Ge.resolve(a)},t.prototype.containsKey=function(e,i){return Ge.resolve(this._s.containsKey(i))},t}(),JT=function(){function t(e,i){var a=this;this.gs={},this.Ne=new Wi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new YT(this),this.Ut=new i1,this.Ue=new QT(this.Ut,function(y){return a.referenceDelegate.ps(y)}),this.R=new $b(i),this.Ke=new zT(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var i=this.gs[e.toKey()];return i||(i=new KT(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=i),i},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var c=this;$e("MemoryPersistence","Starting transaction:",e);var f=new xp(this.Ne.next());return this.referenceDelegate.Es(),a(f).next(function(y){return c.referenceDelegate.Ts(f).next(function(){return y})}).toPromise().then(function(y){return f.raiseOnCommittedEvent(),y})},t.prototype.Is=function(e,i){return Ge.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(e,i)}}))},t}(),xp=function(t){function e(i){var a=this;return(a=t.call(this)||this).currentSequenceNumber=i,a}return It(e,t),e}(zu),XT=function(){function t(e){this.persistence=e,this.As=new MC,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw pt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,i,a){return this.As.addReference(a,i),this.vs.delete(a.toString()),Ge.resolve()},t.prototype.removeReference=function(e,i,a){return this.As.removeReference(a,i),this.vs.add(a.toString()),Ge.resolve()},t.prototype.markPotentiallyOrphaned=function(e,i){return this.vs.add(i.toString()),Ge.resolve()},t.prototype.removeTarget=function(e,i){var a=this;this.As.Zn(i.targetId).forEach(function(f){return a.vs.add(f.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,i.targetId).next(function(f){f.forEach(function(y){return a.vs.add(y.toString())})}).next(function(){return c.removeTargetData(e,i)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var i=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.vs,function(c){var f=bt.fromPath(c);return i.Ps(e,f).next(function(y){y||a.removeEntry(f)})}).next(function(){return i.Rs=null,a.apply(e)})},t.prototype.updateLimboDocument=function(e,i){var a=this;return this.Ps(e,i).next(function(c){c?a.vs.delete(i.toString()):a.vs.add(i.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,i){var a=this;return Ge.or([function(){return Ge.resolve(a.As.containsKey(i))},function(){return a.persistence.getTargetCache().containsKey(e,i)},function(){return a.persistence.Is(e,i)}])},t}(),Wr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function Jb(t,e){return"firestore_clients_"+t+"_"+e}function hd(t,e,i){var a="firestore_mutations_"+t+"_"+i;return e.isAuthenticated()&&(a+="_"+e.uid),a}function NC(t,e){return"firestore_targets_"+t+"_"+e}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");var Xb=function(){function t(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}return t.Vs=function(e,i,a){var c,f=JSON.parse(a),y="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return y&&f.error&&(y="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(c=new Fe(f.error.code,f.error.message)),y?new t(e,i,f.state,c):(pr("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+a),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),e0=function(){function t(e,i,a){this.targetId=e,this.state=i,this.error=a}return t.Vs=function(e,i){var a,c=JSON.parse(i),f="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new Fe(c.error.code,c.error.message)),f?new t(e,c.state,a):(pr("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),kC=function(){function t(e,i){this.clientId=e,this.activeTargetIds=i}return t.Vs=function(e,i){for(var a=JSON.parse(i),c="object"==typeof a&&a.activeTargetIds instanceof Array,f=ry(),y=0;c&&y<a.activeTargetIds.length;++y)c=Qm(a.activeTargetIds[y]),f=f.add(a.activeTargetIds[y]);return c?new t(e,f):(pr("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),eS=function(){function t(e,i){this.clientId=e,this.onlineState=i}return t.Vs=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(pr("SharedClientState","Failed to parse online state: "+e),null)},t}(),t0=function(){function t(){this.activeTargetIds=ry()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),n0=function(){function t(e,i,a,c,f){this.window=e,this.Se=i,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ci(Xt),this.started=!1,this.$s=[];var y=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=Jb(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new t0),this.Ls=new RegExp("^firestore_clients_"+y+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+y+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+y+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(b){return"firestore_bundle_loaded_"+b}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return xe(this,void 0,void 0,function(){var e,i,a,c,f,y,b,D,S,x,L=this;return Re(this,function(q){switch(q.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=q.sent(),i=0,a=e;i<a.length;i++)(c=a[i])!==this.Ns&&(f=this.getItem(Jb(this.persistenceKey,c)))&&(y=kC.Vs(c,f))&&(this.Fs=this.Fs.insert(y.clientId,y));for(this.Qs(),(b=this.storage.getItem(this.Us))&&(D=this.js(b))&&this.Ws(D),S=0,x=this.$s;S<x.length;S++)this.ks(x[S]);return this.$s=[],this.window.addEventListener("pagehide",function(){return L.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var i=!1;return this.Fs.forEach(function(a,c){c.activeTargetIds.has(e)&&(i=!0)}),i},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,i,a){this.zs(e,i,a),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var i="not-current";if(this.isActiveQueryTarget(e)){var a=this.storage.getItem(NC(this.persistenceKey,e));if(a){var c=e0.Vs(e,a);c&&(i=c.state)}}return this.Js.Ds(e),this.Qs(),i},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(NC(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,i,a){this.Ys(e,i,a)},t.prototype.handleUserChange=function(e,i,a){var c=this;i.forEach(function(f){c.Hs(f)}),this.currentUser=e,a.forEach(function(f){c.addPendingMutation(f)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var i=this.storage.getItem(e);return $e("SharedClientState","READ",e,i),i},t.prototype.setItem=function(e,i){$e("SharedClientState","SET",e,i),this.storage.setItem(e,i)},t.prototype.removeItem=function(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var i=this,a=e;if(a.storageArea===this.storage){if($e("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Os)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return xe(i,void 0,void 0,function(){var c,f,y,b,D,S;return Re(this,function(x){if(this.started){if(null!==a.key)if(this.Ls.test(a.key)){if(null==a.newValue)return c=this.ti(a.key),[2,this.ei(c,null)];if(f=this.ni(a.key,a.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(a.key)){if(null!==a.newValue&&(y=this.si(a.key,a.newValue)))return[2,this.ii(y)]}else if(this.qs.test(a.key)){if(null!==a.newValue&&(b=this.ri(a.key,a.newValue)))return[2,this.oi(b)]}else if(a.key===this.Us){if(null!==a.newValue&&(D=this.js(a.newValue)))return[2,this.Ws(D)]}else if(a.key===this.Ms)(S=function(R){var L=Wi.o;if(null!=R)try{var q=JSON.parse(R);Pt("number"==typeof q),L=q}catch(K){pr("SharedClientState","Failed to read sequence number from WebStorage",K)}return L}(a.newValue))!==Wi.o&&this.sequenceNumberHandler(S);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(a);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,i,a){var c=new Xb(this.currentUser,e,i,a),f=hd(this.persistenceKey,this.currentUser,e);this.setItem(f,c.Ss())},t.prototype.Hs=function(e){var i=hd(this.persistenceKey,this.currentUser,e);this.removeItem(i)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,i,a){var c=NC(this.persistenceKey,e),f=new e0(e,i,a);this.setItem(c,f.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var i=this.Ls.exec(e);return i?i[1]:null},t.prototype.ni=function(e,i){var a=this.ti(e);return kC.Vs(a,i)},t.prototype.si=function(e,i){var a=this.Bs.exec(e),c=Number(a[1]);return Xb.Vs(new Wr(void 0!==a[2]?a[2]:null),c,i)},t.prototype.ri=function(e,i){var a=this.qs.exec(e),c=Number(a[1]);return e0.Vs(c,i)},t.prototype.js=function(e){return eS.Vs(e)},t.prototype.ii=function(e){return xe(this,void 0,void 0,function(){return Re(this,function(i){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:($e("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,i){var a=this,c=i?this.Fs.insert(e,i):this.Fs.remove(e),f=this.Gs(this.Fs),y=this.Gs(c),b=[],D=[];return y.forEach(function(S){f.has(S)||b.push(S)}),f.forEach(function(S){y.has(S)||D.push(S)}),this.syncEngine.hi(b,D).then(function(){a.Fs=c})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var i=ry();return e.forEach(function(a,c){i=i.unionWith(c.activeTargetIds)}),i},t}(),r0=function(){function t(){this.li=new t0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,i,a){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,i,a){this.fi[e]=i},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new t0,Promise.resolve()},t.prototype.handleUserChange=function(e,i,a){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),tS=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),FC=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(0)},t.prototype.yi=function(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),s1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},a1=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),u1=function(t){function e(i){var a=this;return(a=t.call(this,i)||this).forceLongPolling=i.forceLongPolling,a.autoDetectLongPolling=i.autoDetectLongPolling,a.useFetchStreams=i.useFetchStreams,a}return It(e,t),e.prototype.Fi=function(i,a,c,f){return new Promise(function(y,b){var D=new mb;D.listenOnce(gb.COMPLETE,function(){try{switch(D.getLastErrorCode()){case np.NO_ERROR:var x=D.getResponseJson();$e("Connection","XHR received:",JSON.stringify(x)),y(x);break;case np.TIMEOUT:$e("Connection",'RPC "'+i+'" timed out'),b(new Fe(we.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:var R=D.getStatus();if($e("Connection",'RPC "'+i+'" failed with status:',R,"response text:",D.getResponseText()),R>0){var L=D.getResponseJson().error;if(L&&L.status&&L.message){var q=(ie=L.status.toLowerCase().replace(/_/g,"-"),Object.values(we).indexOf(ie)>=0?ie:we.UNKNOWN);b(new Fe(q,L.message))}else b(new Fe(we.UNKNOWN,"Server responded with status "+D.getStatus()))}else b(new Fe(we.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{$e("Connection",'RPC "'+i+'" completed.')}var ie});var S=JSON.stringify(f);D.send(a,"POST",S,c,15)})},e.prototype.Oi=function(i,a){var c=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],f=new Wm,y=Wh(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Km({})),this.ki(b.initMessageHeaders,a),(0,cn.uI)()||(0,cn.b$)()||(0,cn.d)()||(0,cn.w1)()||(0,cn.Mn)()||(0,cn.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");var D=c.join("");$e("Connection","Creating WebChannel: "+D,b);var S=f.createWebChannel(D,b),x=!1,R=!1,L=new a1({Ei:function(K){R?$e("Connection","Not sending because WebChannel is closed:",K):(x||($e("Connection","Opening WebChannel transport."),S.open(),x=!0),$e("Connection","WebChannel sending:",K),S.send(K))},Ti:function(){return S.close()}}),q=function(K,ie,Ie){K.listen(ie,function(Ae){try{Ie(Ae)}catch(He){setTimeout(function(){throw He},0)}})};return q(S,qf.EventType.OPEN,function(){R||$e("Connection","WebChannel transport opened.")}),q(S,qf.EventType.CLOSE,function(){R||(R=!0,$e("Connection","WebChannel transport closed"),L.Vi())}),q(S,qf.EventType.ERROR,function(K){R||(R=!0,rp("Connection","WebChannel transport errored:",K),L.Vi(new Fe(we.UNAVAILABLE,"The operation could not be completed")))}),q(S,qf.EventType.MESSAGE,function(K){var ie;if(!R){var Ie=K.data[0];Pt(!!Ie);var He=Ie.error||(null===(ie=Ie[0])||void 0===ie?void 0:ie.error);if(He){$e("Connection","WebChannel received error:",He);var Le=He.status,gt=function(en){var Kr=gr[en];if(void 0!==Kr)return nC(Kr)}(Le),lt=He.message;void 0===gt&&(gt=we.INTERNAL,lt="Unknown error status: "+Le+" with message "+He.message),R=!0,L.Vi(new Fe(gt,lt)),S.close()}else $e("Connection","WebChannel received:",Ie),L.Si(Ie)}}),q(y,zm.STAT_EVENT,function(K){K.stat===Gf_PROXY?$e("Connection","Detected buffering proxy"):K.stat===Gf_NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(function(){L.Pi()},0),L},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,i,a,c){var f=this.xi(e,i);$e("RestConnection","Sending: ",f,a);var y={};return this.ki(y,c),this.Fi(e,f,y,a).then(function(b){return $e("RestConnection","Received: ",b),b},function(b){throw rp("RestConnection",e+" failed with error: ",b,"url: ",f,"request:",a),b})},t.prototype.$i=function(e,i,a,c){return this.Ni(e,i,a,c)},t.prototype.ki=function(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])},t.prototype.xi=function(e,i){return this.Di+"/v1/"+i+":"+s1[e]},t}());function Dy(){return"undefined"!=typeof window?window:null}function Iy(){return"undefined"!=typeof document?document:null}function Pp(t){return new OT(t,!0)}var i0=function(){function t(e,i,a,c,f){void 0===a&&(a=1e3),void 0===c&&(c=1.5),void 0===f&&(f=6e4),this.Se=e,this.timerId=i,this.Mi=a,this.Li=c,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var i=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),f=Math.max(0,a-c);f>0&&$e("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return i.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),LC=function(){function t(e,i,a,c,f,y){this.Se=e,this.zi=a,this.Hi=c,this.Ji=f,this.listener=y,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new i0(e,i)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,i){return xe(this,void 0,void 0,function(){return Re(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():i&&i.code===we.RESOURCE_EXHAUSTED?(pr(i.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===we.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(i)];case 1:return a.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var i=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){e.Yi===a&&e.lr(c)},function(c){i(function(){var f=new Fe(we.UNKNOWN,"Fetching auth token failed: "+c.message);return e.dr(f)})})},t.prototype.lr=function(e){var i=this,a=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){a(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return i.dr(c)})}),this.stream.onMessage(function(c){a(function(){return i.onMessage(c)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return xe(e,void 0,void 0,function(){return Re(this,function(i){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return $e("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var i=this;return function(a){i.Se.enqueueAndForget(function(){return i.Yi===e?a():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nS=function(t){function e(i,a,c,f,y){var b=this;return(b=t.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",a,c,y)||this).R=f,b}return It(e,t),e.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},e.prototype.onMessage=function(i){this.Zi.reset();var a=function(f,y){var b,Ie;if("targetChange"in y){var D="NO_CHANGE"===(Ie=y.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ie?1:"REMOVE"===Ie?2:"CURRENT"===Ie?3:"RESET"===Ie?4:pt(),S=y.targetChange.targetIds||[],x=function(Ie,Ae){return Ie.I?(Pt(void 0===Ae||"string"==typeof Ae),ai.fromBase64String(Ae||"")):(Pt(void 0===Ae||Ae instanceof Uint8Array),ai.fromUint8Array(Ae||new Uint8Array))}(f,y.targetChange.resumeToken),R=(L=y.targetChange.cause)&&function(Ie){var Ae=void 0===Ie.code?we.UNKNOWN:nC(Ie.code);return new Fe(Ae,Ie.message||"")}(L);b=new sC(D,S,x,R||null)}else if("documentChange"in y){S=$s(f,(D=y.documentChange).document.name),x=Tr(D.document.updateTime);var L=new Ti({mapValue:{fields:D.document.fields}}),q=(R=Rr.newFoundDocument(S,x,L),D.targetIds||[]);b=new _p(q,D.removedTargetIds||[],R.key,R)}else if("documentDelete"in y)S=$s(f,(D=y.documentDelete).document),x=D.readTime?Tr(D.readTime):Qt.min(),L=Rr.newNoDocument(S,x),b=new _p([],R=D.removedTargetIds||[],L.key,L);else if("documentRemove"in y)S=$s(f,(D=y.documentRemove).document),b=new _p([],x=D.removedTargetIds||[],S,null);else{if(!("filter"in y))return pt();var ie=y.filter;S=new tC(D=ie.count||0),b=new ST(x=ie.targetId,S)}return b}(this.R,i),c=function(f){if(!("targetChange"in f))return Qt.min();var y=f.targetChange;return y.targetIds&&y.targetIds.length?Qt.min():y.readTime?Tr(y.readTime):Qt.min()}(i);return this.listener._r(a,c)},e.prototype.mr=function(i){var f,y,b,D,a={};a.database=Cp(this.R),a.addTarget=(f=this.R,(b=Jm(D=(y=i).target)?{documents:dC(f,D)}:{query:xT(f,D)}).targetId=y.targetId,y.resumeToken.approximateByteSize()>0?b.resumeToken=aC(f,y.resumeToken):y.snapshotVersion.compareTo(Qt.min())>0&&(b.readTime=ay(f,y.snapshotVersion.toTimestamp())),b);var c=function(f,y){var b=function(D,S){switch(S){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,y.purpose);return null==b?null:{"goog-listen-tags":b}}(0,i);c&&(a.labels=c),this.cr(a)},e.prototype.yr=function(i){var a={};a.database=Cp(this.R),a.removeTarget=i,this.cr(a)},e}(LC),rS=function(t){function e(i,a,c,f,y){var b=this;return(b=t.call(this,i,"write_stream_connection_backoff","write_stream_idle",a,c,y)||this).R=f,b.gr=!1,b}return It(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(i){return this.Hi.Oi("Write",i)},e.prototype.onMessage=function(i){if(Pt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var a=(y=i.commitTime,(f=i.writeResults)&&f.length>0?(Pt(void 0!==y),f.map(function(b){return S=y,(x=Tr((D=b).updateTime?D.updateTime:S)).isEqual(Qt.min())&&(x=Tr(S)),new Mb(x,D.transformResults||[]);var D,S,x})):[]),c=Tr(i.commitTime);return this.listener.Tr(c,a)}var f,y;return Pt(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var i={};i.database=Cp(this.R),this.cr(i)},e.prototype.Er=function(i){var a=this,c={streamToken:this.lastStreamToken,writes:i.map(function(f){return Xf(a.R,f)})};this.cr(c)},e}(LC),UC=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).credentials=i,f.Hi=a,f.R=c,f.Rr=!1,f}return It(e,t),e.prototype.br=function(){if(this.Rr)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(y){return f.Hi.Ni(i,a,c,y)}).catch(function(y){throw"FirebaseError"===y.name?(y.code===we.UNAUTHENTICATED&&f.credentials.invalidateToken(),y):new Fe(we.UNKNOWN,y.toString())})},e.prototype.$i=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(y){return f.Hi.$i(i,a,c,y)}).catch(function(y){throw"FirebaseError"===y.name?(y.code===we.UNAUTHENTICATED&&f.credentials.invalidateToken(),y):new Fe(we.UNKNOWN,y.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),o0=function(){function t(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var i="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(pr(i),this.Vr=!1):$e("OnlineStateTracker",i)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),iS=function(t,e,i,a,c){var f=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(y){i.enqueueAndForget(function(){return xe(f,void 0,void 0,function(){return Re(this,function(b){switch(b.label){case 0:return Va(this)?($e("RemoteStore","Restarting streams for network reachability change."),[4,function(D){return xe(this,void 0,void 0,function(){var S;return Re(this,function(x){switch(x.label){case 0:return(S=Ye(D)).Or.add(4),[4,ur(S)];case 1:return x.sent(),S.Br.set("Unknown"),S.Or.delete(4),[4,Ks(S)];case 2:return x.sent(),[2]}})})}(this)]):[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})})}),this.Br=new o0(i,a)};function Ks(t){return xe(this,void 0,void 0,function(){var e,i;return Re(this,function(a){switch(a.label){case 0:if(!Va(t))return[3,4];e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ur(t){return xe(this,void 0,void 0,function(){var e,i;return Re(this,function(a){switch(a.label){case 0:e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Rp(t,e){var i=Ye(t);i.$r.has(e.targetId)||(i.$r.set(e.targetId,e),Sy(i)?Ty(i):gd(i).er()&&Mp(i,e))}function Si(t,e){var i=Ye(t),a=gd(i);i.$r.delete(e),a.er()&&jC(i,e),0===i.$r.size&&(a.er()?a.ir():Va(i)&&i.Br.set("Unknown"))}function Mp(t,e){t.qr.U(e.targetId),gd(t).mr(e)}function jC(t,e){t.qr.U(e),gd(t).yr(e)}function Ty(t){t.qr=new r1({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gd(t).start(),t.Br.Sr()}function Sy(t){return Va(t)&&!gd(t).tr()&&t.$r.size>0}function Va(t){return 0===Ye(t).Or.size}function VC(t){t.qr=void 0}function oS(t){return xe(this,void 0,void 0,function(){return Re(this,function(e){return t.$r.forEach(function(i,a){Mp(t,i)}),[2]})})}function sS(t,e){return xe(this,void 0,void 0,function(){return Re(this,function(i){return VC(t),Sy(t)?(t.Br.Nr(e),Ty(t)):t.Br.set("Unknown"),[2]})})}function BC(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f;return Re(this,function(y){switch(y.label){case 0:if(t.Br.set("Online"),!(e instanceof sC&&2===e.state&&e.cause))return[3,6];y.label=1;case 1:return y.trys.push([1,3,,5]),[4,function(b,D){return xe(this,void 0,void 0,function(){var S,x,R,L;return Re(this,function(q){switch(q.label){case 0:S=D.cause,x=0,R=D.targetIds,q.label=1;case 1:return x<R.length?b.$r.has(L=R[x])?[4,b.remoteSyncer.rejectListen(L,S)]:[3,3]:[3,5];case 2:q.sent(),b.$r.delete(L),b.qr.removeTarget(L),q.label=3;case 3:q.label=4;case 4:return x++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return y.sent(),[3,5];case 3:return a=y.sent(),$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),[4,Ay(t,a)];case 4:return y.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _p?t.qr.X(e):e instanceof ST?t.qr.rt(e):t.qr.et(e),i.isEqual(Qt.min()))return[3,13];y.label=7;case 7:return y.trys.push([7,11,,13]),[4,wy(t.localStore)];case 8:return c=y.sent(),i.compareTo(c)>=0?[4,(b=t,D=i,S=b.qr.ut(D),S.targetChanges.forEach(function(x,R){if(x.resumeToken.approximateByteSize()>0){var L=b.$r.get(R);L&&b.$r.set(R,L.withResumeToken(x.resumeToken,D))}}),S.targetMismatches.forEach(function(x){var R=b.$r.get(x);if(R){b.$r.set(x,R.withResumeToken(ai.EMPTY_BYTE_STRING,R.snapshotVersion)),jC(b,x);var L=new py(R.target,x,1,R.sequenceNumber);Mp(b,L)}}),b.remoteSyncer.applyRemoteEvent(S))]:[3,10];case 9:y.sent(),y.label=10;case 10:return[3,13];case 11:return $e("RemoteStore","Failed to raise snapshot:",f=y.sent()),[4,Ay(t,f)];case 12:return y.sent(),[3,13];case 13:return[2]}var b,D,S})})}function Ay(t,e,i){return xe(this,void 0,void 0,function(){var a=this;return Re(this,function(c){switch(c.label){case 0:if(!dl(e))throw e;return t.Or.add(1),[4,ur(t)];case 1:return c.sent(),t.Br.set("Offline"),i||(i=function(){return wy(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return xe(a,void 0,void 0,function(){return Re(this,function(f){switch(f.label){case 0:return $e("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return f.sent(),t.Or.delete(1),[4,Ks(t)];case 2:return f.sent(),[2]}})})}),[2]}})})}function aS(t,e){return e().catch(function(i){return Ay(t,i,e)})}function pd(t){return xe(this,void 0,void 0,function(){var e,i,a,c,f;return Re(this,function(y){switch(y.label){case 0:e=Ye(t),i=Qs(e),a=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,y.label=1;case 1:if(!(Va(b=e)&&b.Fr.length<10))return[3,7];y.label=2;case 2:return y.trys.push([2,4,,6]),[4,$T(e.localStore,a)];case 3:return null===(c=y.sent())?(0===e.Fr.length&&i.ir(),[3,7]):(a=c.batchId,function(b,D){b.Fr.push(D);var S=Qs(b);S.er()&&S.pr&&S.Er(D.mutations)}(e,c),[3,6]);case 4:return f=y.sent(),[4,Ay(e,f)];case 5:return y.sent(),[3,6];case 6:return[3,1];case 7:return HC(e)&&pl(e),[2]}var b})})}function HC(t){return Va(t)&&!Qs(t).tr()&&t.Fr.length>0}function pl(t){Qs(t).start()}function c1(t){return xe(this,void 0,void 0,function(){return Re(this,function(e){return Qs(t).Ar(),[2]})})}function GC(t){return xe(this,void 0,void 0,function(){var e,i,a;return Re(this,function(f){for(e=Qs(t),i=0,a=t.Fr;i<a.length;i++)e.Er(a[i].mutations);return[2]})})}function uS(t,e,i){return xe(this,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:return a=t.Fr.shift(),c=bC.from(a,e,i),[4,aS(t,function(){return t.remoteSyncer.applySuccessfulWrite(c)})];case 1:return f.sent(),[4,pd(t)];case 2:return f.sent(),[2]}})})}function l1(t,e){return xe(this,void 0,void 0,function(){return Re(this,function(i){switch(i.label){case 0:return e&&Qs(t).pr?[4,function(a,c){return xe(this,void 0,void 0,function(){var f,y;return Re(this,function(b){switch(b.label){case 0:return Fb(y=c.code)&&y!==we.ABORTED?(f=a.Fr.shift(),Qs(a).sr(),[4,aS(a,function(){return a.remoteSyncer.rejectFailedWrite(f.batchId,c)})]):[3,3];case 1:return b.sent(),[4,pd(a)];case 2:b.sent(),b.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return HC(t)&&pl(t),[2]}})})}function Oy(t,e){return xe(this,void 0,void 0,function(){var i;return Re(this,function(a){switch(a.label){case 0:return i=Ye(t),e?(i.Or.delete(2),[4,Ks(i)]):[3,2];case 1:return a.sent(),[3,5];case 2:return e?[3,4]:(i.Or.add(2),[4,ur(i)]);case 3:a.sent(),i.Br.set("Unknown"),a.label=4;case 4:a.label=5;case 5:return[2]}})})}function gd(t){var i,a,c,f,e=this;return t.Ur||(t.Ur=(i=t.datastore,a=t.asyncQueue,c={Ii:oS.bind(null,t),Ri:sS.bind(null,t),_r:BC.bind(null,t)},(f=Ye(i)).br(),new nS(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return xe(e,void 0,void 0,function(){return Re(this,function(a){switch(a.label){case 0:return i?(t.Ur.sr(),Sy(t)?Ty(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:a.sent(),VC(t),a.label=3;case 3:return[2]}})})})),t.Ur}function Qs(t){var i,a,c,f,e=this;return t.Kr||(t.Kr=(i=t.datastore,a=t.asyncQueue,c={Ii:c1.bind(null,t),Ri:l1.bind(null,t),Ir:GC.bind(null,t),Tr:uS.bind(null,t)},(f=Ye(i)).br(),new rS(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return xe(e,void 0,void 0,function(){return Re(this,function(a){switch(a.label){case 0:return i?(t.Kr.sr(),[4,pd(t)]):[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:a.sent(),t.Fr.length>0&&($e("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),a.label=4;case 4:return[2]}})})})),t.Kr}var cS=function(){function t(e,i,a,c,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(y){})}return t.createAndSchedule=function(e,i,a,c,f){var y=new t(e,i,Date.now()+a,c,f);return y.start(a),y},t.prototype.start=function(e){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(i){return e.deferred.resolve(i)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function md(t,e){if(pr("AsyncQueue",e+": "+t),dl(t))return new Fe(we.UNAVAILABLE,e+": "+t);throw t}var qC=function(){function t(e){this.comparator=e?function(i,a){return e(i,a)||bt.comparator(i.key,a.key)}:function(i,a){return bt.comparator(i.key,a.key)},this.keyedMap=vp(),this.sortedSet=new ci(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.add=function(e){var i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))},t.prototype.delete=function(e){var i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(i){e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var a=new t;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a},t}(),$C=function(){function t(){this.Qr=new ci(bt.comparator)}return t.prototype.track=function(e){var i=e.doc.key,a=this.Qr.get(i);a?0!==e.type&&3===a.type?this.Qr=this.Qr.insert(i,e):3===e.type&&1!==a.type?this.Qr=this.Qr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Qr=this.Qr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Qr=this.Qr.remove(i):1===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):pt():this.Qr=this.Qr.insert(i,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(i,a){e.push(a)}),e},t}(),xy=function(){function t(e,i,a,c,f,y,b,D){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=b,this.excludesMetadataChanges=D}return t.fromInitialDocuments=function(e,i,a,c){var f=[];return i.forEach(function(y){f.push({type:0,doc:y})}),new t(e,i,qC.emptySet(i),f,a,c,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(var c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0},t}(),lS=function(){this.Wr=void 0,this.listeners=[]},fS=function(){this.queries=new ja(function(t){return lp(t)},Qf),this.onlineState="Unknown",this.Gr=new Set};function s0(t,e){return xe(this,void 0,void 0,function(){var i,a,c,f,y,b,D;return Re(this,function(S){switch(S.label){case 0:if(i=Ye(t),c=!1,(f=i.queries.get(a=e.query))||(c=!0,f=new lS),!c)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),y=f,[4,i.onListen(a)];case 2:return y.Wr=S.sent(),[3,4];case 3:return b=S.sent(),D=md(b,"Initialization of query '"+xb(e.query)+"' failed"),[2,void e.onError(D)];case 4:return i.queries.set(a,f),f.listeners.push(e),e.zr(i.onlineState),f.Wr&&e.Hr(f.Wr)&&Py(i),[2]}})})}function a0(t,e){return xe(this,void 0,void 0,function(){var i,a,c,f,y;return Re(this,function(b){return i=Ye(t),c=!1,(f=i.queries.get(a=e.query))&&(y=f.listeners.indexOf(e))>=0&&(f.listeners.splice(y,1),c=0===f.listeners.length),c?[2,(i.queries.delete(a),i.onUnlisten(a))]:[2]})})}function dS(t,e){for(var i=Ye(t),a=!1,c=0,f=e;c<f.length;c++){var y=f[c],D=i.queries.get(y.query);if(D){for(var S=0,x=D.listeners;S<x.length;S++)x[S].Hr(y)&&(a=!0);D.Wr=y}}a&&Py(i)}function Np(t,e,i){var a=Ye(t),c=a.queries.get(e);if(c)for(var f=0,y=c.listeners;f<y.length;f++)y[f].onError(i);a.queries.delete(e)}function Py(t){t.Gr.forEach(function(e){e.next()})}var Ry=function(){function t(e,i,a){this.query=e,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var i=[],a=0,c=e.docChanges;a<c.length;a++){var f=c[a];3!==f.type&&i.push(f)}e=new xy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var y=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),y=!0):this.eo(e,this.onlineState)&&(this.no(e),y=!0),this.Xr=e,y},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),i=!0),i},t.prototype.eo=function(e,i){return!e.fromCache||!(this.options.so&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),WC=function(){function t(e,i){this.payload=e,this.byteLength=i}return t.prototype.io=function(){return"metadata"in this.payload},t}(),u0=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return $s(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?jb(this.R,e.document,!1):Rr.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Tr(e)},t}();!function(){function t(e,i,a){this.ro=e,this.localStore=i,this.R=a,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(e)}t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var i=new Map,a=new u0(this.R),c=0,f=e;c<f.length;c++){var y=f[c];if(y.metadata.queries)for(var b=a.qn(y.metadata.name),D=0,S=y.metadata.queries;D<S.length;D++){var x=S[D],R=(i.get(x)||vn()).add(b);i.set(x,R)}}return i},t.prototype.complete=function(){return xe(this,void 0,void 0,function(){var e,i,a,c,f;return Re(this,function(y){switch(y.label){case 0:return[4,RC(this.localStore,new u0(this.R),this.documents,this.ro.id)];case 1:e=y.sent(),i=this.co(this.documents),a=0,c=this.queries,y.label=2;case 2:return a<c.length?[4,Yb(this.localStore,f=c[a],i.get(f.name))]:[3,5];case 3:y.sent(),y.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new VT(Object.assign({},this.progress),e))]}})})}}();var QC=function(t){this.key=t},ZC=function(t){this.key=t},YC=function(){function t(e,i){this.query=e,this.uo=i,this.ao=null,this.current=!1,this.ho=vn(),this.mutatedKeys=vn(),this.lo=Pb(e),this.fo=new qC(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,i){var a=this,c=i?i.mo:new $C,f=i?i.fo:this.fo,y=i?i.mutatedKeys:this.mutatedKeys,b=f,D=!1,S=ey(this.query)&&f.size===this.query.limit?f.last():null,x=up(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(function(L,q){var K=f.get(L),ie=fp(a.query,q)?q:null,Ie=!!K&&a.mutatedKeys.has(K.key),Ae=!!ie&&(ie.hasLocalMutations||a.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations),He=!1;K&&ie?K.data.isEqual(ie.data)?Ie!==Ae&&(c.track({type:3,doc:ie}),He=!0):a.yo(K,ie)||(c.track({type:2,doc:ie}),He=!0,(S&&a.lo(ie,S)>0||x&&a.lo(ie,x)<0)&&(D=!0)):!K&&ie?(c.track({type:0,doc:ie}),He=!0):K&&!ie&&(c.track({type:1,doc:K}),He=!0,(S||x)&&(D=!0)),He&&(ie?(b=b.add(ie),y=Ae?y.add(L):y.delete(L)):(b=b.delete(L),y=y.delete(L)))}),ey(this.query)||up(this.query))for(;b.size>this.query.limit;){var R=ey(this.query)?b.last():b.first();b=b.delete(R.key),y=y.delete(R.key),c.track({type:1,doc:R})}return{fo:b,mo:c,Nn:D,mutatedKeys:y}},t.prototype.yo=function(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},t.prototype.applyChanges=function(e,i,a){var c=this,f=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var y=e.mo.jr();y.sort(function(x,R){return q=R.type,(K=function(ie){switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}})(x.type)-K(q)||c.lo(x.doc,R.doc);var q,K}),this.po(a);var b=i?this.Eo():[],D=0===this.ho.size&&this.current?1:0,S=D!==this.ao;return this.ao=D,0!==y.length||S?{snapshot:new xy(this.query,e.fo,f,y,e.mutatedKeys,0===D,S,!1),To:b}:{To:b}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $C,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var i=this;e&&(e.addedDocuments.forEach(function(a){return i.uo=i.uo.add(a)}),e.modifiedDocuments.forEach(function(a){}),e.removedDocuments.forEach(function(a){return i.uo=i.uo.delete(a)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var i=this.ho;this.ho=vn(),this.fo.forEach(function(c){e.Io(c.key)&&(e.ho=e.ho.add(c.key))});var a=[];return i.forEach(function(c){e.ho.has(c)||a.push(new ZC(c))}),this.ho.forEach(function(c){i.has(c)||a.push(new QC(c))}),a},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=vn();var i=this._o(e.documents);return this.applyChanges(i,!0)},t.prototype.Ro=function(){return xy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),hS=function(t,e,i){this.query=t,this.targetId=e,this.view=i},pS=function(t){this.key=t,this.bo=!1},gS=function(){function t(e,i,a,c,f,y){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.vo={},this.Po=new ja(function(b){return lp(b)},Qf),this.Vo=new Map,this.So=new Set,this.Do=new ci(bt.comparator),this.Co=new Map,this.No=new MC,this.xo={},this.ko=new Map,this.Fo=Ua.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function kp(t,e){return xe(this,void 0,void 0,function(){var i,c,f,y,b;return Re(this,function(D){switch(D.label){case 0:return i=ky(t),(f=i.Po.get(e))?(i.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Ro(),[3,4]):[3,1];case 1:return[4,fd(i.localStore,cs(e))];case 2:return y=D.sent(),b=i.sharedClientState.addLocalQueryTarget(y.targetId),[4,gl(i,e,y.targetId,"current"===b)];case 3:c=D.sent(),i.isPrimaryClient&&Rp(i.remoteStore,y),D.label=4;case 4:return[2,c]}})})}function gl(t,e,i,a){return xe(this,void 0,void 0,function(){var c,f,y,b,D,S;return Re(this,function(x){switch(x.label){case 0:return t.Oo=function(R,L,q){return function(K,ie,Ie,Ae){return xe(this,void 0,void 0,function(){var He,Le,gt;return Re(this,function(lt){switch(lt.label){case 0:return(He=ie.view._o(Ie)).Nn?[4,Ey(K.localStore,ie.query,!1).then(function(en){return ie.view._o(en.documents,He)})]:[3,2];case 1:He=lt.sent(),lt.label=2;case 2:return Le=Ae&&Ae.targetChanges.get(ie.targetId),gt=ie.view.applyChanges(He,K.isPrimaryClient,Le),[2,(Up(K,ie.targetId,gt.To),gt.snapshot)]}})})}(t,R,L,q)},[4,Ey(t.localStore,e,!0)];case 1:return c=x.sent(),f=new YC(e,c.Bn),y=f._o(c.documents),b=oy.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==t.onlineState),D=f.applyChanges(y,t.isPrimaryClient,b),Up(t,i,D.To),S=new hS(e,i,f),[2,(t.Po.set(e,S),t.Vo.has(i)?t.Vo.get(i).push(e):t.Vo.set(i,[e]),D.snapshot)]}})})}function mS(t,e){return xe(this,void 0,void 0,function(){var i,a,c;return Re(this,function(f){switch(f.label){case 0:return i=Ye(t),a=i.Po.get(e),(c=i.Vo.get(a.targetId)).length>1?[2,(i.Vo.set(a.targetId,c.filter(function(y){return!Qf(y,e)})),void i.Po.delete(e))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)?[3,2]:[4,dd(i.localStore,a.targetId,!1).then(function(){i.sharedClientState.clearQueryState(a.targetId),Si(i.remoteStore,a.targetId),ml(i,a.targetId)}).catch(Xu)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return ml(i,a.targetId),[4,dd(i.localStore,a.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function c0(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y;return Re(this,function(b){switch(b.label){case 0:a=h0(t),b.label=1;case 1:return b.trys.push([1,5,,6]),[4,(D=a.localStore,S=e,R=Ye(D),L=zi.now(),q=S.reduce(function(K,ie){return K.add(ie.key)},vn()),R.persistence.runTransaction("Locally write mutations","readwrite",function(K){return R.Mn.pn(K,q).next(function(ie){x=ie;for(var Ie=[],Ae=0,He=S;Ae<He.length;Ae++){var Le=He[Ae],gt=DT(Le,x.get(Le.key));null!=gt&&Ie.push(new qu(Le.key,gt,NE(gt.value.mapValue),ui.exists(!0)))}return R._n.addMutationBatch(K,L,Ie,S)})}).then(function(K){return K.applyToLocalDocumentSet(x),{batchId:K.batchId,changes:x}}))];case 2:return c=b.sent(),a.sharedClientState.addPendingMutation(c.batchId),function(D,S,x){var R=D.xo[D.currentUser.toKey()];R||(R=new ci(Xt)),R=R.insert(S,x),D.xo[D.currentUser.toKey()]=R}(a,c.batchId,i),[4,Ba(a,c.changes)];case 3:return b.sent(),[4,pd(a.remoteStore)];case 4:return b.sent(),[3,6];case 5:return f=b.sent(),y=md(f,"Failed to persist write"),i.reject(y),[3,6];case 6:return[2]}var D,S,x,R,L,q})})}function ds(t,e){return xe(this,void 0,void 0,function(){var i,a;return Re(this,function(c){switch(c.label){case 0:i=Ye(t),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,qT(i.localStore,e)];case 2:return a=c.sent(),e.targetChanges.forEach(function(f,y){var b=i.Co.get(y);b&&(Pt(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?b.bo=!0:f.modifiedDocuments.size>0?Pt(b.bo):f.removedDocuments.size>0&&(Pt(b.bo),b.bo=!1))}),[4,Ba(i,a,e)];case 3:return c.sent(),[3,6];case 4:return[4,Xu(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function JC(t,e,i){var a=Ye(t);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){var c=[];a.Po.forEach(function(f,y){var b=y.view.zr(e);b.snapshot&&c.push(b.snapshot)}),function(f,y){var b=Ye(f);b.onlineState=y;var D=!1;b.queries.forEach(function(S,x){for(var R=0,L=x.listeners;R<L.length;R++)L[R].zr(y)&&(D=!0)}),D&&Py(b)}(a.eventManager,e),c.length&&a.vo._r(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function My(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y,b,D;return Re(this,function(S){switch(S.label){case 0:return(a=Ye(t)).sharedClientState.updateQueryState(e,"rejected",i),c=a.Co.get(e),(f=c&&c.key)?(y=(y=new ci(bt.comparator)).insert(f,Rr.newNoDocument(f,Qt.min())),b=vn().add(f),D=new iy(Qt.min(),new Map,new Ir(Xt),y,b),[4,ds(a,D)]):[3,2];case 1:return S.sent(),a.Do=a.Do.remove(f),a.Co.delete(e),l0(a),[3,4];case 2:return[4,dd(a.localStore,e,!1).then(function(){return ml(a,e,i)}).catch(Xu)];case 3:S.sent(),S.label=4;case 4:return[2]}})})}function yS(t,e){return xe(this,void 0,void 0,function(){var i,a,c;return Re(this,function(f){switch(f.label){case 0:i=Ye(t),a=e.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,GT(i.localStore,e)];case 2:return c=f.sent(),Lp(i,a,null),Fp(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),[4,Ba(i,c)];case 3:return f.sent(),[3,6];case 4:return[4,Xu(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function vS(t,e,i){return xe(this,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:a=Ye(t),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(y=a.localStore,b=e,D=Ye(y),D.persistence.runTransaction("Reject batch","readwrite-primary",function(S){var x;return D._n.lookupMutationBatch(S,b).next(function(R){return Pt(null!==R),x=R.keys(),D._n.removeMutationBatch(S,R)}).next(function(){return D._n.performConsistencyCheck(S)}).next(function(){return D.Mn.pn(S,x)})}))];case 2:return c=f.sent(),Lp(a,e,i),Fp(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),[4,Ba(a,c)];case 3:return f.sent(),[3,6];case 4:return[4,Xu(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var y,b,D})})}function f1(t,e){return xe(this,void 0,void 0,function(){var i,a,c,f,y;return Re(this,function(b){switch(b.label){case 0:Va((i=Ye(t)).remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,(D=i.localStore,S=Ye(D),S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(x){return S._n.getHighestUnacknowledgedBatchId(x)}))];case 2:return-1===(a=b.sent())?[2,void e.resolve()]:((c=i.ko.get(a)||[]).push(e),i.ko.set(a,c),[3,4]);case 3:return f=b.sent(),y=md(f,"Initialization of waitForPendingWrites() operation failed"),e.reject(y),[3,4];case 4:return[2]}var D,S})})}function Fp(t,e){(t.ko.get(e)||[]).forEach(function(i){i.resolve()}),t.ko.delete(e)}function Lp(t,e,i){var a=Ye(t),c=a.xo[a.currentUser.toKey()];if(c){var f=c.get(e);f&&(i?f.reject(i):f.resolve(),c=c.remove(e)),a.xo[a.currentUser.toKey()]=c}}function ml(t,e,i){void 0===i&&(i=null),t.sharedClientState.removeLocalQueryTarget(e);for(var a=0,c=t.Vo.get(e);a<c.length;a++){var f=c[a];t.Po.delete(f),i&&t.vo.Mo(f,i)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(y){t.No.containsKey(y)||Ny(t,y)})}function Ny(t,e){t.So.delete(e.path.canonicalString());var i=t.Do.get(e);null!==i&&(Si(t.remoteStore,i),t.Do=t.Do.remove(e),t.Co.delete(i),l0(t))}function Up(t,e,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];f instanceof QC?(t.No.addReference(f.key,e),_S(t,f)):f instanceof ZC?($e("SyncEngine","Document no longer in limbo: "+f.key),t.No.removeReference(f.key,e),t.No.containsKey(f.key)||Ny(t,f.key)):pt()}}function _S(t,e){var i=e.key,a=i.path.canonicalString();t.Do.get(i)||t.So.has(a)||($e("SyncEngine","New document in limbo: "+i),t.So.add(a),l0(t))}function l0(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var i=new bt(an.fromString(e)),a=t.Fo.next();t.Co.set(a,new pS(i)),t.Do=t.Do.insert(i,a),Rp(t.remoteStore,new py(cs(ul(i.path)),a,2,Wi.o))}}function Ba(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y;return Re(this,function(b){switch(b.label){case 0:return a=Ye(t),c=[],f=[],y=[],a.Po.isEmpty()?[3,3]:(a.Po.forEach(function(D,S){y.push(a.Oo(S,e,i).then(function(x){if(x){a.isPrimaryClient&&a.sharedClientState.updateQueryState(S.targetId,x.fromCache?"not-current":"current"),c.push(x);var R=o1.Pn(S.targetId,x);f.push(R)}}))}),[4,Promise.all(y)]);case 1:return b.sent(),a.vo._r(c),[4,function(D,S){return xe(this,void 0,void 0,function(){var x,R,L,q,K,ie,Ie,He;return Re(this,function(Le){switch(Le.label){case 0:x=Ye(D),Le.label=1;case 1:return Le.trys.push([1,3,,4]),[4,x.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gt){return Ge.forEach(S,function(lt){return Ge.forEach(lt.bn,function(en){return x.persistence.referenceDelegate.addReference(gt,lt.targetId,en)}).next(function(){return Ge.forEach(lt.vn,function(en){return x.persistence.referenceDelegate.removeReference(gt,lt.targetId,en)})})})})];case 2:return Le.sent(),[3,4];case 3:if(!dl(R=Le.sent()))throw R;return $e("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(L=0,q=S;L<q.length;L++)ie=(K=q[L]).targetId,K.fromCache||(Ie=x.kn.get(ie),He=Ie.withLastLimboFreeSnapshotVersion(Ie.snapshotVersion),x.kn=x.kn.insert(ie,He));return[2]}})})}(a.localStore,f)];case 2:b.sent(),b.label=3;case 3:return[2]}})})}function bS(t,e){return xe(this,void 0,void 0,function(){var i,a;return Re(this,function(c){switch(c.label){case 0:return(i=Ye(t)).currentUser.isEqual(e)?[3,3]:($e("SyncEngine","User change. New user:",e.toKey()),[4,OC(i.localStore,e)]);case 1:return a=c.sent(),i.currentUser=e,(f=i).ko.forEach(function(b){b.forEach(function(D){D.reject(new Fe(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ko.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),[4,Ba(i,a.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var f})})}function XC(t,e){var i=Ye(t),a=i.Co.get(e);if(a&&a.bo)return vn().add(a.key);var c=vn(),f=i.Vo.get(e);if(!f)return c;for(var y=0,b=f;y<b.length;y++){var S=i.Po.get(b[y]);c=c.unionWith(S.view.wo)}return c}function f0(t,e){return xe(this,void 0,void 0,function(){var i,a,c;return Re(this,function(f){switch(f.label){case 0:return[4,Ey((i=Ye(t)).localStore,e.query,!0)];case 1:return a=f.sent(),c=e.view.Ao(a),[2,(i.isPrimaryClient&&Up(i,e.targetId,c.To),c)]}})})}function eD(t){return xe(this,void 0,void 0,function(){var e;return Re(this,function(i){return[2,PC((e=Ye(t)).localStore).then(function(a){return Ba(e,a)})]})})}function wS(t,e,i,a){return xe(this,void 0,void 0,function(){var c,f;return Re(this,function(y){switch(y.label){case 0:return[4,(b=(c=Ye(t)).localStore,D=e,S=Ye(b),x=Ye(S._n),S.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return x.jt(R,D).next(function(L){return L?S.Mn.pn(R,L):Ge.resolve(null)})}))];case 1:return null===(f=y.sent())?[3,6]:"pending"!==i?[3,3]:[4,pd(c.remoteStore)];case 2:return y.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(Lp(c,e,a||null),Fp(c,e),function(b,D){Ye(Ye(b)._n).Gt(D)}(c.localStore,e)):pt(),y.label=4;case 4:return[4,Ba(c,f)];case 5:return y.sent(),[3,7];case 6:$e("SyncEngine","Cannot apply mutation batch with id: "+e),y.label=7;case 7:return[2]}var b,D,S,x})})}function tD(t,e){return xe(this,void 0,void 0,function(){var i,a,c,f,y,D,S;return Re(this,function(x){switch(x.label){case 0:return ky(i=Ye(t)),h0(i),!0!==e||!0===i.$o?[3,3]:(a=i.sharedClientState.getAllActiveQueryTargets(),[4,d0(i,a.toArray())]);case 1:return c=x.sent(),i.$o=!0,[4,Oy(i.remoteStore,!0)];case 2:for(x.sent(),f=0,y=c;f<y.length;f++)Rp(i.remoteStore,y[f]);return[3,7];case 3:return!1!==e||!1===i.$o?[3,7]:(D=[],S=Promise.resolve(),i.Vo.forEach(function(R,L){i.sharedClientState.isLocalQueryTarget(L)?D.push(L):S=S.then(function(){return ml(i,L),dd(i.localStore,L,!0)}),Si(i.remoteStore,L)}),[4,S]);case 4:return x.sent(),[4,d0(i,D)];case 5:return x.sent(),(L=Ye(i)).Co.forEach(function(q,K){Si(L.remoteStore,K)}),L.No.ts(),L.Co=new Map,L.Do=new ci(bt.comparator),i.$o=!1,[4,Oy(i.remoteStore,!1)];case 6:x.sent(),x.label=7;case 7:return[2]}var L})})}function d0(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y,b,D,S,x,R,L,K,ie,Ie;return Re(this,function(Ae){switch(Ae.label){case 0:a=Ye(t),c=[],f=[],y=0,b=e,Ae.label=1;case 1:return y<b.length?(S=void 0,(x=a.Vo.get(D=b[y]))&&0!==x.length?[4,fd(a.localStore,cs(x[0]))]:[3,7]):[3,13];case 2:S=Ae.sent(),R=0,L=x,Ae.label=3;case 3:return R<L.length?(K=a.Po.get(L[R]),[4,f0(a,K)]):[3,6];case 4:(ie=Ae.sent()).snapshot&&f.push(ie.snapshot),Ae.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,Cy(a.localStore,D)];case 8:return Ie=Ae.sent(),[4,fd(a.localStore,Ie)];case 9:return S=Ae.sent(),[4,gl(a,nD(Ie),D,!1)];case 10:Ae.sent(),Ae.label=11;case 11:c.push(S),Ae.label=12;case 12:return y++,[3,1];case 13:return[2,(a.vo._r(f),c)]}})})}function nD(t){return Sb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rD(t){var e=Ye(t);return Ye(Ye(e.localStore).persistence).fn()}function iD(t,e,i,a){return xe(this,void 0,void 0,function(){var c,f,y;return Re(this,function(b){switch(b.label){case 0:return(c=Ye(t)).$o?($e("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,PC(c.localStore)];case 3:return f=b.sent(),y=iy.createSynthesizedRemoteEventForCurrentChange(e,"current"===i),[4,Ba(c,f,y)];case 4:return b.sent(),[3,8];case 5:return[4,dd(c.localStore,e,!0)];case 6:return b.sent(),ml(c,e,a),[3,8];case 7:pt(),b.label=8;case 8:return[2]}})})}function ES(t,e,i){return xe(this,void 0,void 0,function(){var a,c,f,y,b,D,S,x,R;return Re(this,function(q){switch(q.label){case 0:if(!(a=ky(t)).$o)return[3,10];c=0,f=e,q.label=1;case 1:return c<f.length?a.Vo.has(y=f[c])?($e("SyncEngine","Adding an already active target "+y),[3,5]):[4,Cy(a.localStore,y)]:[3,6];case 2:return b=q.sent(),[4,fd(a.localStore,b)];case 3:return D=q.sent(),[4,gl(a,nD(b),D.targetId,!1)];case 4:q.sent(),Rp(a.remoteStore,D),q.label=5;case 5:return c++,[3,1];case 6:S=function(K){return Re(this,function(ie){switch(ie.label){case 0:return a.Vo.has(K)?[4,dd(a.localStore,K,!1).then(function(){Si(a.remoteStore,K),ml(a,K)}).catch(Xu)]:[3,2];case 1:ie.sent(),ie.label=2;case 2:return[2]}})},x=0,R=i,q.label=7;case 7:return x<R.length?[5,S(R[x])]:[3,10];case 8:q.sent(),q.label=9;case 9:return x++,[3,7];case 10:return[2]}})})}function ky(t){var e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ds.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=My.bind(null,e),e.vo._r=dS.bind(null,e.eventManager),e.vo.Mo=Np.bind(null,e.eventManager),e}function h0(t){var e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vS.bind(null,e),e}var fi=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return xe(this,void 0,void 0,function(){return Re(this,function(i){switch(i.label){case 0:return this.R=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return $r(this.persistence,new BT,e.initialUser,this.R)},t.prototype.qo=function(e){return new JT(XT.bs,this.R)},t.prototype.Bo=function(e){return new r0},t.prototype.terminate=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),yl=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).Qo=i,f.cacheSizeBytes=a,f.forceOwnership=c,f.synchronizeTabs=!1,f}return It(e,t),e.prototype.initialize=function(i){return xe(this,void 0,void 0,function(){var a=this;return Re(this,function(c){switch(c.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return c.sent(),[4,WT(this.localStore)];case 2:return c.sent(),[4,this.Qo.initialize(this,i)];case 3:return c.sent(),[4,h0(this.Qo.syncEngine)];case 4:return c.sent(),[4,pd(this.Qo.remoteStore)];case 5:return c.sent(),[4,this.persistence.He(function(){return a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()})];case 6:return c.sent(),[2]}})})},e.prototype.Ko=function(i){return $r(this.persistence,new BT,i.initialUser,this.R)},e.prototype.Uo=function(i){return new zb(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},e.prototype.qo=function(i){var a=Zb(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new jt(this.synchronizeTabs,a,i.clientId,c,i.asyncQueue,Dy(),Iy(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(i){return new r0},e}(fi),CS=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a,!1)||this).Qo=i,c.cacheSizeBytes=a,c.synchronizeTabs=!0,c}return It(e,t),e.prototype.initialize=function(i){return xe(this,void 0,void 0,function(){var a,c=this;return Re(this,function(f){switch(f.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return f.sent(),a=this.Qo.syncEngine,this.sharedClientState instanceof n0?(this.sharedClientState.syncEngine={ui:wS.bind(null,a),ai:iD.bind(null,a),hi:ES.bind(null,a),fn:rD.bind(null,a),ci:eD.bind(null,a)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(y){return xe(c,void 0,void 0,function(){return Re(this,function(b){switch(b.label){case 0:return[4,tD(this.Qo.syncEngine,y)];case 1:return b.sent(),this.gcScheduler&&(y&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):y||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},e.prototype.Bo=function(i){var a=Dy();if(!n0.yt(a))throw new Fe(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=Zb(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new n0(a,i.asyncQueue,c,i.clientId,i.initialUser)},e}(yl),p0=function(){function t(){}return t.prototype.initialize=function(e,i){return xe(this,void 0,void 0,function(){var a=this;return Re(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return JC(a.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,this.syncEngine),[4,Oy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new fS},t.prototype.createDatastore=function(e){var a=Pp(e.databaseInfo.databaseId),c=new u1(e.databaseInfo);return new UC(e.credentials,c,a)},t.prototype.createRemoteStore=function(e){var i,a,c,f,y,b=this;return i=this.localStore,a=this.datastore,c=e.asyncQueue,f=function(D){return JC(b.syncEngine,D,0)},y=FC.yt()?new FC:new tS,new iS(i,a,c,f,y)},t.prototype.createSyncEngine=function(e,i){return S=i,x=new gS(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),S&&(x.$o=!0),x;var S,x},t.prototype.terminate=function(){return function(e){return xe(this,void 0,void 0,function(){var i;return Re(this,function(a){switch(a.label){case 0:return i=Ye(e),$e("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,ur(i)];case 1:return a.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),nc=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,i){var a=this;this.muted||setTimeout(function(){a.muted||e(i)},0)},t}(),g0=(function(){function t(e,i){var a=this;this.Go=e,this.R=i,this.metadata=new qr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return xe(this,void 0,void 0,function(){var e,i,a,c;return Re(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(e=f.sent())?[2,null]:(i=this.zo.decode(e),a=Number(i),isNaN(a)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(a)]);case 2:return c=f.sent(),[2,new WC(JSON.parse(c),e.length+a)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return xe(this,void 0,void 0,function(){var e,i;return Re(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),i)])}})})},t.prototype.Xo=function(e){return xe(this,void 0,void 0,function(){var i;return Re(this,function(a){switch(a.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),i)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return xe(this,void 0,void 0,function(){var e,i;return Re(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(e=a.sent()).done||((i=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i),[2,e.done]}})})}}(),function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return xe(this,void 0,void 0,function(){var i,a=this;return Re(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fe(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,y){return xe(this,void 0,void 0,function(){var b,D,S,x,R,L;return Re(this,function(q){switch(q.label){case 0:return b=Ye(f),D=Cp(b.R)+"/documents",S={documents:y.map(function(K){return Ep(b.R,K)})},[4,b.$i("BatchGetDocuments",D,S)];case 1:return x=q.sent(),R=new Map,x.forEach(function(K){var Ie,Ae,ie=(Ie=b.R,"found"in(Ae=K)?function(He,Le){Pt(!!Le.found);var gt=$s(He,Le.found.name),lt=Tr(Le.found.updateTime),en=new Ti({mapValue:{fields:Le.found.fields}});return Rr.newFoundDocument(gt,lt,en)}(Ie,Ae):"missing"in Ae?function(He,Le){Pt(!!Le.missing),Pt(!!Le.readTime);var gt=$s(He,Le.missing),lt=Tr(Le.readTime);return Rr.newNoDocument(gt,lt)}(Ie,Ae):pt());R.set(ie.key.toString(),ie)}),L=[],[2,(y.forEach(function(K){var ie=R.get(K.toString());Pt(!!ie),L.push(ie)}),L)]}})})}(this.datastore,e)];case 1:return[2,((i=c.sent()).forEach(function(f){return a.recordVersion(f)}),i)]}})})},t.prototype.set=function(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new mp(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return xe(this,void 0,void 0,function(){var e,i=this;return Re(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(c){e.delete(c.key.toString())}),e.forEach(function(c,f){var y=bt.fromPath(f);i.mutations.push(new kb(y,i.precondition(y)))}),[4,function(c,f){return xe(this,void 0,void 0,function(){var y,b,D;return Re(this,function(S){switch(S.label){case 0:return y=Ye(c),b=Cp(y.R)+"/documents",D={writes:f.map(function(x){return Xf(y.R,x)})},[4,y.Ni("Commit",b,D)];case 1:return S.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw pt();i=Qt.min()}var a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new Fe(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)},t.prototype.precondition=function(e){var i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?ui.updateTime(i):ui.none()},t.prototype.preconditionForUpdate=function(e){var i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Qt.min()))throw new Fe(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(i)}return ui.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}()),TS=function(){function t(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new i0(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return xe(e,void 0,void 0,function(){var i,a,c=this;return Re(this,function(f){return i=new g0(this.datastore),(a=this.sc(i))&&a.then(function(y){c.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){c.deferred.resolve(y)}).catch(function(b){c.ic(b)})})}).catch(function(y){c.ic(y)}),[2]})})})},t.prototype.sc=function(e){try{var i=this.updateFunction(e);return!Lo(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},t.prototype.ic=function(e){var i=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var i=e.code;return"aborted"===i||"failed-precondition"===i||!Fb(i)}return!1},t}(),oD=function(){function t(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Wr.UNAUTHENTICATED,this.clientId=SE.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(f){return xe(c,void 0,void 0,function(){return Re(this,function(y){switch(y.label){case 0:return $e("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return y.sent(),this.user=f,[2]}})})})}return t.prototype.getConfiguration=function(){return xe(this,void 0,void 0,function(){return Re(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var i=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return xe(e,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return a=f.sent(),c=md(a,"Failed to shutdown persistence"),i.reject(c),[3,6];case 6:return[2]}})})}),i.promise},t}();function sD(t,e){return xe(this,void 0,void 0,function(){var i,a,c=this;return Re(this,function(f){switch(f.label){case 0:return t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return i=f.sent(),[4,e.initialize(i)];case 2:return f.sent(),a=i.initialUser,t.setCredentialChangeListener(function(y){return xe(c,void 0,void 0,function(){return Re(this,function(b){switch(b.label){case 0:return a.isEqual(y)?[3,2]:[4,OC(e.localStore,y)];case 1:b.sent(),a=y,b.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function aD(t,e){return xe(this,void 0,void 0,function(){var i,a;return Re(this,function(c){switch(c.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jp(t)];case 1:return i=c.sent(),$e("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return a=c.sent(),[4,e.initialize(i,a)];case 3:return c.sent(),t.setCredentialChangeListener(function(f){return function(y,b){return xe(this,void 0,void 0,function(){var D,S;return Re(this,function(x){switch(x.label){case 0:return(D=Ye(y)).asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials"),S=Va(D),D.Or.add(3),[4,ur(D)];case 1:return x.sent(),S&&D.Br.set("Unknown"),[4,D.remoteSyncer.handleCredentialChange(b)];case 2:return x.sent(),D.Or.delete(3),[4,Ks(D)];case 3:return x.sent(),[2]}})})}(e.remoteStore,f)}),t.onlineComponents=e,[2]}})})}function jp(t){return xe(this,void 0,void 0,function(){return Re(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:($e("FirestoreClient","Using default OfflineComponentProvider"),[4,sD(t,new fi)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Vp(t){return xe(this,void 0,void 0,function(){return Re(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:($e("FirestoreClient","Using default OnlineComponentProvider"),[4,aD(t,new p0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function m0(t){return jp(t).then(function(e){return e.persistence})}function yd(t){return jp(t).then(function(e){return e.localStore})}function Fy(t){return Vp(t).then(function(e){return e.remoteStore})}function uD(t){return Vp(t).then(function(e){return e.syncEngine})}function vl(t){return xe(this,void 0,void 0,function(){var e,i;return Re(this,function(a){switch(a.label){case 0:return[4,Vp(t)];case 1:return e=a.sent(),[2,((i=e.eventManager).onListen=kp.bind(null,e.syncEngine),i.onUnlisten=mS.bind(null,e.syncEngine),i)]}})})}function cD(t,e,i){var a=this;void 0===i&&(i={});var c=new qr;return t.asyncQueue.enqueueAndForget(function(){return xe(a,void 0,void 0,function(){var f;return Re(this,function(y){switch(y.label){case 0:return f=function(b,D,S,x,R){var L=new nc({next:function(K){D.enqueueAndForget(function(){return a0(b,q)});var ie=K.docs.has(S);!ie&&K.fromCache?R.reject(new Fe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):ie&&K.fromCache&&x&&"server"===x.source?R.reject(new Fe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(K)},error:function(K){return R.reject(K)}}),q=new Ry(ul(S.path),L,{includeMetadataChanges:!0,so:!0});return s0(b,q)},[4,vl(t)];case 1:return[2,f.apply(void 0,[y.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}function y0(t,e,i){var a=this;void 0===i&&(i={});var c=new qr;return t.asyncQueue.enqueueAndForget(function(){return xe(a,void 0,void 0,function(){var f;return Re(this,function(y){switch(y.label){case 0:return f=function(b,D,S,x,R){var L=new nc({next:function(K){D.enqueueAndForget(function(){return a0(b,q)}),K.fromCache&&"server"===x.source?R.reject(new Fe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(K)},error:function(K){return R.reject(K)}}),q=new Ry(S,L,{includeMetadataChanges:!0,so:!0});return s0(b,q)},[4,vl(t)];case 1:return[2,f.apply(void 0,[y.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}var Ly=function(t,e,i,a,c,f,y,b){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=b},Bp=function(){function t(e,i){this.projectId=e,this.database=i||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),lD=new Map,Uy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},jy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){this.changeListener=i,e.enqueueRetryable(function(){return i(Wr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),SS=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){var a=this;this.changeListener=i,e.enqueueRetryable(function(){return i(a.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),AS=function(){function t(e){var i=this;this.currentUser=Wr.UNAUTHENTICATED,this.oc=new qr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var a=function(c){$e("FirebaseCredentialsProvider","Auth detected"),i.auth=c,i.auth.addAuthTokenListener(i.uc)};e.onInit(function(c){return a(c)}),setTimeout(function(){if(!i.auth){var c=e.getImmediate({optional:!0});c?a(c):($e("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,i=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return e.cc!==i?($e("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):c?(Pt("string"==typeof c.accessToken),new Uy(c.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,i){var a=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return xe(a,void 0,void 0,function(){return Re(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,i(this.currentUser)];case 2:return c.sent(),this.changeListener=i,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Wr(e)},t}(),fD=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a,this.type="FirstParty",this.user=Wr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),dD=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a}return t.prototype.getToken=function(){return Promise.resolve(new fD(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,i){e.enqueueRetryable(function(){return i(Wr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Vy(t,e,i){if(!i)throw new Fe(we.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function v0(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe(we.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _0(t,e,i,a){if(!0===e&&!0===a)throw new Fe(we.INVALID_ARGUMENT,t+" and "+i+" cannot be used together.")}function b0(t){if(!bt.isDocumentKey(t))throw new Fe(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function hD(t){if(bt.isDocumentKey(t))throw new Fe(we.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function By(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(i){if(i.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(a&&a.length>1)return a[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pt()}function un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=By(t);throw new Fe(we.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+i)}return t}function pD(t,e){if(e<=0)throw new Fe(we.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var w0=function(){function t(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),vd=function(){function t(e,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,e instanceof Bp?(this._databaseId=e,this._credentials=new jy):(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Fe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bp(a.options.projectId)}(e),this._credentials=new AS(i))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new jy;switch(i.type){case"gapi":var a=i.client;return Pt(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new dD(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Fe(we.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(i=lD.get(this))&&($e("ComponentProvider","Removing Datastore"),lD.delete(this),i.terminate()),Promise.resolve();var i},t}(),Hn=function(){function t(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ai=function(){function t(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),rc=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,ul(c))||this)._path=c,f.type="collection",f}return It(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new Hn(this.firestore,null,new bt(i))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._path)},e}(Ai);function gD(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,cn.m9)(t),Vy("collection","path",e),t instanceof vd)return hD(i=an.fromString.apply(an,bn([e],a))),new rc(t,null,i);if(!(t instanceof Hn||t instanceof rc))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hD(i=an.fromString.apply(an,bn([t.path],a)).child(an.fromString(e))),new rc(t.firestore,null,i)}function Hy(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,cn.m9)(t),1===arguments.length&&(e=SE.u()),Vy("doc","path",e),t instanceof vd)return b0(i=an.fromString.apply(an,bn([e],a))),new Hn(t,null,new bt(i));if(!(t instanceof Hn||t instanceof rc))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return b0(i=t._path.child(an.fromString.apply(an,bn([e],a)))),new Hn(t.firestore,t instanceof rc?t.converter:null,new bt(i))}function E0(t,e){return t=(0,cn.m9)(t),e=(0,cn.m9)(e),(t instanceof Hn||t instanceof rc)&&(e instanceof Hn||e instanceof rc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function OS(t,e){return t=(0,cn.m9)(t),e=(0,cn.m9)(e),t instanceof Ai&&e instanceof Ai&&t.firestore===e.firestore&&Qf(t._query,e._query)&&t.converter===e.converter}var h1=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new i0(this,"async_queue_retry"),this.Ic=function(){var a=Iy();a&&$e("AsyncQueue","Visibility state changed to "+a.visibilityState),e.Zi.Gi()};var i=Iy();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var i=Iy();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var a=new qr;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)}).then(function(){return a.promise})},t.prototype.enqueueRetryable=function(e){var i=this;this.enqueueAndForget(function(){return i.wc.push(e),i.bc()})},t.prototype.bc=function(){return xe(this,void 0,void 0,function(){var e,i=this;return Re(this,function(a){switch(a.label){case 0:if(0===this.wc.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!dl(e=a.sent()))throw e;return $e("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),a.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var i=this,a=this.dc.then(function(){return i.gc=!0,e().catch(function(c){throw i.yc=c,i.gc=!1,pr("INTERNAL UNHANDLED ERROR: ",(y=(f=c).message||"",f.stack&&(y=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),y)),c;var f,y}).then(function(c){return i.gc=!1,c})});return this.dc=a,a},t.prototype.enqueueAfterDelay=function(e,i,a){var c=this;this.Ac(),this.Tc.indexOf(e)>-1&&(i=0);var f=cS.createAndSchedule(this,e,i,a,function(y){return c.vc(y)});return this.mc.push(f),f},t.prototype.Ac=function(){this.yc&&pt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return xe(this,void 0,void 0,function(){var e;return Re(this,function(i){switch(i.label){case 0:return[4,e=this.dc];case 1:i.sent(),i.label=2;case 2:if(e!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var i=0,a=this.mc;i<a.length;i++)if(a[i].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var i=this;return this.Pc().then(function(){i.mc.sort(function(y,b){return y.targetTimeMs-b.targetTimeMs});for(var a=0,c=i.mc;a<c.length;a++){var f=c[a];if(f.skipDelay(),"all"!==e&&f.timerId===e)break}return i.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var i=this.mc.indexOf(e);this.mc.splice(i,1)},t}();function Hp(t){return function(e,i){if("object"!=typeof e||null===e)return!1;for(var a=e,c=0,f=["next","error","complete"];c<f.length;c++){var y=f[c];if(y in a&&"function"==typeof a[y])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(e,i,a){this._progressObserver={next:e,error:i,complete:a}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,i){return this._taskCompletionResolver.promise.then(e,i)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var mr=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).type="firestore",c._queue=new h1,c._persistenceKey="name"in i?i.name:"[DEFAULT]",c}return It(e,t),e.prototype._terminate=function(){return this._firestoreClient||xS(this),this._firestoreClient.terminate()},e}(vd);function zr(t){return t._firestoreClient||xS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xS(t){var e,f,b,i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ly(t._databaseId,f,t._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));t._firestoreClient=new oD(t._credentials,t._queue,a)}function PS(t,e,i){var a=this,c=new qr;return t.asyncQueue.enqueue(function(){return xe(a,void 0,void 0,function(){var f;return Re(this,function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),[4,sD(t,i)];case 1:return y.sent(),[4,aD(t,e)];case 2:return y.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(b=f=y.sent()).name?b.code===we.FAILED_PRECONDITION||b.code===we.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),c.reject(f),[3,4];case 4:return[2]}var b})})}).then(function(){return c.promise})}function RS(t){if(t._initialized||t._terminated)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ha=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var a=0;a<e.length;++a)if(0===e[a].length)throw new Fe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fo(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),_d=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(ai.fromBase64String(e))}catch(i){throw new Fe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},t.fromUint8Array=function(e){return new t(ai.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),bd=function(t){this._methodName=t},C0=function(){function t(e,i){if(!isFinite(e)||e<-90||e>90)throw new Fe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Fe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)},t}(),m1=/^__.*__$/,y1=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return null!==this.fieldMask?new qu(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yf(e,this.data,i,this.fieldTransforms)},t}(),MS=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return new qu(e,this.data,this.fieldMask,i,this.fieldTransforms)},t}();function mD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}var yD=function(){function t(e,i,a,c,f,y){this.settings=e,this.databaseId=i,this.R=a,this.ignoreUndefinedProperties=c,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=y||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,Fc:!1});return c.$c(e),c},t.prototype.Oc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,Fc:!1});return c.Cc(),c},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return Cd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(i){return e.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return e.isPrefixOf(i.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(mD(this.Nc)&&m1.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),NS=function(){function t(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.R=a||Pp(e)}return t.prototype.Uc=function(e,i,a,c){return void 0===c&&(c=!1),new yD({Nc:e,methodName:i,qc:a,path:Fo.emptyPath(),Fc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function wd(t){var e=t._freezeSettings(),i=Pp(t._databaseId);return new NS(t._databaseId,!!e.ignoreUndefinedProperties,i)}function D0(t,e,i,a,c,f){void 0===f&&(f={});var y=t.Uc(f.merge||f.mergeFields?2:0,e,i,c);ic("Data must be an object, but it was:",y,a);var b,D,S=CD(a,y);if(f.merge)b=new ol(y.fieldMask),D=y.fieldTransforms;else if(f.mergeFields){for(var x=[],R=0,L=f.mergeFields;R<L.length;R++){var q=qy(e,L[R],i);if(!y.contains(q))throw new Fe(we.INVALID_ARGUMENT,"Field '"+q+"' is specified in your field mask but missing from your input data.");T0(x,q)||x.push(q)}b=new ol(x),D=y.fieldTransforms.filter(function(K){return b.covers(K.field)})}else b=null,D=y.fieldTransforms;return new y1(new Ti(S),b,D)}var vD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},e.prototype.isEqual=function(i){return i instanceof e},e}(bd);function _D(t,e,i){return new yD({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:i},e.databaseId,e.R,e.ignoreUndefinedProperties)}var kS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype._toFieldTransform=function(i){return new hp(i.path,new Zf)},e.prototype.isEqual=function(i){return i instanceof e},e}(bd),FS=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return It(e,t),e.prototype._toFieldTransform=function(i){var a=_D(this,i,!0),c=this.Kc.map(function(y){return Ed(y,a)}),f=new Uo(c);return new hp(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(bd),v1=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return It(e,t),e.prototype._toFieldTransform=function(i){var a=_D(this,i,!0),c=this.Kc.map(function(y){return Ed(y,a)}),f=new Gu(c);return new hp(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(bd),_1=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Qc=a,c}return It(e,t),e.prototype._toFieldTransform=function(i){var a=new cl(i.R,$E(i.R,this.Qc));return new hp(i.path,a)},e.prototype.isEqual=function(i){return this===i},e}(bd);function bD(t,e,i,a){var c=t.Uc(1,e,i);ic("Data must be an object, but it was:",c,a);var f=[],y=Ti.empty();il(a,function(D,S){var x=I0(e,D,i);S=(0,cn.m9)(S);var R=c.Oc(x);if(S instanceof vD)f.push(x);else{var L=Ed(S,R);null!=L&&(f.push(x),y.set(x,L))}});var b=new ol(f);return new MS(y,b,c.fieldTransforms)}function wD(t,e,i,a,c,f){var y=t.Uc(1,e,i),b=[qy(e,a,i)],D=[c];if(f.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var S=0;S<f.length;S+=2)b.push(qy(e,f[S])),D.push(f[S+1]);for(var x=[],R=Ti.empty(),L=b.length-1;L>=0;--L)if(!T0(x,b[L])){var q=b[L],K=D[L];K=(0,cn.m9)(K);var ie=y.Oc(q);if(K instanceof vD)x.push(q);else{var Ie=Ed(K,ie);null!=Ie&&(x.push(q),R.set(q,Ie))}}var Ae=new ol(x);return new MS(R,Ae,y.fieldTransforms)}function ED(t,e,i,a){return void 0===a&&(a=!1),Ed(i,t.Uc(a?4:3,e))}function Ed(t,e){if(Gy(t=(0,cn.m9)(t)))return ic("Unsupported field value:",e,t),CD(t,e);if(t instanceof bd)return function(i,a){if(!mD(a.Nc))throw a.Lc(i._methodName+"() can only be used with update() and set()");if(!a.path)throw a.Lc(i._methodName+"() is not currently supported inside arrays");var c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(i,a){for(var c=[],f=0,y=0,b=i;y<b.length;y++){var D=Ed(b[y],a.Mc(f));null==D&&(D={nullValue:"NULL_VALUE"}),c.push(D),f++}return{arrayValue:{values:c}}}(t,e)}return function(i,a){if(null===(i=(0,cn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return $E(a.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var c=zi.fromDate(i);return{timestampValue:ay(a.R,c)}}if(i instanceof zi)return c=new zi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:ay(a.R,c)};if(i instanceof C0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _d)return{bytesValue:aC(a.R,i._byteString)};if(i instanceof Hn){var f=i.firestore._databaseId;if(!f.isEqual(c=a.databaseId))throw a.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:uC(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Lc("Unsupported field value: "+By(i))}(t,e)}function CD(t,e){var i={};return _b(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,function(a,c){var f=Ed(c,e.kc(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function Gy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof zi||t instanceof C0||t instanceof _d||t instanceof Hn||t instanceof bd)}function ic(t,e,i){if(!Gy(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var a=By(i);throw e.Lc("an object"===a?t+" a custom object":t+" "+a)}var c}function qy(t,e,i){if((e=(0,cn.m9)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return I0(t,e);throw Cd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}var LS=new RegExp("[~\\*/\\[\\]]");function I0(t,e,i){if(e.search(LS)>=0)throw Cd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,i);try{return(new(Ha.bind.apply(Ha,bn([void 0],e.split(".")))))._internalPath}catch(a){throw Cd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,i)}}function Cd(t,e,i,a,c){var f=a&&!a.isEmpty(),y=void 0!==c,b="Function "+e+"() called with invalid data";i&&(b+=" (via `toFirestore()`)");var D="";return(f||y)&&(D+=" (found",f&&(D+=" in field "+a),y&&(D+=" in document "+c),D+=")"),new Fe(we.INVALID_ARGUMENT,(b+=". ")+t+D)}function T0(t,e){return t.some(function(i){return i.isEqual(e)})}var Dd=function(){function t(e,i,a,c,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=f}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var i=this._document.data.field(S0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}},t}(),DD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Dd);function S0(t,e){return"string"==typeof e?I0(t,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}var oc=function(){function t(e,i){this.hasPendingWrites=e,this.fromCache=i}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Ho=function(t){function e(i,a,c,f,y,b){var D=this;return(D=t.call(this,i,a,c,f,b)||this)._firestore=i,D._firestoreImpl=i,D.metadata=y,D}return It(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var a=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},e.prototype.get=function(i,a){if(void 0===a&&(a={}),this._document){var c=this._document.data.field(S0("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}},e}(Dd),Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.data=function(i){return void 0===i&&(i={}),t.prototype.data.call(this,i)},e}(Ho),_l=function(){function t(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new oc(c.hasPendingWrites,c.fromCache),this.query=a}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(i){return e.push(i)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,i){var a=this;this._snapshot.docs.forEach(function(c){e.call(i,new Id(a._firestore,a._userDataWriter,c.key,c,new oc(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){var f=0;return a._snapshot.docChanges.map(function(b){return{type:"added",doc:new Id(a._firestore,a._userDataWriter,b.doc.key,b.doc,new oc(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}})}var y=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(function(b){return c||3!==b.type}).map(function(b){var D=new Id(a._firestore,a._userDataWriter,b.doc.key,b.doc,new oc(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),S=-1,x=-1;return 0!==b.type&&(S=y.indexOf(b.doc.key),y=y.delete(b.doc.key)),1!==b.type&&(x=(y=y.add(b.doc)).indexOf(b.doc.key)),{type:b1(b.type),doc:D,oldIndex:S,newIndex:x}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},t}();function b1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function US(t,e){return t instanceof Ho&&e instanceof Ho?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _l&&e instanceof _l&&t._firestore===e._firestore&&OS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function ID(t){if(up(t)&&0===t.explicitOrderBy.length)throw new Fe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $y=function(){};function hs(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var a=0,c=e;a<c.length;a++){var f=c[a];t=f._apply(t)}return t}var jS=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).jc=i,f.Wc=a,f.Gc=c,f.type="where",f}return It(e,t),e.prototype._apply=function(i){var f,b,a=wd(i.firestore),c=function(f,y,b,D,S,x,R){var L;if(S.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+x+"' queries on FieldPath.documentId().");if("in"===x||"not-in"===x){SD(R,x);for(var q=[],K=0,ie=R;K<ie.length;K++)q.push(HS(D,f,ie[K]));L={arrayValue:{values:q}}}else L=HS(D,f,R)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||SD(R,x),L=ED(b,"where",R,"in"===x||"not-in"===x);var Ae=yo.create(S,x,L);return function(He,Le){if(Le.g()){var gt=Ob(He);if(null!==gt&&!gt.isEqual(Le.field))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+gt.toString()+"' and '"+Le.field.toString()+"'");var lt=Ab(He);null!==lt&&GS(0,Le.field,lt)}var en=function(Kr,L0){for(var Yp=0,uI=Kr.filters;Yp<uI.length;Yp++){var U0=uI[Yp];if(L0.indexOf(U0.op)>=0)return U0.op}return null}(He,function(Kr){switch(Kr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Le.op));if(null!==en)throw new Fe(we.INVALID_ARGUMENT,en===Le.op?"Invalid query. You cannot use more than one '"+Le.op.toString()+"' filter.":"Invalid query. You cannot use '"+Le.op.toString()+"' filters with '"+en.toString()+"' filters.")}(f,Ae),Ae}(i._query,0,a,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ai(i.firestore,i.converter,(b=(f=i._query).filters.concat([c]),new Gs(f.path,f.collectionGroup,f.explicitOrderBy.slice(),b,f.limit,f.limitType,f.startAt,f.endAt)))},e}($y),w1=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).jc=i,c.zc=a,c.type="orderBy",c}return It(e,t),e.prototype._apply=function(i){var c,y,a=function(c,f,y){if(null!==c.startAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var b=new Hs(f,y);return function(D,S){if(null===Ab(D)){var x=Ob(D);null!==x&&GS(0,x,S.field)}}(c,b),b}(i._query,this.jc,this.zc);return new Ai(i.firestore,i.converter,(y=(c=i._query).explicitOrderBy.concat([a]),new Gs(c.path,c.collectionGroup,y,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},e}($y),VS=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Hc=a,f.Jc=c,f}return It(e,t),e.prototype._apply=function(i){return new Ai(i.firestore,i.converter,wT(i._query,this.Hc,this.Jc))},e}($y),Wy=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return It(e,t),e.prototype._apply=function(i){var c,f,a=BS(i,this.type,this.Yc,this.Xc);return new Ai(i.firestore,i.converter,(f=a,new Gs((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)))},e}($y),TD=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return It(e,t),e.prototype._apply=function(i){var c,f,a=BS(i,this.type,this.Yc,this.Xc);return new Ai(i.firestore,i.converter,(f=a,new Gs((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)))},e}($y);function BS(t,e,i,a){if(i[0]=(0,cn.m9)(i[0]),i[0]instanceof Dd)return function(f,y,b,D,S){if(!D)throw new Fe(we.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+b+"().");for(var x=[],R=0,L=cp(f);R<L.length;R++){var q=L[R];if(q.field.isKeyField())x.push(al(y,D.key));else{var K=D.data.field(q.field);if(ka(K))throw new Fe(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===K){var ie=q.field.canonicalString();throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ie+"' (used as the orderBy) does not exist.")}x.push(K)}}return new ap(x,S)}(t._query,t.firestore._databaseId,e,i[0]._document,a);var c=wd(t.firestore);return function(f,y,b,D,S,x){var R=f.explicitOrderBy;if(S.length>R.length)throw new Fe(we.INVALID_ARGUMENT,"Too many arguments provided to "+D+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var L=[],q=0;q<S.length;q++){var K=S[q];if(R[q].field.isKeyField()){if("string"!=typeof K)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+D+"(), but got a "+typeof K);if(!HE(f)&&-1!==K.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+D+"() must be a plain document ID, but '"+K+"' contains a slash.");var ie=f.path.child(an.fromString(K));if(!bt.isDocumentKey(ie))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+D+"() must result in a valid document path, but '"+ie+"' is not because it contains an odd number of segments.");var Ie=new bt(ie);L.push(al(y,Ie))}else{var Ae=ED(b,D,K);L.push(Ae)}}return new ap(L,x)}(t._query,t.firestore._databaseId,c,e,i,a)}function HS(t,e,i){if("string"==typeof(i=(0,cn.m9)(i))){if(""===i)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&-1!==i.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var a=e.path.child(an.fromString(i));if(!bt.isDocumentKey(a))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");return al(t,new bt(a))}if(i instanceof Hn)return al(t,i._key);throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+By(i)+".")}function SD(t,e){if(!Array.isArray(t)||0===t.length)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function GS(t,e,i){if(!i.isEqual(e))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var zy=function(){function t(){}return t.prototype.convertValue=function(e,i){switch(void 0===i&&(i="none"),Bu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw pt()}},t.prototype.convertObject=function(e,i){var a=this,c={};return il(e.fields,function(f,y){c[f]=a.convertValue(y,i)}),c},t.prototype.convertGeoPoint=function(e){return new C0(Jn(e.latitude),Jn(e.longitude))},t.prototype.convertArray=function(e,i){var a=this;return(e.values||[]).map(function(c){return a.convertValue(c,i)})},t.prototype.convertServerTimestamp=function(e,i){switch(i){case"previous":var a=RE(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ip(e));default:return null}},t.prototype.convertTimestamp=function(e){var i=Na(e);return new zi(i.seconds,i.nanos)},t.prototype.convertDocumentKey=function(e,i){var a=an.fromString(e);Pt(Hb(a));var c=new Bp(a.get(1),a.get(3)),f=new bt(a.popFirst(5));return c.isEqual(i)||pr("Document "+f+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),f},t}();function Ky(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}var E1=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return It(e,t),e.prototype.convertBytes=function(i){return new _d(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Hn(this.firestore,null,a)},e}(zy),C1=function(){function t(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}return t.prototype.set=function(e,i,a){this._verifyNotCommitted();var c=sc(e,this._firestore),f=Ky(c.converter,i,a),y=D0(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,a);return this._mutations.push(y.toMutation(c._key,ui.none())),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];this._verifyNotCommitted();var y,b=sc(e,this._firestore);return y="string"==typeof(i=(0,cn.m9)(i))||i instanceof Ha?wD(this._dataReader,"WriteBatch.update",b._key,i,a,c):bD(this._dataReader,"WriteBatch.update",b._key,i),this._mutations.push(y.toMutation(b._key,ui.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var i=sc(e,this._firestore);return this._mutations=this._mutations.concat(new mp(i._key,ui.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sc(t,e){if((t=(0,cn.m9)(t)).firestore!==e)throw new Fe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ps=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return It(e,t),e.prototype.convertBytes=function(i){return new _d(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Hn(this.firestore,null,a)},e}(zy);function AD(t,e,i){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];t=un(t,Hn);var f=un(t.firestore,mr),y=wd(f);return Gp(f,[("string"==typeof(e=(0,cn.m9)(e))||e instanceof Ha?wD(y,"updateDoc",t._key,e,i,a):bD(y,"updateDoc",t._key,e)).toMutation(t._key,ui.exists(!0))])}function OD(t){for(var e,i,a,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];t=(0,cn.m9)(t);var y={includeMetadataChanges:!1},b=0;"object"!=typeof c[b]||Hp(c[b])||(y=c[b],b++);var D,S,x,R={includeMetadataChanges:y.includeMetadataChanges};if(Hp(c[b])){var L=c[b];c[b]=null===(e=L.next)||void 0===e?void 0:e.bind(L),c[b+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),c[b+2]=null===(a=L.complete)||void 0===a?void 0:a.bind(L)}if(t instanceof Hn)S=un(t.firestore,mr),x=ul(t._key.path),D={next:function(ie){c[b]&&c[b](qp(S,t,ie))},error:c[b+1],complete:c[b+2]};else{var q=un(t,Ai);S=un(q.firestore,mr),x=q._query;var K=new ps(S);D={next:function(ie){c[b]&&c[b](new _l(S,K,q,ie))},error:c[b+1],complete:c[b+2]},ID(t._query)}return function(ie,Ie,Ae,He){var Le=this,gt=new nc(He),lt=new Ry(Ie,gt,Ae);return ie.asyncQueue.enqueueAndForget(function(){return xe(Le,void 0,void 0,function(){var en;return Re(this,function(Kr){switch(Kr.label){case 0:return en=s0,[4,vl(ie)];case 1:return[2,en.apply(void 0,[Kr.sent(),lt])]}})})}),function(){gt.Wo(),ie.asyncQueue.enqueueAndForget(function(){return xe(Le,void 0,void 0,function(){var en;return Re(this,function(Kr){switch(Kr.label){case 0:return en=a0,[4,vl(ie)];case 1:return[2,en.apply(void 0,[Kr.sent(),lt])]}})})})}}(zr(S),x,R,D)}function Gp(t,e){return function(i,a){var c=this,f=new qr;return i.asyncQueue.enqueueAndForget(function(){return xe(c,void 0,void 0,function(){var y;return Re(this,function(b){switch(b.label){case 0:return y=c0,[4,uD(i)];case 1:return[2,y.apply(void 0,[b.sent(),a,f])]}})})}),f.promise}(zr(t),e)}function qp(t,e,i){var a=i.docs.get(e._key),c=new ps(t);return new Ho(t,c,e._key,a,new oc(i.hasPendingWrites,i.fromCache),e.converter)}var qS=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this)._firestore=i,c}return It(e,t),e.prototype.get=function(i){var a=this,c=sc(i,this._firestore),f=new ps(this._firestore);return t.prototype.get.call(this,i).then(function(y){return new Ho(a._firestore,f,c._key,y._document,new oc(!1,!1),c.converter)})},e}(function(){function t(e,i){this._firestore=e,this._transaction=i,this._dataReader=wd(e)}return t.prototype.get=function(e){var i=this,a=sc(e,this._firestore),c=new E1(this._firestore);return this._transaction.lookup([a._key]).then(function(f){if(!f||1!==f.length)return pt();var y=f[0];if(y.isFoundDocument())return new Dd(i._firestore,c,y.key,y,a.converter);if(y.isNoDocument())return new Dd(i._firestore,c,a._key,null,a.converter);throw pt()})},t.prototype.set=function(e,i,a){var c=sc(e,this._firestore),f=Ky(c.converter,i,a),y=D0(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,a);return this._transaction.set(c._key,y),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var y,b=sc(e,this._firestore);return y="string"==typeof(i=(0,cn.m9)(i))||i instanceof Ha?wD(this._dataReader,"Transaction.update",b._key,i,a,c):bD(this._dataReader,"Transaction.update",b._key,i),this._transaction.update(b._key,y),this},t.prototype.delete=function(e){var i=sc(e,this._firestore);return this._transaction.delete(i._key),this},t}());function Ji(){if("undefined"==typeof Uint8Array)throw new Fe(we.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xD(){if("undefined"==typeof atob)throw new Fe(we.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Qy=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return xD(),new t(_d.fromBase64String(e))},t.fromUint8Array=function(e){return Ji(),new t(_d.fromUint8Array(e))},t.prototype.toBase64=function(){return xD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Ji(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),$S=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,i){return function(a,c){RS(a=un(a,mr));var f=zr(a),y=a._freezeSettings(),b=new p0;return PS(f,b,new yl(b,y.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(e._delegate,{forceOwnership:i})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(i){RS(i=un(i,mr));var a=zr(i),c=i._freezeSettings(),f=new p0;return PS(a,f,new CS(f,c.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(i){var a=this;if(i._initialized&&!i._terminated)throw new Fe(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new qr;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return xe(a,void 0,void 0,function(){var f;return Re(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,function(b){return xe(this,void 0,void 0,function(){return Re(this,function(S){switch(S.label){case 0:return od.yt()?[4,od.delete(b+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(Zb(i._databaseId,i._persistenceKey))];case 1:return y.sent(),c.resolve(),[3,3];case 2:return f=y.sent(),c.reject(f),[3,3];case 3:return[2]}})})}),c.promise}(e._delegate)},t}(),PD=function(){function t(e,i,a){var c=this;this._delegate=i,this.Zc=a,this.INTERNAL={delete:function(){return c.terminate()}},e instanceof Bp||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var i=this._delegate._getSettings();e.merge||i.host===e.host||rp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,i,a){void 0===a&&(a={}),function(c,f,y,b){var D;void 0===b&&(b={});var S=(c=un(c,vd))._getSettings();if("firestore.googleapis.com"!==S.host&&S.host!==f&&rp("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},S),{host:f+":"+y,ssl:!1})),b.mockUserToken){var x,R;if("string"==typeof b.mockUserToken)x=b.mockUserToken,R=Wr.MOCK_USER;else{x=(0,cn.Sg)(b.mockUserToken,null===(D=c._app)||void 0===D?void 0:D.options.projectId);var L=b.mockUserToken.sub||b.mockUserToken.user_id;if(!L)throw new Fe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Wr(L)}c._credentials=new SS(new Uy(x,R))}}(this._delegate,e,i,a)},t.prototype.enableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return xe(i,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:return[4,m0(e)];case 1:return a=f.sent(),[4,Fy(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!0),y=c,b=Ye(y),b.Or.delete(0),Ks(b))]}var y,b})})})}(zr(un(this._delegate,mr)))},t.prototype.disableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return xe(i,void 0,void 0,function(){var a,c;return Re(this,function(f){switch(f.label){case 0:return[4,m0(e)];case 1:return a=f.sent(),[4,Fy(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!1),function(y){return xe(this,void 0,void 0,function(){var b;return Re(this,function(D){switch(D.label){case 0:return(b=Ye(y)).Or.add(0),[4,ur(b)];case 1:return D.sent(),b.Br.set("Offline"),[2]}})})}(c))]}})})})}(zr(un(this._delegate,mr)))},t.prototype.enablePersistence=function(e){var i=!1,a=!1;return e&&_0("synchronizeTabs",i=!!e.synchronizeTabs,"experimentalForceOwningTab",a=!!e.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,a)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var i=this,a=new qr;return e.asyncQueue.enqueueAndForget(function(){return xe(i,void 0,void 0,function(){var c;return Re(this,function(f){switch(f.label){case 0:return c=f1,[4,uD(e)];case 1:return[2,c.apply(void 0,[f.sent(),a])]}})})}),a.promise}(zr(un(this._delegate,mr)))},t.prototype.onSnapshotsInSync=function(e){return a=e,function(c,f){var y=this,b=new nc(f);return c.asyncQueue.enqueueAndForget(function(){return xe(y,void 0,void 0,function(){var D;return Re(this,function(S){switch(S.label){case 0:return D=function(x,R){Ye(x).Gr.add(R),R.next()},[4,vl(c)];case 1:return[2,D.apply(void 0,[S.sent(),b])]}})})}),function(){b.Wo(),c.asyncQueue.enqueueAndForget(function(){return xe(y,void 0,void 0,function(){var D;return Re(this,function(S){switch(S.label){case 0:return D=function(x,R){Ye(x).Gr.delete(R)},[4,vl(c)];case 1:return[2,D.apply(void 0,[S.sent(),b])]}})})})}}(zr(un(this._delegate,mr)),Hp(a)?a:{next:a});var a},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Yy(this,gD(this._delegate,e))}catch(i){throw Oi(i,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new ac(this,Hy(this._delegate,e))}catch(i){throw Oi(i,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new bl(this,function(i,a){if(i=un(i,vd),Vy("collectionGroup","collection id",a),a.indexOf("/")>=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ai(i,null,(c=a,new Gs(an.emptyPath(),c)));var c}(this._delegate,e))}catch(i){throw Oi(i,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var a,i=this;return function(f,y){var b=this,D=new qr;return f.asyncQueue.enqueueAndForget(function(){return xe(b,void 0,void 0,function(){var S;return Re(this,function(x){switch(x.label){case 0:return[4,(R=f,Vp(R).then(function(L){return L.datastore}))];case 1:return S=x.sent(),new TS(f.asyncQueue,S,y,D).run(),[2]}var R})})}),D.promise}(zr(a=this._delegate),function(f){return function(a){return e(new A0(i,a))}(new qS(a,f))})},t.prototype.batch=function(){var e=this;return zr(this._delegate),new MD(new C1(this._delegate,function(i){return Gp(e._delegate,i)}))},t.prototype.loadBundle=function(e){throw new Fe(we.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Fe(we.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Td=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return It(e,t),e.prototype.convertBytes=function(i){return new Qy(new _d(i))},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return ac.eu(a,this.firestore,null)},e}(zy),A0=function(){function t(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Td(e)}return t.prototype.get=function(e){var i=this,a=Od(e);return this._delegate.get(a).then(function(c){return new Sd(i._firestore,new Ho(i._firestore._delegate,i._userDataWriter,c._key,c._document,c.metadata,a.converter))})},t.prototype.set=function(e,i,a){var c=Od(e);return a?(v0("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],y=3;y<arguments.length;y++)f[y-3]=arguments[y];var b=Od(e);return 2===arguments.length?this._delegate.update(b,i):(c=this._delegate).update.apply(c,bn([b,i,a],f)),this},t.prototype.delete=function(e){var i=Od(e);return this._delegate.delete(i),this},t}(),MD=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,i,a){var c=Od(e);return a?(v0("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],y=3;y<arguments.length;y++)f[y-3]=arguments[y];var b=Od(e);return 2===arguments.length?this._delegate.update(b,i):(c=this._delegate).update.apply(c,bn([b,i,a],f)),this},t.prototype.delete=function(e){var i=Od(e);return this._delegate.delete(i),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$p=function(){function t(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}return t.prototype.fromFirestore=function(e,i){var a=new Id(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ad(this._firestore,a),null!=i?i:{})},t.prototype.toFirestore=function(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)},t.nu=function(e,i){var a=t.su,c=a.get(e);c||(c=new WeakMap,a.set(e,c));var f=c.get(i);return f||(f=new t(e,new Td(e),i),c.set(i,f)),f},t}();$p.su=new WeakMap;var ac=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Td(e)}return t.iu=function(e,i,a){if(e.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(i,new Hn(i._delegate,a,new bt(e)))},t.eu=function(e,i,a){return new t(i,new Hn(i._delegate,a,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Yy(this.firestore,gD(this._delegate,e))}catch(i){throw Oi(i,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,cn.m9)(e))instanceof Hn&&E0(this._delegate,e)},t.prototype.set=function(e,i){i=v0("DocumentReference.set",i);try{return function(a,c,f){a=un(a,Hn);var y=un(a.firestore,mr),b=Ky(a.converter,c,f);return Gp(y,[D0(wd(y),"setDoc",a._key,b,null!==a.converter,f).toMutation(a._key,ui.none())])}(this._delegate,e,i)}catch(a){throw Oi(a,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,i){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return 1===arguments.length?AD(this._delegate,e):AD.apply(void 0,bn([this._delegate,e,i],a))}catch(f){throw Oi(f,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Gp(un((e=this._delegate).firestore,mr),[new mp(e._key,ui.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=ND(i),f=Zy(i,function(y){return new Sd(e.firestore,new Ho(e.firestore._delegate,e._userDataWriter,y._key,y._document,y.metadata,e._delegate.converter))});return OD(this._delegate,c,f)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=un(a,Hn);var c=un(a.firestore,mr),f=zr(c),y=new ps(c);return function(b,D){var S=this,x=new qr;return b.asyncQueue.enqueueAndForget(function(){return xe(S,void 0,void 0,function(){var R;return Re(this,function(L){switch(L.label){case 0:return R=function(q,K,ie){return xe(this,void 0,void 0,function(){var Ie,Ae;return Re(this,function(He){switch(He.label){case 0:return He.trys.push([0,2,,3]),[4,(Le=q,gt=K,lt=Ye(Le),lt.persistence.runTransaction("read document","readonly",function(en){return lt.Mn.mn(en,gt)}))];case 1:return(Ae=He.sent()).isFoundDocument()?ie.resolve(Ae):Ae.isNoDocument()?ie.resolve(null):ie.reject(new Fe(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ie=He.sent(),Ae=md(Ie,"Failed to get document '"+K+" from cache"),ie.reject(Ae),[3,3];case 3:return[2]}var Le,gt,lt})})},[4,yd(b)];case 1:return[2,R.apply(void 0,[L.sent(),D,x])]}})})}),x.promise}(f,a._key).then(function(b){return new Ho(c,y,a._key,b,new oc(null!==b&&b.hasLocalMutations,!0),a.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=un(a,Hn);var c=un(a.firestore,mr);return cD(zr(c),a._key,{source:"server"}).then(function(f){return qp(c,a,f)})}(this._delegate):function(a){a=un(a,Hn);var c=un(a.firestore,mr);return cD(zr(c),a._key).then(function(f){return qp(c,a,f)})}(this._delegate)).then(function(a){return new Sd(i.firestore,new Ho(i.firestore._delegate,i._userDataWriter,a._key,a._document,a.metadata,i._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$p.nu(this.firestore,e):null))},t}();function Oi(t,e,i){return t.message=t.message.replace(e,i),t}function ND(t){for(var e=0,i=t;e<i.length;e++){var a=i[e];if("object"==typeof a&&!Hp(a))return a}return{}}function Zy(t,e){var i,a,c;return{next:function(f){c.next&&c.next(e(f))},error:null===(i=(c=Hp(t[0])?t[0]:Hp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}var Sd=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ac(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,i){return this._delegate.get(e,i)},t.prototype.isEqual=function(e){return US(this._delegate,e._delegate)},t}(),Ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.data=function(i){return this._delegate.data(i)},e}(Sd),bl=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Td(e)}return t.prototype.where=function(e,i,a){try{return new t(this.firestore,hs(this._delegate,(y=a,b=i,D=S0("where",c=e),new jS(D,b,y))))}catch(c){throw Oi(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,y,b,D},t.prototype.orderBy=function(e,i){try{return new t(this.firestore,hs(this._delegate,function(a,c){void 0===c&&(c="asc");var f=c,y=S0("orderBy",a);return new w1(y,f)}(e,i)))}catch(a){throw Oi(a,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,hs(this._delegate,(pD("limit",i=e),new VS("limit",i,"F"))))}catch(i){throw Oi(i,"limit()","Query.limit()")}var i},t.prototype.limitToLast=function(e){try{return new t(this.firestore,hs(this._delegate,(pD("limitToLast",i=e),new VS("limitToLast",i,"L"))))}catch(i){throw Oi(i,"limitToLast()","Query.limitToLast()")}var i},t.prototype.startAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,hs(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Wy("startAt",a,!0)}.apply(void 0,e)))}catch(a){throw Oi(a,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,hs(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Wy("startAfter",a,!1)}.apply(void 0,e)))}catch(a){throw Oi(a,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,hs(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new TD("endBefore",a,!0)}.apply(void 0,e)))}catch(a){throw Oi(a,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,hs(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new TD("endAt",a,!1)}.apply(void 0,e)))}catch(a){throw Oi(a,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return OS(this._delegate,e._delegate)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=un(a,Ai);var c=un(a.firestore,mr),f=zr(c),y=new ps(c);return function(b,D){var S=this,x=new qr;return b.asyncQueue.enqueueAndForget(function(){return xe(S,void 0,void 0,function(){var R;return Re(this,function(L){switch(L.label){case 0:return R=function(q,K,ie){return xe(this,void 0,void 0,function(){var Ie,Ae,He,Le,gt;return Re(this,function(lt){switch(lt.label){case 0:return lt.trys.push([0,2,,3]),[4,Ey(q,K,!0)];case 1:return gt=lt.sent(),Ie=new YC(K,gt.Bn),Ae=Ie._o(gt.documents),He=Ie.applyChanges(Ae,!1),ie.resolve(He.snapshot),[3,3];case 2:return Le=lt.sent(),gt=md(Le,"Failed to execute query '"+K+" against cache"),ie.reject(gt),[3,3];case 3:return[2]}})})},[4,yd(b)];case 1:return[2,R.apply(void 0,[L.sent(),D,x])]}})})}),x.promise}(f,a._query).then(function(b){return new _l(c,y,a,b)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=un(a,Ai);var c=un(a.firestore,mr),f=zr(c),y=new ps(c);return y0(f,a._query,{source:"server"}).then(function(b){return new _l(c,y,a,b)})}(this._delegate):function(a){a=un(a,Ai);var c=un(a.firestore,mr),f=zr(c),y=new ps(c);return ID(a._query),y0(f,a._query).then(function(b){return new _l(c,y,a,b)})}(this._delegate)).then(function(a){return new wo(i.firestore,new _l(i.firestore._delegate,i._userDataWriter,i._delegate,a._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=ND(i),f=Zy(i,function(y){return new wo(e.firestore,new _l(e.firestore._delegate,e._userDataWriter,e._delegate,y._snapshot))});return OD(this._delegate,c,f)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$p.nu(this.firestore,e):null))},t}(),WS=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ad(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),wo=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"query",{get:function(){return new bl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(i){return new Ad(e._firestore,i)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var i=this;return this._delegate.docChanges(e).map(function(a){return new WS(i._firestore,a)})},t.prototype.forEach=function(e,i){var a=this;this._delegate.forEach(function(c){e.call(i,new Ad(a._firestore,c))})},t.prototype.isEqual=function(e){return US(this._delegate,e._delegate)},t}(),Yy=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).firestore=i,c._delegate=a,c}return It(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new ac(this.firestore,i):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(i){try{return new ac(this.firestore,void 0===i?Hy(this._delegate):Hy(this._delegate,i))}catch(a){throw Oi(a,"doc()","CollectionReference.doc()")}},e.prototype.add=function(i){var c,f,y,b,D,a=this;return(c=this._delegate,f=i,y=un(c.firestore,mr),b=Hy(c),D=Ky(c.converter,f),Gp(y,[D0(wd(c.firestore),"addDoc",b._key,D,null!==c.converter,{}).toMutation(b._key,ui.exists(!1))]).then(function(){return b})).then(function(c){return new ac(a.firestore,c)})},e.prototype.isEqual=function(i){return E0(this._delegate,i._delegate)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?$p.nu(this.firestore,i):null))},e}(bl);function Od(t){return un(t,Hn)}var zS=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._delegate=new(Ha.bind.apply(Ha,bn([void 0],e)))}return t.documentId=function(){return new t(Fo.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,cn.m9)(e))instanceof Ha&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),D1=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new kS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new vD("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new FS("arrayUnion",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayUnion",new t(a)},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new v1("arrayRemove",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayRemove",new t(a)},t.increment=function(e){var i=new _1("increment",e);return i._methodName="FieldValue.increment",new t(i)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),KS=$(8308),S1={Firestore:PD,GeoPoint:C0,Timestamp:zi,Blob:Qy,Transaction:A0,WriteBatch:MD,DocumentReference:ac,DocumentSnapshot:Sd,Query:bl,QueryDocumentSnapshot:Ad,QuerySnapshot:wo,CollectionReference:Yy,FieldPath:zS,FieldValue:D1,setLogLevel:function(t){as.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function FD(t,e){return function(t,e=Oa.z){return new dr.y(i=>{let a;return null!=e?e.schedule(()=>{a=t.onSnapshot({includeMetadataChanges:!0},i)}):a=t.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(t,e)}function Jy(t,e){return FD(t,e).pipe((0,Ct.U)(i=>({payload:i,type:"query"})))}function Xy(t,e){return Jy(t,e).pipe(As(void 0),If(),(0,Ct.U)(([i,a])=>{const c=a.payload.docChanges(),f=c.map(y=>({type:y.type,payload:y}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((y,b)=>{const D=c.find(x=>x.doc.ref.isEqual(y.ref)),S=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(y.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(y.metadata)||!D&&S&&JSON.stringify(S.metadata)===JSON.stringify(y.metadata)||f.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:y}})}),f}))}function YS(t,e,i){return Xy(t,i).pipe(Io((a,c)=>function(t,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ev(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return ev(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ev(t,e.oldIndex,1)}return t}(t,a))}),t}(a,c.map(f=>f.payload),e),[]),fw(),(0,Ct.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function ev(t,e,i,...a){const c=t.slice();return c.splice(e,i,...a),c}function UD(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){t.INTERNAL.registerComponent(new KS.wA("firestore",function(a){return e=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),new PD(e,new mr(e,i),new $S);var e,i},"PUBLIC").setServiceProps(Object.assign({},S1))),t.registerVersion("@firebase/firestore","2.4.0")}(am.Z);class O0{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=Xy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Ct.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(As(void 0),If(),yi(([a,c])=>c.length>0||!a),(0,Ct.U)(([a,c])=>c),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Io((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=UD(e);return YS(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Bn.D)(this.query.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new xd(this.ref.doc(e),this.afs)}}class xd{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:f}=eA(a,i);return new O0(c,f,this.afs)}snapshotChanges(){return function(t,e){return FD(t,e).pipe(As(void 0),If(),(0,Ct.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Bn.D)(this.ref.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}}class x0{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),yi(i=>i.length>0),this.afs.keepUnstableUntilFirst):Xy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Io((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=UD(e);return YS(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Bn.D)(this.query.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}}const tv=new _.OlP("angularfire2.enableFirestorePersistence"),P0=new _.OlP("angularfire2.firestore.persistenceSettings"),jD=new _.OlP("angularfire2.firestore.settings"),XS=new _.OlP("angularfire2.firestore.use-emulator");function eA(t,e=(i=>i)){return{query:e(t),ref:t}}let tA=(()=>{class t{constructor(i,a,c,f,y,b,D,S,x){this.schedulers=new Kt.HU(b),this.keepUnstableUntilFirst=(0,Kt.ss)(this.schedulers);const R=(0,Kt.on)(i,b,a);!bw.Z.auth&&x&&(0,Kt.yq)();const L=S;[this.firestore,this.persistenceEnabled$]=(0,Kt.sI)(`${R.name}.firestore`,"AngularFirestore",R,()=>{const q=b.runOutsideAngular(()=>R.firestore());if(f&&q.settings(f),L&&q.useEmulator(...L),c&&!Fd(y)){const K=()=>{try{return(0,Bn.D)(q.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ie){return"undefined"!=typeof console&&console.warn(ie),(0,ht.of)(!1)}};return[q,b.runOutsideAngular(K)]}return[q,(0,ht.of)(!1)]},[f,L,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:y}=eA(c,a),b=this.schedulers.ngZone.run(()=>f);return new O0(b,y,this)}collectionGroup(i,a){const c=a||(y=>y),f=this.firestore.collectionGroup(i);return new x0(c(f),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new xd(c,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(tv,8),_.LFG(jD,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(P0,8),_.LFG(XS,8),_.LFG(Fh,8))},t.\u0275prov=_.Yz7({factory:function(){return new t(_.LFG(Kt.Dh),_.LFG(Kt.xv,8),_.LFG(tv,8),_.LFG(jD,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(P0,8),_.LFG(XS,8),_.LFG(Fh,8))},token:t,providedIn:"any"}),t})(),VD=(()=>{class t{static enablePersistence(i){return{ngModule:t,providers:[{provide:tv,useValue:!0},{provide:P0,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[tA]}),t})(),BD=(()=>{class t{constructor(i){this._service=i}ngOnInit(){var i,c;c=(i=jQuery)("nav").outerHeight(),i(".navbar-toggler").on("click",function(){i("#mainNav").hasClass("navbar-reduce")||i("#mainNav").addClass("navbar-reduce")}),i(".js-scroll").on("click",function(){i(".navbar-collapse").collapse("hide")}),i("body").scrollspy({target:"#mainNav",offset:c}),i(window).trigger("scroll"),i(window).on("scroll",function(){i(window).scrollTop()>50?(i(".navbar-expand-md").addClass("navbar-reduce"),i(".navbar-expand-md").removeClass("navbar-trans")):(i("#navbarDefault").hasClass("show")||i(".navbar-expand-md").removeClass("navbar-reduce"),i(".navbar-expand-md").addClass("navbar-trans")),i(window).scrollTop()>1200?i(".scrolltop-mf").fadeIn(1e3,"easeInOutExpo"):i(".scrolltop-mf").fadeOut(1e3,"easeInOutExpo")})}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-header"]],decls:28,vars:1,consts:[["id","mainNav",1,"navbar","navbar-b","navbar-trans","navbar-expand-md","fixed-top"],[1,"container"],["href","#page-top",1,"navbar-brand","js-scroll"],["type","button","data-toggle","collapse","data-target","#navbarDefault","aria-controls","navbarDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","collapsed"],["id","navbarDefault",1,"navbar-collapse","collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","#",1,"nav-link","js-scroll","active"],["href","#about",1,"nav-link","js-scroll"],["href","#experience",1,"nav-link","js-scroll"],["href","#service",1,"nav-link","js-scroll"],["href","#work",1,"nav-link","js-scroll"],["href","#footer",1,"nav-link","js-scroll"]],template:function(i,a){1&i&&(_.TgZ(0,"nav",0),_.TgZ(1,"div",1),_.TgZ(2,"a",2),_._uU(3),_.qZA(),_.TgZ(4,"button",3),_._UZ(5,"span"),_._UZ(6,"span"),_._UZ(7,"span"),_.qZA(),_.TgZ(8,"div",4),_.TgZ(9,"ul",5),_.TgZ(10,"li",6),_.TgZ(11,"a",7),_._uU(12,"Home"),_.qZA(),_.qZA(),_.TgZ(13,"li",6),_.TgZ(14,"a",8),_._uU(15,"About me"),_.qZA(),_.qZA(),_.TgZ(16,"li",6),_.TgZ(17,"a",9),_._uU(18,"EXPERIENCE"),_.qZA(),_.qZA(),_.TgZ(19,"li",6),_.TgZ(20,"a",10),_._uU(21,"Services"),_.qZA(),_.qZA(),_.TgZ(22,"li",6),_.TgZ(23,"a",11),_._uU(24,"Portfolio"),_.qZA(),_.qZA(),_.TgZ(25,"li",6),_.TgZ(26,"a",12),_._uU(27,"Contact me"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&i&&(_.xp6(3),_.Oqu(a._service.info.title))},styles:['.navbar-nav[_ngcontent-%COMP%]{margin-top:2rem}.navbar-b[_ngcontent-%COMP%]{transition:all .5s ease-in-out;background-color:transparent;padding-top:1.563rem;padding-bottom:1.563rem}.navbar-b.navbar-reduce[_ngcontent-%COMP%]{box-shadow:0 6px 9px #0000000f}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative;padding-right:10px;padding-left:0;margin-bottom:15px}@media (min-width: 768px){.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:0}.navbar-nav[_ngcontent-%COMP%]{margin-top:0}}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;margin-left:0;width:0%;bottom:0;left:0;height:2px;transition:all .5s ease}@media (min-width: 768px){.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{margin-left:18px}}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#1b1b1b}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{width:35px}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-trans[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link.show[_ngcontent-%COMP%]:before, .navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link.show[_ngcontent-%COMP%]:before, .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{width:35px}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{background-color:#fff}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff}.navbar-b.navbar-trans[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-b.navbar-trans[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link.show[_ngcontent-%COMP%], .navbar-b.navbar-trans[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]{transition:all .5s ease-in-out;background-color:#fff;padding-top:15px;padding-bottom:15px}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0078ff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{background-color:#0078ff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0078ff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link.show[_ngcontent-%COMP%], .navbar-b.navbar-reduce[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0078ff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#0078ff}.navbar-b.navbar-reduce[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#1b1b1b}.navbar-b[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff;font-size:1.6rem;font-weight:600}.navbar-b[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-item.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .navbar-b[_ngcontent-%COMP%]   .dropdown.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .navbar-b[_ngcontent-%COMP%]   .dropdown-btn.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:translate(0);visibility:visible!important}.navbar-b[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:1.12rem 0 0;border-radius:0}.navbar-b[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:.7rem 1.7rem;transition:all .5s ease}.navbar-b[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#0078ff;color:#fff;transition:all .5s ease}.navbar-b[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{background-color:#0078ff}.navbar-toggler[_ngcontent-%COMP%]{position:relative}.navbar-toggler[_ngcontent-%COMP%]:focus, .navbar-toggler[_ngcontent-%COMP%]:active{outline:0}.navbar-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;background-color:#fff;height:3px;width:25px;margin-top:4px;margin-bottom:4px;transform:rotate(0);left:0;opacity:1}.navbar-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1), .navbar-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transition:transform .35s ease-in-out}.navbar-toggler[_ngcontent-%COMP%]:not(.collapsed)   span[_ngcontent-%COMP%]:nth-child(1){position:absolute;left:12px;top:10px;transform:rotate(135deg);opacity:.9}.navbar-toggler[_ngcontent-%COMP%]:not(.collapsed)   span[_ngcontent-%COMP%]:nth-child(2){height:12px;visibility:hidden;background-color:transparent}.navbar-toggler[_ngcontent-%COMP%]:not(.collapsed)   span[_ngcontent-%COMP%]:nth-child(3){position:absolute;left:12px;top:10px;transform:rotate(-135deg);opacity:.9}']}),t})();var nA=$(9028),rA=$.n(nA);let iA=(()=>{class t{constructor(i){this._service=i}ngOnInit(){!function(i){if(1==i(".text-slider").length){var a=i(".text-slider-items").text();new(rA())(".text-slider",{strings:a.split(","),typeSpeed:80,loop:!0,backDelay:1100,backSpeed:30})}}(jQuery)}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-portfolio"]],decls:90,vars:9,consts:[["id","home",1,"intro","route","bg-image",2,"background-image","url(assets/img/intro-bg.jpg)"],[1,"overlay-itro"],[1,"intro-content","display-table"],[1,"table-cell"],[1,"container"],[1,"intro-title","mb-4"],[1,"intro-subtitle"],[1,"text-slider-items"],[1,"text-slider"],["id","main"],["id","about",1,"about-mf","sect-pt4","route"],[1,"row"],[1,"col-sm-12"],[1,"box-shadow-full"],[1,"col-md-6"],[1,"col-sm-6","col-md-5"],[1,"about-img"],["alt","",1,"img-fluid","rounded","b-shadow-a",3,"src"],[1,"col-sm-6","col-md-7"],[1,"about-info"],[1,"title-s"],[1,"skill-mf"],[1,"lead"],[1,"about-me","pt-4","pt-md-0"],[1,"title-box-2"],[1,"title-left"],[1,"about-me","pt-4","pt-md-4","text-center"],["target","_blank",1,"btn-rounded-white",3,"href"]],template:function(i,a){1&i&&(_.TgZ(0,"div",0),_._UZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h1",5),_._uU(6),_.qZA(),_.TgZ(7,"p",6),_.TgZ(8,"span",7),_._uU(9," Web Developer, API Developer, Infrastructure engineer "),_.qZA(),_._UZ(10,"strong",8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"main",9),_.TgZ(12,"section",10),_.TgZ(13,"div",4),_.TgZ(14,"div",11),_.TgZ(15,"div",12),_.TgZ(16,"div",13),_.TgZ(17,"div",11),_.TgZ(18,"div",14),_.TgZ(19,"div",11),_.TgZ(20,"div",15),_.TgZ(21,"div",16),_._UZ(22,"img",17),_.qZA(),_.qZA(),_.TgZ(23,"div",18),_.TgZ(24,"div",19),_.TgZ(25,"p"),_.TgZ(26,"span",20),_._uU(27,"Name: "),_.qZA(),_.TgZ(28,"span"),_._uU(29),_.qZA(),_.qZA(),_.TgZ(30,"p"),_.TgZ(31,"span",20),_._uU(32,"Profile: "),_.qZA(),_.TgZ(33,"span"),_._uU(34),_.qZA(),_.qZA(),_.TgZ(35,"p"),_.TgZ(36,"span",20),_._uU(37,"Email: "),_.qZA(),_.TgZ(38,"span"),_._uU(39),_.qZA(),_.qZA(),_.TgZ(40,"p"),_.TgZ(41,"span",20),_._uU(42,"Phone: "),_.qZA(),_.TgZ(43,"span"),_._uU(44),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(45,"div",21),_.TgZ(46,"p",20),_._uU(47,"Skills"),_.qZA(),_.TgZ(48,"div"),_.TgZ(49,"p",22),_._UZ(50,"br"),_.TgZ(51,"b"),_._uU(52,"\u{1f3c5} Expertise At:"),_.qZA(),_._UZ(53,"br"),_._uU(54," .NET Core, .NET MVC, Amazon Web Services (AWS) (API Gateway, S3, EC2, RDS, Athena, Lambda, and data lake formation, Load Balancer, ElastiCache) Azure AppService, Azure SQL, Azure CosmosDB, AzureAD Setup and Configuration Extract, transform, and load data from a wide variety of data sources using SQL and AWS technologies. No SQL databases (DynamoDB) Building back-end infrastructures in AWS Bamboo, Jenkins for CI/CD "),_._UZ(55,"br"),_._uU(56," \u{1f3c5} "),_.TgZ(57,"b"),_._uU(58,"Industry Experience:"),_.qZA(),_._UZ(59,"br"),_._uU(60," Healthcare Logistics Education Food Entertainment E-commerce Sports "),_._UZ(61,"br"),_._uU(62," \u2705 "),_.TgZ(63,"b"),_._uU(64,"Ticket System:"),_.qZA(),_._UZ(65,"br"),_._uU(66," JIRA, Trello, Zendesk, TFS. "),_._UZ(67,"br"),_._uU(68," \u2705 "),_.TgZ(69,"b"),_._uU(70,"Version Control:"),_.qZA(),_._UZ(71,"br"),_._uU(72," BitBucket, SVN, GitHub, GIT, TFS, Azure DevOps, etc.. "),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(73,"div",14),_.TgZ(74,"div",23),_.TgZ(75,"div",24),_.TgZ(76,"h5",25),_._uU(77," About me "),_.qZA(),_.qZA(),_.TgZ(78,"p",22),_._uU(79," My name is "),_.TgZ(80,"b"),_._uU(81," Kishan Parmar"),_.qZA(),_._uU(82," and I have completed the Bechlor of engineering from the Gandhinagar institute of technology(GTU). I am a person who is passionate about computer science, programming and web development. "),_.qZA(),_.TgZ(83,"p",22),_._uU(84," I constantly work on my self-taught learning, with the help of the different technological tools that currently interact and intervene in the transformation and growth of the digital world. "),_.qZA(),_.TgZ(85,"p",22),_._uU(86," I focus on backend development and also Infrastructure of the application, their performance, I am currently learning different libraries and frameworks to carry out multiple software projects more quickly and easily. "),_.qZA(),_.qZA(),_.TgZ(87,"div",26),_.TgZ(88,"a",27),_._uU(89," Download Resume"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&i&&(_.xp6(6),_.AsE("I am ",null==a._service.profile?null:a._service.profile.FirstName," ",null==a._service.profile?null:a._service.profile.LastName," "),_.xp6(16),_.Q6J("src",null==a._service.profile?null:a._service.profile.URL,_.LSH),_.xp6(7),_.AsE("",null==a._service.profile?null:a._service.profile.FirstName," ",null==a._service.profile?null:a._service.profile.LastName,""),_.xp6(5),_.Oqu(null==a._service.profile?null:a._service.profile.Profession),_.xp6(5),_.Oqu(null==a._service.profile?null:a._service.profile.Email),_.xp6(5),_.Oqu(null==a._service.profile?null:a._service.profile.Mobile),_.xp6(44),_.Q6J("href",null==a._service.profile?null:a._service.profile.Resume,_.LSH))},styles:["iframe[_ngcontent-%COMP%]{border-style:none}.btn-rounded-white[_ngcontent-%COMP%]{display:inline-block;color:#0078ff;padding:15px 25px;border:3px solid #0078ff;border-radius:30px;transition:.5s ease all}.btn-rounded-white[_ngcontent-%COMP%]:hover{color:#fff;background:#0078ff;text-decoration:none}.intro[_ngcontent-%COMP%]{height:100vh;position:relative;color:#fff}.intro[_ngcontent-%COMP%]   .intro-content[_ngcontent-%COMP%]{text-align:center;position:absolute}.intro[_ngcontent-%COMP%]   .overlay-itro[_ngcontent-%COMP%]{background-color:#0009;position:absolute;top:0;left:0px;padding:0;height:100%;width:100%;opacity:.9}.intro[_ngcontent-%COMP%]   .intro-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:3rem}@media (min-width: 768px){.intro[_ngcontent-%COMP%]   .intro-title[_ngcontent-%COMP%]{font-size:4.5rem}}.intro[_ngcontent-%COMP%]   .intro-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300}@media (min-width: 768px){.intro[_ngcontent-%COMP%]   .intro-subtitle[_ngcontent-%COMP%]{font-size:2.5rem}}.intro[_ngcontent-%COMP%]   .text-slider-items[_ngcontent-%COMP%]{display:none}.intro-single[_ngcontent-%COMP%]{height:350px}.intro-single[_ngcontent-%COMP%]   .intro-content[_ngcontent-%COMP%]{margin-top:30px}.intro-single[_ngcontent-%COMP%]   .intro-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:3rem}@media (min-width: 768px){.intro-single[_ngcontent-%COMP%]   .intro-title[_ngcontent-%COMP%]{font-size:3.5rem}}.intro-single[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{background-color:transparent;color:#0078ff}.intro-single[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:before{color:#cde1f8}.intro-single[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#cde1f8}.intro-single[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.about-mf[_ngcontent-%COMP%]   .box-shadow-full[_ngcontent-%COMP%]{padding-top:4rem;padding-bottom:4rem;border-radius:1rem}.about-mf[_ngcontent-%COMP%]   .about-img[_ngcontent-%COMP%]{margin-bottom:2rem}.about-mf[_ngcontent-%COMP%]   .about-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}@media (min-width: 767px){.about-mf[_ngcontent-%COMP%]   .box-pl2[_ngcontent-%COMP%]{margin-top:3rem;padding-left:0}}.skill-mf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4e4e4e}.skill-mf[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background-color:#cde1f8;margin:.5rem 0 1.2rem;border-radius:0;height:.7rem}.skill-mf[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:.7rem;background-color:#0078ff}"]}),t})();function oA(t,e){if(1&t&&(_.TgZ(0,"div",11),_.TgZ(1,"div",12),_._UZ(2,"i"),_.qZA(),_.TgZ(3,"div",13),_._uU(4),_.qZA(),_.TgZ(5,"div",14),_.TgZ(6,"div",15),_._uU(7),_.qZA(),_.TgZ(8,"div",16),_._uU(9),_.qZA(),_.TgZ(10,"div",17),_.TgZ(11,"p"),_._uU(12),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&t){const i=e.$implicit;_.xp6(2),_.Tol(i.Icon),_.xp6(2),_.hij(" ",i.Tenure," "),_.xp6(3),_.hij(" ",i.CompanyName," "),_.xp6(2),_.hij(" ",i.Position," "),_.xp6(3),_.Oqu(i.Description)}}function HD(t,e){if(1&t&&(_.TgZ(0,"div",2),_.TgZ(1,"div",9),_.YNc(2,oA,13,6,"div",10),_.qZA(),_.qZA()),2&t){const i=_.oxw();_.xp6(2),_.Q6J("ngForOf",i._service.experiences)}}let A1=(()=>{class t{constructor(i){this._service=i}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-experience"]],decls:11,vars:1,consts:[["id","experience",1,"portfolio-mf","sect-pt4","pb-5","route"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center","pt-5"],[1,"title-a","text-light"],[1,"subtitle-a","text-light"],[1,"line-mf"],["class","row",4,"ngIf"],[1,"timeline"],["class","timeline__event  animated fadeInUp delay-3s timeline__event--type1",4,"ngFor","ngForOf"],[1,"timeline__event","animated","fadeInUp","delay-3s","timeline__event--type1"],[1,"timeline__event__icon"],[1,"timeline__event__date"],[1,"timeline__event__content"],[1,"timeline__event__title"],[1,"timeline__event__short__title"],[1,"timeline__event__description"]],template:function(i,a){1&i&&(_.TgZ(0,"section",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h3",5),_._uU(6," Experience "),_.qZA(),_.TgZ(7,"p",6),_._uU(8," Experience I have done currently "),_.qZA(),_._UZ(9,"div",7),_.qZA(),_.qZA(),_.qZA(),_.YNc(10,HD,3,1,"div",8),_.qZA(),_.qZA()),2&i&&(_.xp6(10),_.Q6J("ngIf",null!=a._service.experiences))},directives:[Za,dn],styles:['.timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px auto;position:relative}.timeline__event[_ngcontent-%COMP%]{position:relative;display:flex;margin:20px 0;border-radius:6px;align-self:center;width:50vw}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1){flex-direction:row-reverse}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__date[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__content[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:before{content:"";width:2px;height:100%;background:#f6a4ec;position:absolute;top:0%;left:50%;right:auto;z-index:-1;transform:translate(-50%);animation:fillTop 2s forwards 4s ease-in-out}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#f6a4ec;position:absolute;right:0;z-index:-1;top:50%;left:auto;transform:translateY(-50%);animation:fillLeft 2s forwards 4s ease-in-out}.timeline__event__title[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.4;text-transform:uppercase;font-weight:600;color:#9251ac;letter-spacing:1.5px}.timeline__event__short__title[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.4;text-transform:uppercase;font-weight:500;color:#9251ac;letter-spacing:1.5px}.timeline__event__content[_ngcontent-%COMP%]{padding:20px;box-shadow:0 30px 60px -12px #32325d40,0 18px 36px -18px #0000004d,0 -12px 36px -8px #00000006;background:#fff;width:calc(40vw - 84px);border-radius:0 6px 6px 0}.timeline__event__date[_ngcontent-%COMP%]{color:#f6a4ec;font-size:1.5rem;font-weight:600;background:#9251ac;display:flex;align-items:center;justify-content:center;white-space:nowrap;padding:0 20px;border-radius:6px 0 0 6px}.timeline__event__icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#9251ac;align-self:center;margin:0 20px;background:#f6a4ec;border-radius:100%;width:40px;box-shadow:0 30px 60px -12px #32325d40,0 18px 36px -18px #0000004d,0 -12px 36px -8px #00000006;padding:40px;height:40px;position:relative}.timeline__event__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.timeline__event__icon[_ngcontent-%COMP%]:before{content:"";width:2px;height:100%;background:#f6a4ec;position:absolute;top:0%;z-index:-1;left:50%;transform:translate(-50%);animation:fillTop 2s forwards 4s ease-in-out}.timeline__event__icon[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#f6a4ec;position:absolute;left:0%;z-index:-1;top:50%;transform:translateY(-50%);animation:fillLeftOdd 2s forwards 4s ease-in-out}.timeline__event__description[_ngcontent-%COMP%]{flex-basis:60%}.timeline__event--type2[_ngcontent-%COMP%]:after{background:#555ac0}.timeline__event--type2[_ngcontent-%COMP%]   .timeline__event__date[_ngcontent-%COMP%]{color:#87bbfe;background:#555ac0}.timeline__event--type2[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:before, .timeline__event--type2[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:after{background:#87bbfe}.timeline__event--type2[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]{background:#87bbfe;color:#555ac0}.timeline__event--type2[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]:before, .timeline__event--type2[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]:after{background:#87bbfe}.timeline__event--type2[_ngcontent-%COMP%]   .timeline__event__title[_ngcontent-%COMP%]{color:#555ac0}.timeline__event--type3[_ngcontent-%COMP%]:after{background:#24b47e}.timeline__event--type3[_ngcontent-%COMP%]   .timeline__event__date[_ngcontent-%COMP%]{color:#aff1b6;background-color:#24b47e}.timeline__event--type3[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:before, .timeline__event--type3[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]:after{background:#aff1b6}.timeline__event--type3[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]{background:#aff1b6;color:#24b47e}.timeline__event--type3[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]:before, .timeline__event--type3[_ngcontent-%COMP%]   .timeline__event__icon[_ngcontent-%COMP%]:after{background:#aff1b6}.timeline__event--type3[_ngcontent-%COMP%]   .timeline__event__title[_ngcontent-%COMP%]{color:#24b47e}.timeline__event[_ngcontent-%COMP%]:last-child   .timeline__event__icon[_ngcontent-%COMP%]:before{content:none}@media (max-width: 786px){.timeline__event[_ngcontent-%COMP%]{flex-direction:column;align-self:center;width:auto;padding:15px}.timeline__event__content[_ngcontent-%COMP%]{width:100%}.timeline__event__icon[_ngcontent-%COMP%]{border-radius:6px 6px 0 0;width:100%;margin:0;box-shadow:none}.timeline__event__icon[_ngcontent-%COMP%]:before, .timeline__event__icon[_ngcontent-%COMP%]:after{display:none}.timeline__event__date[_ngcontent-%COMP%]{border-radius:0;padding:20px}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1){flex-direction:column;align-self:center}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__date[_ngcontent-%COMP%]{border-radius:0;padding:20px}.timeline__event[_ngcontent-%COMP%]:nth-child(2n + 1)   .timeline__event__icon[_ngcontent-%COMP%]{border-radius:6px 6px 0 0;margin:0}}@keyframes fillLeft{to{right:100%}}@keyframes fillTop{to{top:100%}}@keyframes fillLeftOdd{to{left:100%}}']}),t})();function O1(t,e){if(1&t&&(_.TgZ(0,"div",9),_.TgZ(1,"div",10),_.TgZ(2,"div",11),_.TgZ(3,"span",12),_._UZ(4,"i"),_.qZA(),_.qZA(),_.TgZ(5,"div",13),_.TgZ(6,"h2",14),_._uU(7),_.qZA(),_.TgZ(8,"p",15),_._uU(9),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&t){const i=e.$implicit;_.xp6(4),_.Tol(i.Icon),_.xp6(3),_.Oqu(i.Name),_.xp6(2),_.hij(" ",i.Description," ")}}let sA=(()=>{class t{constructor(i){this._service=i}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-services"]],decls:12,vars:1,consts:[["id","service",1,"services-mf","pt-5","route"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center","pt-5"],[1,"title-a","text-light"],[1,"subtitle-a","text-light"],[1,"line-mf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"service-box"],[1,"service-ico"],[1,"ico-circle"],[1,"service-content"],[1,"s-title"],[1,"s-description","text-center"]],template:function(i,a){1&i&&(_.TgZ(0,"section",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h3",5),_._uU(6," Services "),_.qZA(),_.TgZ(7,"p",6),_._uU(8," These are some services I can help you with "),_.qZA(),_._UZ(9,"div",7),_.qZA(),_.qZA(),_.qZA(),_.TgZ(10,"div",2),_.YNc(11,O1,10,5,"div",8),_.qZA(),_.qZA(),_.qZA()),2&i&&(_.xp6(11),_.Q6J("ngForOf",a._service.services))},directives:[dn],styles:[".service-box[_ngcontent-%COMP%]{background-color:#fff;padding:2.5rem 1.3rem;border-radius:1rem;margin-bottom:3rem}.service-box[_ngcontent-%COMP%]:hover   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;color:#fff;background-color:#0078ff;box-shadow:0 0 0 10px #cde1f8}.service-box[_ngcontent-%COMP%]   .service-ico[_ngcontent-%COMP%]{margin-bottom:1rem;color:#1e1e1e}.service-box[_ngcontent-%COMP%]   .ico-circle[_ngcontent-%COMP%]{transition:all .5s ease;font-size:4rem}.service-box[_ngcontent-%COMP%]   .s-title[_ngcontent-%COMP%]{font-size:1.4rem;text-transform:uppercase;text-align:center;padding:.4rem 0}.service-box[_ngcontent-%COMP%]   .s-description[_ngcontent-%COMP%]{color:#4e4e4e}"]}),t})();function R0(t,e){if(1&t&&(_.TgZ(0,"div",24),_.TgZ(1,"a",25),_._UZ(2,"span",26),_.qZA(),_.qZA()),2&t){const i=_.oxw().$implicit;_.xp6(1),_.s9C("href",i.SiteURL,_.LSH)}}function Nr(t,e){if(1&t&&(_.TgZ(0,"div",27),_.TgZ(1,"a",25),_._UZ(2,"span",28),_.qZA(),_.qZA()),2&t){const i=_.oxw().$implicit;_.xp6(1),_.s9C("href",i.GitHubURL,_.LSH)}}function x1(t,e){if(1&t&&(_.TgZ(0,"div",10),_.TgZ(1,"div",11),_.TgZ(2,"a",12),_.TgZ(3,"div",13),_._UZ(4,"img",14),_.qZA(),_.qZA(),_.TgZ(5,"div",15),_.TgZ(6,"div",2),_.TgZ(7,"div",16),_.TgZ(8,"h2",17),_._uU(9),_.qZA(),_.TgZ(10,"div",18),_.TgZ(11,"span",19),_._uU(12),_.qZA(),_._uU(13," / "),_.TgZ(14,"span",20),_._uU(15),_.qZA(),_.qZA(),_.qZA(),_.TgZ(16,"div",21),_.YNc(17,R0,3,1,"div",22),_.YNc(18,Nr,3,1,"div",23),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&t){const i=e.$implicit;_.xp6(2),_.s9C("href",i.SiteURL,_.LSH),_.xp6(2),_.Q6J("src",i.ImageURL,_.LSH),_.xp6(5),_.Oqu(i.Name),_.xp6(3),_.Oqu(i.Category),_.xp6(3),_.Oqu(i.Date),_.xp6(2),_.Q6J("ngIf",i.SiteURL),_.xp6(1),_.Q6J("ngIf",i.GitHubURL)}}function GD(t,e){if(1&t&&(_.TgZ(0,"div",2),_.YNc(1,x1,19,7,"div",9),_.qZA()),2&t){const i=_.oxw();_.xp6(1),_.Q6J("ngForOf",i._service.portfolio)}}let qD=(()=>{class t{constructor(i,a){this._service=i,this.projectsService=a}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc),_.Y36(Sw))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-projects"]],decls:11,vars:1,consts:[["id","work",1,"portfolio-mf","sect-pt4","pb-5","route"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"title-box","text-center","pt-5"],[1,"title-a"],[1,"subtitle-a"],[1,"line-mf"],["class","row",4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"work-box"],["data-gall","portfolioGallery","target","_blank",3,"href"],[1,"work-img"],["alt","Project Portfolio",1,"img-fluid",3,"src"],[1,"work-content"],[1,"col-sm-8"],[1,"w-title"],[1,"w-more"],[1,"w-ctegory"],[1,"w-date"],[1,"col-sm-4"],["class","w-like pl-3",4,"ngIf"],["class","w-like",4,"ngIf"],[1,"w-like","pl-3"],["target","_blank",3,"href"],[1,"ion-android-globe"],[1,"w-like"],[1,"ion-social-github"]],template:function(i,a){1&i&&(_.TgZ(0,"section",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h3",5),_._uU(6," Portfolio "),_.qZA(),_.TgZ(7,"p",6),_._uU(8," Some projects that I have done currently "),_.qZA(),_._UZ(9,"div",7),_.qZA(),_.qZA(),_.qZA(),_.YNc(10,GD,2,1,"div",8),_.qZA(),_.qZA()),2&i&&(_.xp6(10),_.Q6J("ngIf",null!=a._service.portfolio))},directives:[Za,dn],styles:[".portfolio-mf[_ngcontent-%COMP%]{background:#f5f5f5}.work-box[_ngcontent-%COMP%]{margin-bottom:3rem;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#fff}.work-box[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}.work-img[_ngcontent-%COMP%]{display:block;overflow:hidden}.work-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all 1s}.work-content[_ngcontent-%COMP%]{padding:2rem 3% 1rem 4%}.work-content[_ngcontent-%COMP%]   .w-more[_ngcontent-%COMP%]{color:#4e4e4e;font-size:.8rem}.work-content[_ngcontent-%COMP%]   .w-more[_ngcontent-%COMP%]   .w-ctegory[_ngcontent-%COMP%]{color:#0078ff}.work-content[_ngcontent-%COMP%]   .w-like[_ngcontent-%COMP%]{font-size:2.5rem;color:#0078ff;float:right}.work-content[_ngcontent-%COMP%]   .w-like[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0078ff}.work-content[_ngcontent-%COMP%]   .w-like[_ngcontent-%COMP%]   .num-like[_ngcontent-%COMP%]{font-size:.7rem}.w-title[_ngcontent-%COMP%]{font-size:1.2rem}"]}),t})(),aA=(()=>{class t{constructor(i){this._service=i,this.year=(new Date).getFullYear()}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-footer"]],decls:44,vars:8,consts:[["id","footer"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"socials","text-center"],["target","_blank",3,"href"],[1,"ico-circle"],[1,"ion-social-facebook"],[1,"ion-social-instagram"],[1,"ion-social-twitter"],[1,"ion-social-github"],[1,"ion-social-whatsapp"],[1,"ion-iphone"],[1,"ion-social-linkedin"],[1,"copyright-box"],[1,"copyright"],[1,"credits"],["href","https://github.com/kishanjsk"]],template:function(i,a){1&i&&(_.TgZ(0,"footer",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"ul"),_.TgZ(6,"li"),_.TgZ(7,"a",5),_.TgZ(8,"span",6),_._UZ(9,"i",7),_.qZA(),_.qZA(),_.qZA(),_.TgZ(10,"li"),_.TgZ(11,"a",5),_.TgZ(12,"span",6),_._UZ(13,"i",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"li"),_.TgZ(15,"a",5),_.TgZ(16,"span",6),_._UZ(17,"i",9),_.qZA(),_.qZA(),_.qZA(),_.TgZ(18,"li"),_.TgZ(19,"a",5),_.TgZ(20,"span",6),_._UZ(21,"i",10),_.qZA(),_.qZA(),_.qZA(),_.TgZ(22,"li"),_.TgZ(23,"a",5),_.TgZ(24,"span",6),_._UZ(25,"i",11),_.qZA(),_.qZA(),_.qZA(),_.TgZ(26,"li"),_.TgZ(27,"a",5),_.TgZ(28,"span",6),_._UZ(29,"i",12),_.qZA(),_.qZA(),_.qZA(),_.TgZ(30,"li"),_.TgZ(31,"a",5),_.TgZ(32,"span",6),_._UZ(33,"i",13),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(34,"div",14),_.TgZ(35,"p",15),_._uU(36),_.TgZ(37,"strong"),_._uU(38,"Kishan Parmar"),_.qZA(),_._uU(39,". All Rights Reserved "),_.qZA(),_.TgZ(40,"div",16),_._uU(41," Designed by "),_.TgZ(42,"a",17),_._uU(43,"KishanP"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&i&&(_.xp6(7),_.Q6J("href",a._service.info.facebook,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.instagram,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.twitter,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.github,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.whatsapp,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.phone,_.LSH),_.xp6(4),_.Q6J("href",a._service.info.linkedIn,_.LSH),_.xp6(5),_.hij("\xa9 ",a.year," Copyright "))},styles:["footer[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:25px 0;background:#0062d3}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-bottom:.3rem}footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{margin-bottom:0}footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}"]}),t})(),nv=(()=>{class t{constructor(i,a,c){this._infoPageService=i,this._projectsService=a,this._firestore=c}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Gc),_.Y36(Sw),_.Y36(tA))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-root"]],decls:7,vars:0,template:function(i,a){1&i&&(_._UZ(0,"router-outlet"),_._UZ(1,"app-header"),_._UZ(2,"app-portfolio"),_._UZ(3,"app-experience"),_._UZ(4,"app-services"),_._UZ(5,"app-projects"),_._UZ(6,"app-footer"))},directives:[cw,BD,iA,A1,sA,qD,aA],styles:[""]}),t})();const $D_firebaseConfig={apiKey:"AIzaSyAefMsMhTNWhFBRbAfdX9r9SbuJg4fM7as",authDomain:"kishan-parmar-44133.firebaseapp.com",databaseURL:"https://kishan-parmar-44133-default-rtdb.firebaseio.com",projectId:"kishan-parmar-44133",storageBucket:"kishan-parmar-44133.appspot.com",messagingSenderId:"156114500982",appId:"1:156114500982:web:5375bd7c02e348652bce57",measurementId:"G-9ETYQ80D3C"};function Wp(t,e,i,a){return new(i||(i=Promise))(function(f,y){function b(x){try{S(a.next(x))}catch(R){y(R)}}function D(x){try{S(a.throw(x))}catch(R){y(R)}}function S(x){x.done?f(x.value):function(f){return f instanceof i?f:new i(function(y){y(f)})}(x.value).then(b,D)}S((a=a.apply(t,e||[])).next())})}class H1{constructor(e,i,a,c){this.keySelector=e,this.elementSelector=i,this.durationSelector=a,this.subjectSelector=c}call(e,i){return i.subscribe(new dA(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class dA extends Vr.L{constructor(e,i,a,c,f){super(e),this.keySelector=i,this.elementSelector=a,this.durationSelector=c,this.subjectSelector=f,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let i;try{i=this.keySelector(e)}catch(a){return void this.error(a)}this._group(e,i)}_group(e,i){let a=this.groups;a||(a=this.groups=new Map);let f,c=a.get(i);if(this.elementSelector)try{f=this.elementSelector(e)}catch(y){this.error(y)}else f=e;if(!c){c=this.subjectSelector?this.subjectSelector():new zn.xQ,a.set(i,c);const y=new KD(i,c,this);if(this.destination.next(y),this.durationSelector){let b;try{b=this.durationSelector(new KD(i,c))}catch(D){return void this.error(D)}this.add(b.subscribe(new hA(i,c,this)))}}c.closed||c.next(f)}_error(e){const i=this.groups;i&&(i.forEach((a,c)=>{a.error(e)}),i.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((i,a)=>{i.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class hA extends Vr.L{constructor(e,i,a){super(i),this.key=e,this.group=i,this.parent=a}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:i}=this;this.key=this.parent=null,e&&e.removeGroup(i)}}class KD extends dr.y{constructor(e,i,a){super(),this.key=e,this.groupSubject=i,this.refCountSubscription=a}_subscribe(e){const i=new Cc.w,{refCountSubscription:a,groupSubject:c}=this;return a&&!a.closed&&i.add(new G1(a)),i.add(c.subscribe(e)),i}}class G1 extends Cc.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}const QD=new _.OlP("angularfire2.analytics.analyticsCollectionEnabled"),ZD=new _.OlP("angularfire2.analytics.appVersion"),YD=new _.OlP("angularfire2.analytics.appName"),JD=new _.OlP("angularfire2.analytics.debugMode"),XD=new _.OlP("angularfire2.analytics.config"),F0="dataLayer";let zp=(()=>{class t{constructor(i,a,c,f,y,b,D,S){if(this.analyticsInitialized=new Promise(()=>{}),Sl(D)){window[F0]=window[F0]||[];const R=(...K)=>"config"===K[0]&&"firebase"===K[2].origin&&(this.measurementId=K[1],!0),L=K=>{window.gtag=(...ie)=>{K&&K(...ie),"event"===ie[0]&&ie[2].send_to===this.measurementId&&(f&&(ie[2].app_name=f),c&&(ie[2].app_version=c)),y&&"undefined"!=typeof console&&console.info(...ie),function(...Ie){window[F0].push(arguments)}(...ie)}};window[F0].some(R)?(this.analyticsInitialized=Promise.resolve(),L()):this.analyticsInitialized=new Promise(K=>{L((...ie)=>{R(...ie)&&K()})}),b&&this.updateConfig(b),y&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const x=(0,ht.of)(void 0).pipe((0,Gi.QV)(new Kt.HU(S).outsideAngular),Dn(()=>Sl(D)?S.runOutsideAngular(()=>$.e(690).then($.bind($,6690))):Xo.E),(0,Ct.U)(()=>(0,Kt.sI)("analytics","AngularFireAnalytics",i,()=>{const R=i.analytics();return!1===a&&R.setAnalyticsCollectionEnabled(!1),R},[i,a,b,y])),Nh({bufferSize:1,refCount:!1}));return(0,Kt.pX)(this,x,S)}updateConfig(i){return Wp(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},i),{update:!0}))})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Kt.Ot),_.LFG(QD,8),_.LFG(ZD,8),_.LFG(YD,8),_.LFG(JD,8),_.LFG(XD,8),_.LFG(_.Lbi),_.LFG(_.R0b))},t.\u0275prov=_.Yz7({factory:function(){return new t(_.LFG(Kt.Ot),_.LFG(QD,8),_.LFG(ZD,8),_.LFG(YD,8),_.LFG(JD,8),_.LFG(XD,8),_.LFG(_.Lbi),_.LFG(_.R0b))},token:t,providedIn:"any"}),t})(),tI=(()=>{class t{constructor(i,a,c,f){if(this.disposables=[],Fd(a))this.initialized=Promise.resolve();else{let y;this.initialized=f.runOutsideAngular(()=>new Promise(b=>y=b)),this.disposables=[c.authState.subscribe(b=>{i.setUserId(null==b?void 0:b.uid),y()}),c.credential.subscribe(b=>{if(b){const D=b.user.isAnonymous?"anonymous":b.additionalUserInfo.providerId;b.additionalUserInfo.isNewUser&&i.logEvent("sign_up",{method:D}),i.logEvent("login",{method:D})}})]}}ngOnDestroy(){this.disposables.forEach(i=>i.unsubscribe())}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(zp),_.LFG(_.Lbi),_.LFG(_w),_.LFG(_.R0b))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const _A="firebase_screen_id",Qp="outlet",Zp="screen_class",EA="screen_name";let ms=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const rI={},iI=t=>{const e=[t[Zp],t[Qp]].join("#");if(rI.hasOwnProperty(e))return rI[e];{const i=ms++;return rI[e]=i,i}};let oI=(()=>{class t{constructor(i,a,c,f,y,b,D){if(!a||!Sl(y))return this;b.runOutsideAngular(()=>{const S=a.events.pipe(yi(x=>x instanceof af));this.disposable=S.pipe(Dn(x=>{var R;const q=(null===(R=a.parseUrl(a.url.replace(/(?:\().+(?:\))/g,Le=>Le.replace("://",":///"))).root.children[x.snapshot.outlet])||void 0===R?void 0:R.toString())||"",K=a.routerState.root.children.map(Le=>Le).find(Le=>Le.outlet===x.snapshot.outlet);if(!K)return(0,ht.of)(null);let ie=K;for(;ie.firstChild;)ie=ie.firstChild;const Ie=ie.pathFromRoot.map(Le=>{var gt;return null===(gt=Le.routeConfig)||void 0===gt?void 0:gt.path}).filter(Le=>Le).join("/")||"/",Ae={[EA]:Ie,page_path:`/${q}`,firebase_event_origin:"auto",firebase_screen:Ie,[Qp]:x.snapshot.outlet};c&&(Ae.page_title=c.getTitle());let He=K.component;if(He){if(He===Ia){let Le=x.snapshot;for(;Le.firstChild;)Le=Le.firstChild;He=Le.component}}else He=x.snapshot.component;if("string"==typeof He)return(0,ht.of)(Object.assign(Object.assign({},Ae),{[Zp]:He}));if(He){const Le=f.resolveComponentFactory(He);return(0,ht.of)(Object.assign(Object.assign({},Ae),{[Zp]:Le.selector}))}return(0,ht.of)(null)}),yi(x=>x),(0,Ct.U)(x=>Object.assign({firebase_screen_class:x[Zp],[_A]:iI(x)},x)),function(t,e,i,a){return c=>c.lift(new H1(t,undefined,undefined,undefined))}(x=>x[Qp]),(0,rr.zg)(x=>x.pipe(fw((R,L)=>JSON.stringify(R)===JSON.stringify(L)),As(void 0),If(),(0,Ct.U)(([R,L])=>R?Object.assign({firebase_previous_class:R[Zp],firebase_previous_screen:R[EA],firebase_previous_id:R[_A]},L):L),Dn(R=>Wp(this,void 0,void 0,function*(){return D&&(yield D.initialized),yield i.logEvent("screen_view",R)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(zp),_.LFG(Br,8),_.LFG(ua,8),_.LFG(_._Vd),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(tI,8))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),sI=(()=>{class t{constructor(i,a,c){i.app.then(()=>{})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(zp),_.LFG(oI,8),_.LFG(tI,8))},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[zp]}),t})(),aI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t,bootstrap:[nv]}),t.\u0275inj=_.cJS({providers:[],imports:[[Cv,DI,Ov,Kt.hO.initializeApp($D_firebaseConfig,"Kishan-Portfolio"),sI,VD,VI]]}),t})();(0,_.G48)(),Ni().bootstrapModule(aI).catch(t=>console.error(t))}},dt=>{dt(dt.s=9113)}]);